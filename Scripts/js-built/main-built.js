!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,a){r.apply(this,[e,t,a].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(5),i=(r(a),n(1)),o=r(i),s=n(13),l=r(s),u=n(80),c=r(u);l.default.render(o.default.createElement(c.default,null),document.getElementById("epl"))},function(e,t,n){e.exports=n(4)(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(37),l=r(s),u=n(8),c=r(u),f=n(9),d=r(f),p=n(15),h=(r(p),n(11)),m=r(h),y=n(3),g=r(y),v=function(){function e(){i(this,e)}return o(e,[{key:"setBasemap",value:function(e){m.default.dispatch({actionType:d.default.SetBasemap,basemapName:e})}},{key:"showModal",value:function(e){m.default.dispatch({actionType:d.default.ShowModal,modalDisplay:e})}},{key:"hideModal",value:function(){m.default.dispatch({actionType:d.default.HideModal})}},{key:"reset",value:function(){m.default.dispatch({actionType:d.default.Reset})}},{key:"resetMapSize",value:function(){m.default.dispatch({actionType:d.default.ResetMapSize})}},{key:"locateUser",value:function(){m.default.dispatch({actionType:d.default.LocateUser})}},{key:"toggleLeftPanel",value:function(){m.default.dispatch({actionType:d.default.ToggleLeftMenu})}},{key:"toggleDualScreen",value:function(){m.default.dispatch({actionType:d.default.ToggleDualScreen})}},{key:"toggleUserProfile",value:function(){m.default.dispatch({actionType:d.default.ToggleUserProfile})}},{key:"toggleBasemap",value:function(){m.default.dispatch({actionType:d.default.ToggleBasemap})}},{key:"toggleDualBasemap",value:function(){m.default.dispatch({actionType:d.default.ToggleDualBasemap})}},{key:"toggleLegend",value:function(){m.default.dispatch({actionType:d.default.ToggleLegend})}},{key:"toggleBookmark",value:function(){m.default.dispatch({actionType:d.default.ToggleBookmark})}},{key:"toggleBuffer",value:function(){m.default.dispatch({actionType:d.default.ToggleBuffer})}},{key:"toggleDraw",value:function(){m.default.dispatch({actionType:d.default.ToggleDraw})}},{key:"closeLeftPanel",value:function(){m.default.dispatch({actionType:d.default.CloseLeftMenu})}},{key:"closeRightPanel",value:function(){m.default.dispatch({actionType:d.default.CloseRightMenu})}},{key:"closeMenu",value:function(){m.default.dispatch({actionType:d.default.CloseMenu})}},{key:"logout",value:function(){m.default.dispatch({actionType:d.default.Logout})}},{key:"addLayer",value:function(e){m.default.dispatch({actionType:d.default.AddLayer,layerName:e})}},{key:"removeLayer",value:function(e){m.default.dispatch({actionType:d.default.RemoveLayer,layerName:e})}},{key:"removeAllLayers",value:function(){m.default.dispatch({actionType:d.default.RemoveAllLayers})}},{key:"reorderLayer",value:function(e){m.default.dispatch({actionType:d.default.ReorderLayer,order:e})}},{key:"toggleLayerSummary",value:function(e){m.default.dispatch({actionType:d.default.ToggleLayerSummary,layerName:e})}},{key:"retrieveSummaryComplete",value:function(){m.default.dispatch({actionType:d.default.RetrieveSummaryComplete})}},{key:"closeLayerSummaryPanel",value:function(){m.default.dispatch({actionType:d.default.CloseLayerSummary})}},{key:"showLayerStatistics",value:function(e){m.default.dispatch({actionType:d.default.ShowLayerStatistics,layerName:e})}},{key:"hideInfoLayer",value:function(){m.default.dispatch({actionType:d.default.HideInfoLayer})}},{key:"search",value:function(e){m.default.dispatch({actionType:d.default.Search,results:e})}},{key:"clearSearchResults",value:function(){m.default.dispatch({actionType:d.default.ClearSearchResults})}},{key:"identify",value:function(e){l.default.querySiteInfo(e),g.default.setIdentifyPoint(e),m.default.dispatch({actionType:d.default.Identify,latLng:e})}},{key:"identifyComplete",value:function(){m.default.dispatch({actionType:d.default.IdentifyComplete})}},{key:"removeIdentifyMarker",value:function(){m.default.dispatch({actionType:d.default.RemoveIdentifyMarker})}},{key:"loadModal",value:function(e){m.default.dispatch({actionType:d.default.LoadModal,layerName:e})}},{key:"loadModalComplete",value:function(e){m.default.dispatch({actionType:d.default.LoadModalComplete,layerName:e})}},{key:"displayMessage",value:function(e){console.log(e),m.default.dispatch({actionType:d.default.DisplayMessage,message:e})}},{key:"highlightZoomCenterMap",value:function(e,t,n){m.default.dispatch({actionType:d.default.HighlightZoomCenterMap,geometry:e,zoom:t,center:n})}},{key:"searchDataset",value:function(e){m.default.dispatch({actionType:d.default.SearchDataset,layerFilterText:e})}},{key:"addBookmark",value:function(e){var t=c.default.getCenter(),n=c.default.getZoom();m.default.dispatch(a({actionType:d.default.AddBookmark,name:e,center:t,zoom:n},"zoom",n))}},{key:"removeBookmark",value:function(e){m.default.dispatch({actionType:d.default.RemoveBookmark,key:e})}},{key:"searchBookmark",value:function(e){m.default.dispatch({actionType:d.default.SearchBookmark,searchText:e})}},{key:"setLayerOpacity",value:function(e,t){m.default.dispatch({actionType:d.default.SetLayerOpacity,layerName:e,value:t})}},{key:"minimizeFilter",value:function(){m.default.dispatch({actionType:d.default.MinimizeFilter})}},{key:"maximizeFilter",value:function(){m.default.dispatch({actionType:d.default.MaximizeFilter})}},{key:"refreshDisplay",value:function(){m.default.dispatch({actionType:d.default.RefreshDisplay})}},{key:"queryLayerSummary",value:function(e){m.default.dispatch({actionType:d.default.QueryLayerSummary,layerName:e})}},{key:"querySiteInfoComplete",value:function(e){m.default.dispatch({actionType:d.default.QuerySiteInfoComplete,results:e})}},{key:"drawMarker",value:function(){m.default.dispatch({actionType:d.default.DrawMarker})}},{key:"drawPolygon",value:function(){m.default.dispatch({actionType:d.default.DrawPolygon})}},{key:"drawLine",value:function(){m.default.dispatch({actionType:d.default.DrawLine})}},{key:"drawRectangle",value:function(){m.default.dispatch({actionType:d.default.DrawRectangle})}},{key:"drawCircle",value:function(){m.default.dispatch({actionType:d.default.DrawCircle})}},{key:"updateDrawnItemColor",value:function(e){m.default.dispatch({actionType:d.default.UpdateDrawnItemColor,colorId:e})}},{key:"clearDrawing",value:function(){m.default.dispatch({actionType:d.default.ClearDrawing})}},{key:"drawDone",value:function(e){m.default.dispatch({actionType:d.default.DrawDone,result:e})}},{key:"buffer",value:function(){m.default.dispatch({actionType:d.default.Buffer})}},{key:"pointBuffer",value:function(){m.default.dispatch({actionType:d.default.PointBuffer})}},{key:"polygonBuffer",value:function(){m.default.dispatch({actionType:d.default.PolygonBuffer})}},{key:"exportCSV",value:function(e,t){m.default.dispatch({actionType:d.default.ExportCSV,layerName:e,data:t})}},{key:"exportChart",value:function(e,t){m.default.dispatch({actionType:d.default.ExportChart,layerName:e,data:t})}},{key:"addFeatureCollection",value:function(e,t){m.default.dispatch({actionType:d.default.AddFeatureCollection,layerName:e,data:t})}},{key:"bufferDone",value:function(){m.default.dispatch({actionType:d.default.BufferDone})}},{key:"bufferSliderChange",value:function(e){m.default.dispatch({actionType:d.default.BufferSliderChange,value:e})}},{key:"clearBuffer",value:function(){m.default.dispatch({actionType:d.default.ClearBuffer})}},{key:"clearHighlights",value:function(){m.default.dispatch({actionType:d.default.ClearHighlights})}},{key:"changePassword",value:function(e,t,n){l.default.changePassword(e,t,n),m.default.dispatch({actionType:d.default.ChangePassword})}},{key:"changePasswordComplete",value:function(){m.default.dispatch({actionType:d.default.ChangePasswordComplete})}},{key:"hideLayerInfo",value:function(){m.default.dispatch({actionType:d.default.HideLayerInfo})}},{key:"onSpeech",value:function(){m.default.dispatch({actionType:d.default.OnSpeech})}},{key:"offSpeech",value:function(){m.default.dispatch({actionType:d.default.OffSpeech})}},{key:"setSearchText",value:function(e){m.default.dispatch({actionType:d.default.SetSearchText,text:e})}},{key:"setMapsView",value:function(e,t){m.default.dispatch({actionType:d.default.SetMapsView,center:e,zoom:t})}},{key:"fitBounds",value:function(e){m.default.dispatch({actionType:d.default.FitBounds,bounds:e})}},{key:"selectQuickLinkBtn",value:function(e){m.default.dispatch({actionType:d.default.SelectQuickLinkBtn,selectedBtn:e})}},{key:"toggleGeoPhotoQuicklink",value:function(){m.default.dispatch({actionType:d.default.ToggleGeoPhotoQuicklink})}},{key:"toggleGeoTagPhotoDetail",value:function(){m.default.dispatch({actionType:d.default.ToggleGeoTagPhotoDetail})}},{key:"closeGeoPhotoMenu",value:function(){m.default.dispatch({actionType:d.default.GeophotoMenu})}},{key:"updateNearbyJsonData",value:function(e){m.default.dispatch({actionType:d.default.UpdateNearbyJsonData,updateData:e})}},{key:"customGeoPhotoData",value:function(e){m.default.dispatch({actionType:d.default.CustomGeoPhotoData,customData:e})}},{key:"clearPhotoTempMarker",value:function(e){m.default.dispatch({actionType:d.default.ClearPhotoTempMarker,customData:e})}}]),e}();t.default=new v},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(12),u=a(l),c=n(62),f=(a(c),n(1)),d=a(f),p=n(25),h=a(p),m=n(179),y=r(m),g=n(183),v=a(g),_=n(64),b=(r(_),function(){function e(){i(this,e),this.MercatorZoomLevels={0:156543.033928,1:78271.5169639999,2:39135.7584820001,3:19567.8792409999,4:9783.93962049996,5:4891.96981024998,6:2445.98490512499,7:1222.99245256249,8:611.49622628138,9:305.748113140558,10:152.874056570411,11:76.4370282850732,12:38.2185141425366,13:19.1092570712683,14:9.55462853563415,15:4.77731426794937,16:2.38865713397468,17:1.19432856685505,18:.597164283559817,19:.298582141647617,20:.14929107082381,21:.07464553541191,22:.0373227677059525,23:.0186613838529763},this._map=null,this._identifyPoint=null}return s(e,[{key:"getMap",value:function(){return this._map}},{key:"transformToMercator",value:function(e,t){var n=u.default.CRS[e];return n.projection.unproject(t)}},{key:"objectValues",value:function(e){return Object.keys(e).map(function(t){return e[t]})}},{key:"getUniqueArray",value:function(e){if(e instanceof Array)return e.filter(function(e,t,n){return n.indexOf(e)==t})}},{key:"removeUndefinedFromArray",value:function(e){if(e instanceof Array)return e.filter(function(e){return void 0!=e})}},{key:"searchProperty",value:function(e,t){var n=this;if(e){var r=[];if(e instanceof Object)for(var a in e)e.hasOwnProperty(a)&&a==t?r.push(e[a]):e.hasOwnProperty(a)&&(r=r.concat(this.searchProperty(e[a],t)));else e instanceof Array&&e.map(function(e){r=r.concat(n.searchProperty(e,t))});return r}}},{key:"supportGeolocation",value:function(){return navigator.geolocation}},{key:"getCurrentPosition",value:function(e,t){if(this.supportGeolocation()){var n={enableHighAccuracy:!1,timeout:15e3,maximumAge:18e4};navigator.geolocation.getCurrentPosition(e,t,n)}}},{key:"isAbsUrl",value:function(e){return/^(http|\/\/)/i.test(e)}},{key:"isArray",value:function(e){return"undefined"!=typeof e&&e.constructor===Array}},{key:"withinPercentage",value:function(e,t,n){var r=Math.abs(e/t-1);return r<n}},{key:"isInt",value:function(e){if(isNaN(e))return!1;var t=parseFloat(e);return(t||0)===t}},{key:"appendUrlWithParams",value:function(e,t){var n="?";for(var r in t)n+=r+"="+t[r]+"&";return e+n.slice(0,-1)}},{key:"toPointObject",value:function(e,t){return{coordinates:[[e,t]],type:h.default.Point}}},{key:"emptyPromise",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise(function(t){t(e)})}},{key:"arrayToList",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.map(function(e,n){return{title:e,value:t?e:n}})}},{key:"listToOptions",value:function(e,t){return e.map(function(e){return e.value===t?d.default.createElement("option",{key:e.title,value:e.value,selected:!0},e.title):d.default.createElement("option",{key:e.title,value:e.value},e.title)})}},{key:"reversePolygonLatLng",value:function(e){var t,n=e.type,r=function(e){return[e[1],e[0]]};return t=n===h.default.Point?[r(e.coordinates)]:e.coordinates.map(function(e,t){switch(n){case h.default.Line:return r(e);case h.default.Polygon:return e.map(r);case h.default.MultiLine:return e.map(function(e){return r(e)});case h.default.MultiPolygon:return e.map(function(e){return e.map(r)})}}),{coordinates:t,type:n}}},{key:"checkFeatureNullValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"N/A";if("0"==e)return e;if(!e)return t;if(!(""+e).trim().length)return t;var n=(""+e).toUpperCase();return["NIL","NULL","UNDEFINED"].indexOf(n)>-1?t:e}},{key:"addressFormatter",value:function(e,t,n,r,a,i){var o="";return"N/A"!=this.checkFeatureNullValue(e)&&(o+=e+" "),"N/A"!=this.checkFeatureNullValue(t)&&(o+=t+" "),"N/A"!=this.checkFeatureNullValue(n)&&(o+=n+" "),"0"!=r&&"N/A"!=this.checkFeatureNullValue(r)&&(o+="#"+r+" "),"0"!=a&&"N/A"!=this.checkFeatureNullValue(a)&&(o+="- "+a+" "),"N/A"!=this.checkFeatureNullValue(i)&&(o+="S"+i),o}},{key:"formatNumbers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t=t.join("."),t.toString()}},{key:"removeItemFromArray",value:function(e,t){var n=e.indexOf(t);return n>-1&&e.splice(n,1),e}},{key:"parseInt",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){e=(""+e).replace(/,/g,"").trim();var n=!e||!e.length||isNaN(e);return t=t||10,n?0:parseInt(e,t)})},{key:"sqmToSqkm",value:function(e,t){return parseFloat(1e-6*e).toFixed(t)}},{key:"toJson",value:function(e){return JSON.stringify(e)}},{key:"isDomNode",value:function(e){return"object"===("undefined"==typeof Node?"undefined":o(Node))?e instanceof Node:e&&"object"===("undefined"==typeof e?"undefined":o(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}},{key:"isDomElement",value:function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":o(HTMLElement))?e instanceof HTMLElement:e&&"object"===("undefined"==typeof e?"undefined":o(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}},{key:"getFeatureCenter",value:function(e){var t;try{switch(e.type){case h.default.Point:t=[e.coordinates[0][0],e.coordinates[0][1]];break;case h.default.Polygon:t=new u.default.polygon(e.coordinates).getBounds().getCenter();break;case h.default.MultiPolyline:t=new u.default.Polyline(e.coordinates).getBounds().getCenter();break;case h.default.MultiPolygon:t=new u.default.Polygon(e.coordinates).getBounds().getCenter()}}catch(e){}return t}},{key:"polygonsToMultiPolygon",value:function(e){return{coordinates:e.map(function(e){return e.coordinates[0]}),type:h.default.MultiPolygon}}},{key:"parseFloat",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var n=!e||!(""+e).length||isNaN(""+e);return t=t||2,n?0:parseFloat(e).toFixed(t)})},{key:"niceNumberFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n&&"Null"===e)return 0;if(isNaN(e))return e;var r=e+"";if(r.indexOf(".")>-1){var a=r.split(".")[1].length;t=t>a?a:t}return parseInt(e)!=e?y.format(",."+t+"f")(e):y.format(",d")(e)}},{key:"formatChartTooltipByContent",value:function(e){var t=[],n=!0,r=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;s&&s.value>0&&t.push(s)}}catch(e){r=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}var l='<div style="background-color:#fff; border:1px solid #eee; padding: 5px; font-size:12px">',u=!0,c=!1,f=void 0;try{for(var d,p=t[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value;l+="<span>"+h.name+": "+y.format(",d")(h.value)+"</span><br>"}}catch(e){c=!0,f=e}finally{try{!u&&p.return&&p.return()}finally{if(c)throw f}}return l+="</div>"}},{key:"formatChartLabelNumber",value:function(e){return e>0?y.format(",d")(e):""}},{key:"convertSquareMetersToHa",value:function(e){if("string"==typeof e){var t=+e.replace(/,/g,"");return isNaN(t)?e:this.niceNumberFormat(1e-4*t)}return isNaN(e)?e:this.niceNumberFormat(1e-4*+e)}},{key:"makeid",value:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}},{key:"setIdentifyPoint",value:function(e){var t=this._map.latLngToContainerPoint(e);this._identifyPoint={latLng:e,point:t}}},{key:"getIdentifyPoint",value:function(){return this._identifyPoint}},{key:"centerMap",value:function(){this._map.panTo(this._identifyPoint.latLng)}},{key:"setPerfectScrollbar",value:function(e){e&&v.default&&v.default.initialize(e)}},{key:"updatePerfectScroll",value:function(e,t){e.scrollTop=t,v.default.update(e)}},{key:"removePerfectScroll",value:function(e){e&&v.default&&v.default.destroy(e)}},{key:"splitParagraphByLen",value:function(e,t){var n=new RegExp(".{"+t+"}\\S*\\s+","g");return e.replace(n,"$&@").split(/\s+@/)}},{key:"formatDate",value:function(e,t,n){return Date.parseExact(e,t).toString(n)}},{key:"humanize",value:function(e){if(e%100>=11&&e%100<=13)return e+"th";switch(e%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}},{key:"toTitleCase",value:function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}},{key:"convertDate",value:function(e){var t=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"],n=e.getFullYear().toString(),r=e.getMonth(),a=e.getDate().toString(),i=t[r];a.split("");return a+"-"+i+"-"+n}},{key:"sqlToJsDate",value:function(e){var t=e.split("-"),n=t[0],r=(Number(t[1])-1).toString(),a=t[2].split(" "),i=a[0],o=a[1].split(":"),s=o[0],l=o[1],u=o[2].split("."),c=u[0],f=u[1];return new Date(n,r,i,s,l,c,f)}},{key:"generateCSVString",value:function(e){var t="",n="";return e.forEach(function(r,a){n="",0==a?(n=r.join(","),n=0===n.indexOf("ID")?n.replace("ID","_ID"):n,t+=a<e.length?n+"\n":n):(r.forEach(function(e,t){if("object"==("undefined"==typeof e?"undefined":o(e)))if(e.props.text)n+=e.props.text+",";else if(e.props.children){var r="";e.props.children.forEach(function(e){"object"!=("undefined"==typeof e?"undefined":o(e))&&""!=e.trim()&&(r+=e.trim().replace(/[\n\r|\r\n|\n|\r]/gm," ").replace(/'/g,"'")+" ")}),n+='"'+r+'",'}else n+=",";else n+="undefined"!=typeof e&&"Null"!=e?e.toString().indexOf(",")>0?'"'+e+'",':e.toString().replace(/[\n\r|\r\n|\n|\r]/gm," ").replace(/'/g,"'")+",":e+","}),n=n.substring(0,n.length-1),t+=a<e.length?n+"\n":n)}),t}},{key:"generateChartCSVString",value:function(e,t){var n="",r="",a="",i="",o=!1,s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return e&&(a=e.reduce(function(e,t){return e+"~"+t}),n+='X,="'+a.replace(/~/g,'",="')+'"\n'),t.forEach(function(e,l){if(r="",e.constructor===Array)e.forEach(function(e,t){if(e&&e.toString().indexOf(",")>0)r+='"'+e+'",';else if(e){var n=e.toString().replace(/[\n\r|\r\n|\n|\r]/gm," ").replace(/'/g,"'");r+=Math.abs(n)?Math.abs(n)+",":n+","}else r+=e+","});else{if(""===a){for(var u in e)"DATE"===u.toUpperCase()&&(o=!0,i=u),r+=u.toString().indexOf(",")>0?'="'+u+'",':'="'+u.toString().replace(/(\r\n|\n|\r)/gm,"").replace("'","'")+'",',a+=u.toString()+", ";r=r.substring(0,r.length-1),n+=l<t.length?r+"\n":r,r=""}for(var u in e)if(1==o&&u===i){var c=new Date(1e3*parseInt(e[u])),f=c.getFullYear(),d=s[c.getMonth()],p=c.getDate();r+=p+" "+d+" "+f+","}else if(e[u].toString().indexOf(",")>0)r+='"'+e[u]+'",';else{var h=e[u].toString().replace(/[\n\r|\r\n|\n|\r]/gm," ").replace(/'/g,"'");r+=Math.abs(h)?Math.abs(h)+",":h+","}}r=r.substring(0,r.length-1),n+=l<t.length?r+"\n":r}),n}},{key:"capitalizeFirstLetter",value:function(e){return e.split(" ").map(function(e){return"HDB-TAMPINES"===e?"HDB-Tampines":e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}).join(" ")}},{key:"colorLuminance",value:function(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n,r,a="#";for(r=0;r<3;r++)n=parseInt(e.substr(2*r,2),16),n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16),a+=("00"+n).substr(n.length);return a}},{key:"jsonArrayToArray",value:function(e){var t=[];return t.push(Object.keys(e[0])),e.forEach(function(e){t.push(Object.values(e))}),t}}]),e}());t.default=new b},function(e,t){e.exports=vendor1},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(6),s=r(o),l=function(){function e(){a(this,e)}return i(e,[{key:"wait",value:function(e,t,n){return s.default.when.apply(s.default,e).then(t,n)}},{key:"call",value:function(e){return s.default.ajax(e)}},{key:"deferred",value:function(){return s.default.Deferred()}}]),e}();t.default=new l},function(e,t,n){e.exports=n(4)(787)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),u=(r(l),n(11)),c=r(u),f=n(9),d=r(f),p=n(54),h=r(p),m=n(14),y=r(m),g=n(110),v=r(g),_=n(8),b=r(_),E=n(5),w=(r(E),n(3)),S=r(w),k=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.opts=e,n.maps=[],n.layers=[],n.selected=[],n.layersByName={},n.detailedLayer=null,n.layersByCategories=[],n.searchedLayersByCategories=[],n.searchedLayersByCategories1={result:["Maps"]},n.openedCategory=null;for(var r=(n.searchedLayersByCategories1.result,v.default.length),o=r-1;o>=0;o--){var s=v.default[o].layers;s.length;v.default[o].layers.length<=0&&v.default.splice(o,1)}return n.loadLayers(),n.emitChanges(),n}return o(t,e),s(t,[{key:"reset",value:function(){this.removeAllLayers()}},{key:"getTotalLayerCount",value:function(){return this.searchedLayersByCategories.length>0?this.searchedLayersByCategories.map(function(e){return e.layers.length}).reduce(function(e,t){return e+t}):0}},{key:"getLayerByName",value:function(e){return this.layersByName[e]}},{key:"getLayersByCategories",value:function(){return this.searchedLayersByCategories}},{key:"isSelected",value:function(e){for(var t=!1,n=0,r=this.selected.length;n<r;n++)if(this.selected[n].getName()===e){t=!0;break}return t}},{key:"getSelected",value:function(){return this.selected}},{key:"getIdentifyDisplay",value:function(){return this.selected.map(function(e,t){return e.getIdentifyDisplayCache(t)})}},{key:"clearSelected",value:function(){this.selected=[]}},{key:"identify",value:function(e){this.selected.map(function(t){t.identify(e)})}},{key:"addLayer",value:function(e){var t=this.layersByName[e];this.selected.unshift(t),t.setZIndex(this.selected.length),this.resetSelectedZIndex()}},{key:"removeLayer",value:function(e){var t=this;this.selected.forEach(function(n,r){if(n.getName()===e)return void t.selected.splice(r,1)}),this.resetSelectedZIndex()}},{key:"removeAllLayers",value:function(){this.clearSelected()}},{key:"resetSelectedZIndex",value:function(){var e=this.selected.length;this.selected.forEach(function(t,n){t.setZIndex((e-n).toString())})}},{key:"getLegend",value:function(e){return this.layersByName[e].getLegend()}},{key:"getSelectedNames",value:function(){return this.selected.map(function(e){return e.getName()})}},{key:"loadLayers",value:function(){var e=this;v.default.forEach(function(t){var n=void 0,r=void 0,a=t.image;/\.jp(g|eg)$/.test(a)?n="image/jpeg":/\.png$/.test(a)?n="image/png":/\.svg/.test(a)&&(n="image/svg+xml"),r={name:t.category,icon:t.image,type:n,layers:[]},t.layers.forEach(function(t){var n=h.default.getLayer(t.class,t);r.layers.push(n),e.layersByName[n.getName()]=n}),e.layersByCategories.push(r),e.clearSearchDataset()})}},{key:"exportCSV",value:function(e,t){if(null!=t&&t.length>0){var n=(this.selected,document.createElement("a")),r=new Blob([S.default.generateCSVString(t)],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(r,e.replace(" ","_")+".csv");else{var a=URL.createObjectURL(r);n.setAttribute("href",a),n.setAttribute("download",e.replace(" ","_")+".csv"),n.style="visibility:hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}}}},{key:"addFeatureCollectionToMap",value:function(e,t){var n,r,a=this.layersByName[e];r=L.layerGroup(),a.layerGroup?(a.layerGroup.forEach(function(e){a._map.removeLayer(e)}),a.layerGroup=[]):a.layerGroup=[];for(var i in t)if(t.hasOwnProperty(i)){n=[];for(var o=0;o<t[i][0].length;o++){var s=S.default.reversePolygonLatLng(t[i][0][o][0]).coordinates[0],l=L.polygon(s,t[i][1]);l.addTo(r),a.layerGroup.push(l)}}a._map.addLayer(r)}},{key:"filterDataset",value:function(e){var t=new RegExp(e,"i");return this.layersByCategories.map(function(e){return{name:e.name,icon:e.icon,type:e.type,layers:e.layers.filter(function(e){return t.test(e.getName())})}}).filter(function(e){return e.layers.length>0})}},{key:"searchDataset",value:function(e){this.searchedLayersByCategories=this.filterDataset(e)}},{key:"searchLayer",value:function(e){var t=[];return this.filterDataset(e).forEach(function(e){t=t.concat(e.layers)}),t.filter(function(e){return"undefined"!=typeof e.opts.search})}},{key:"retriveLayerSummary",value:function(e){this.detailedLayer=this.layersByName[e],this.detailedLayer.retrieveSummaryAjax()}},{key:"getSummary",value:function(){return this.detailedLayer?this.detailedLayer.getSummaryComponent():null}},{key:"getInfographics",value:function(){return this.detailedLayer?this.detailedLayer.getInfographicsComponent():null}},{key:"clearSearchDataset",value:function(){this.searchedLayersByCategories=this.layersByCategories}},{key:"reorderSelected",value:function(e){var t=this;this.selected=e.map(function(e){return t.selected[e]}),this.resetSelectedZIndex()}},{key:"setLayerOpacity",value:function(e,t){var n=this.getLayerByName(e);n.setOpacity(t/100)}},{key:"hasLayerWithFilter",value:function(){for(var e=!1,t=0,n=this.selected.length;t<n;t++)if(this.selected[t].showsFilterbox()){e=!0;break}return e}},{key:"getSelectedWithFilterbox",value:function(){return this.selected.filter(function(e){return e.showsFilterbox()})}},{key:"addedLayerHasInfoDisplay",value:function(){var e=this.selected[0];return!!e&&void 0!==e.getLayerInfo()}},{key:"getLatestLayer",value:function(){return this.selected[0]}},{key:"getLatestLayerInfo",value:function(){var e=this.selected[0];return e&&e.getLayerInfo()?e.getLayerInfo():""}},{key:"latestLayerHasInfo",value:function(){return""!==this.getLatestLayerInfo()}},{key:"getOpenedCategory",value:function(){return this.openedCategory}},{key:"setOpenedCategory",value:function(e){this.openedCategory=e}}]),t}(y.default),C=new k;C.dispatchToken=c.default.register(function(e){switch(e.actionType){case d.default.RefreshDisplay:C.emitChanges();break;case d.default.Reset:c.default.waitFor([b.default.dispatchToken]),C.reset(),C.emitChanges();break;case d.default.AddLayer:c.default.waitFor([b.default.dispatchToken]),C.isSelected(e.layerName)||(C.addLayer(e.layerName),C.emitChanges());break;case d.default.RemoveLayer:c.default.waitFor([b.default.dispatchToken]),C.removeLayer(e.layerName),C.emitChanges();break;case d.default.RemoveAllLayers:c.default.waitFor([b.default.dispatchToken]),C.removeAllLayers(),C.emitChanges();break;case d.default.ReorderLayer:C.reorderSelected(e.order),C.emitChanges();break;case d.default.ShowLayerSummary:break;case d.default.ShowLayerStatistics:break;case d.default.Identify:C.identify(e.latLng);break;case d.default.IdentifyComplete:C.emitChanges();break;case d.default.SearchDataset:C.searchDataset(e.layerFilterText),C.emitChanges();break;case d.default.QueryLayerSummary:C.retriveLayerSummary(e.layerName);break;case d.default.RetrieveSummaryComplete:C.emitChanges();break;case d.default.SetLayerOpacity:C.setLayerOpacity(e.layerName,e.value);break;case d.default.ExportCSV:C.exportCSV(e.layerName,e.data);break;case d.default.AddFeatureCollection:C.addFeatureCollectionToMap(e.layerName,e.data),C.emitChanges();break;case d.default.LoadModalComplete:C.loadModalComplete(e.layerName)}}),t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(12),u=r(l),c=n(19),f=r(c),d=n(3),p=r(d),h=n(14),m=r(h),y=n(54),g=r(y),v=n(69),_=r(v),b=n(32),E=r(b),w=n(9),S=r(w),k=n(65),C=(r(k),
n(10)),N=r(C),O=n(11),P=r(O),T=n(2),L=r(T),M=n(25),A=r(M),B=n(7),I=r(B),D=n(108),x=r(D),U=n(62);r(U);n(182);var R=n(20),j=r(R),F=n(35),G=r(F),H=n(26),Z=r(H),W=n(118),V=r(W),z=n(17),K=r(z),Y=n(36),q=r(Y),J=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.defaultBasemapName="OneMap 2.0",e.dualDefaultName="OpenStreetMap",e.currBasemapName={},e.center=[1.3607837274175492,103.8059931081907],e.zoom=12,e.basemaps={},e.loadCrs(),e.loadBasemap(),e._maps=[],e.firstMap=null,e.configMap=null,e.siteInfo={},e.highlights=[],e.icon=u.default.icon({iconUrl:"Content/img/information.png",iconAnchor:[16,37]}),e.identifyMarker=u.default.marker([0,0],{icon:e.icon}),e.mapOnClickIdentifyHandler=function(e){L.default.identify(e.latlng)},e.circles=[],e}return o(t,e),s(t,[{key:"initialize",value:function(e,t){var n=this,r=u.default.map(t),a="";this.currBasemapName[e]=this.defaultBasemapName,r.domNode=t,r.mapId=e,e===E.default.Main&&(this.configMap=this.firstMap=r,p.default._map=r,this.enableMapOnClickIdentifyHandler(),r.on("zoomend",function(e){for(var t=1,r=n._maps.length;t<r;t++)n._maps[t].setZoom(e.target.getZoom())}),r.on("move",function(e){for(var t=1,r=n._maps.length;t<r;t++)n._maps[t].setView(e.target.getCenter())}),r.on("basemapchange",function(e){var t=I.default.getSelected();t.map(function(e){if(r.options.crs&&r.options.crs.code){var t=r.options.crs.code.split(":")[1];e.setSpatialReference(t)}})}),a=this.defaultBasemapName,this.configureBasemap()),this._maps.push(r),this.reset(r),e===E.default.Dual&&(a=this.dualDefaultName,this.configureDualBasemap()),this.setBasemap(a,!0),this.configDrawManager(r),this.configClusterManager(r)}},{key:"destroy",value:function(e){for(var t=0,n=this._maps.length;t<n;t++)if(0===e&&L.default.reset(),e===this._maps[t].mapId){this._maps[t].remove(),this._maps.splice(t,1);break}this.currBasemapName={}}},{key:"identify",value:function(e){this.identifyMarker.setLatLng(e),this.identifyMarker.addTo(this.firstMap)}},{key:"resetAll",value:function(){var e=this;this._maps.map(function(t){e.reset(t)}),j.default.clearBuffer(),G.default.clearDrawing(),K.default.clearGeoPhotoLayer(),q.default.clearUI(),this.removeCircles(),u.default.DomUtil.get("loading-div").style.display="none"}},{key:"reset",value:function(e){this.clearHighlights(e),e.setView(this.getDefaultCenter(),this.getDefaultZoom()),this.setBasemapByMap(e,e.mapId===E.default.Main?this.defaultBasemapName:this.dualDefaultName),this.identifyMarker.remove()}},{key:"resetMapSize",value:function(){this._maps.map(function(e,t){e.invalidateSize()})}},{key:"addLayer",value:function(e){this.firstMap&&(u.default.DomUtil.get("loading-div").style.display="block",e.addTo(this.firstMap),e.setOpacity(e.defaultSettings.defaultOpacity))}},{key:"removeLayer",value:function(e){e.removeMap()}},{key:"removeAllLayers",value:function(e){var t=this;e.map(function(e){t.removeLayer(e)})}},{key:"getCenter",value:function(){return this.firstMap.getCenter()}},{key:"getZoom",value:function(){return this.firstMap.getZoom()}},{key:"getDefaultCenter",value:function(){return this.center}},{key:"getDefaultZoom",value:function(){return this.zoom}},{key:"getSiteInfo",value:function(){return this.siteInfo}},{key:"setMapsView",value:function(e,t){this._maps.map(function(n,r){n.setView(e,t)})}},{key:"fitBounds",value:function(e){this._maps.map(function(t,n){t.fitBounds(e)})}},{key:"isCurrBasemap",value:function(e,t){return t===this.currBasemapName[e]}},{key:"setBasemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.configMap?this.setBasemapByMap(this.configMap,e,t):console.log("setBasemap: no configMap")}},{key:"configureBasemap",value:function(){this.configMap=this.firstMap}},{key:"configureDualBasemap",value:function(){this.configMap=this._maps[1]}},{key:"setBasemapByMap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e||!n&&this.isCurrBasemap(e.mapId,t);var r=e.getCenter(),a=this.getBasemap(t),i=this.getBasemap(this.currBasemapName[e.mapId]);i&&i.remove(e),a.addTo(e),e.options.crs=a.crs?a.crs:u.default.CRS.EPSG3857,this.currBasemapName[e.mapId]=t,e._resetView(r,e.getZoom(),!0),e.fire("basemapchange")}},{key:"getBasemap",value:function(e){return this.basemaps[e?e:this.currBasemapName[E.default.Main]]}},{key:"getBasemaps",value:function(){return this.BasemapConfig}},{key:"initDevEnv",value:function(){Object.keys(N.default).map(function(e){N.default[e]=p.default.buildToDeployServer(N.default[e])})}},{key:"loadBasemap",value:function(){var e=this;this.BasemapConfig=_.default,this.BasemapConfig.forEach(function(t){var n=function(){e.setBasemap(e.defaultBasemapName,!0)};e.basemaps[t.name]=g.default.getBasemap(t.class,t,t.name===e.defaultBasemapName?n:null)})}},{key:"loadCrs",value:function(){f.default.DynamicMapLayer.prototype.setZIndex=function(e){this.options.zIndex=e,this._currentImage&&this._currentImage.setZIndex(e)},u.default.ImageOverlay.prototype.setZIndex=function(e){this.options.zIndex=e,this.updateZIndex()},u.default.ImageOverlay.prototype.updateZIndex=function(e){this._map&&(this._image.style.zIndex=this.options.zIndex)},u.default.Proj.CRS.prototype.scale=function(e){var t=this._lodMap?this._lodMap[e]:e,n=this._scales?this._scales:p.default.MercatorZoomLevels;return n[t]},u.default.CRS.SVY21=new u.default.Proj.CRS("EPSG:3414",'PROJCS["SVY21",GEOGCS["SVY21[WGS84]",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Transverse_Mercator"],PARAMETER["False_Easting",28001.642],PARAMETER["False_Northing",38744.572],PARAMETER["Central_Meridian",103.8333333333333],PARAMETER["Scale_Factor",1.0],PARAMETER["Latitude_Of_Origin",1.366666666666667],UNIT["Meter",1.0]]',{origin:[-5878011.89743302,10172511.897433],resolutions:[76.43721954110575,38.218609770552874,19.109304885276437,9.554652442638218,4.777326221319109,2.3886631106595546,1.1943315553297773,.5971657776648887,.2984505969011938],_lodMap:{11:0,12:1,13:2,14:3,15:4,16:5,17:6,18:7,19:8}})}},{key:"locateUser",value:function(){var e=this;p.default.getCurrentPosition(function(t){var n=p.default.toPointObject(t.coords.latitude,t.coords.longitude);e.highlightZoomCenter(n)},function(e){switch(e.code){case e.PERMISSION_DENIED:L.default.displayMessage("Unable to detect current location.");break;case e.POSITION_UNAVAILABLE:L.default.displayMessage("Position is currently unavailable.");break;case e.PERMISSION_DENIED_TIMEOUT:L.default.displayMessage("User did not grant/deny permission.");break;case e.UNKNOWN_ERROR:L.default.displayMessage("Unable to detect current location.")}})}},{key:"createCircle",value:function(e,t,n){var r=u.default.circle(e,t,n).addTo(this._maps[0]);return this.circles.push(r),r}},{key:"removeCircles",value:function(){this.circles.forEach(function(e){e.remove()}),this.circles=[]}},{key:"highlightZoomCenter",value:function(e,t,n){var r=this;u.default.Icon.Default.imagePath="Content/img/leaflet/";var a=void 0,i=this._maps[0],o={zIndex:1e3,clickable:!1};if(e)switch(this.highlights.length>0&&this.clearHighlights(i),e.type){case A.default.Point:a=new u.default.marker(e.coordinates[0]||e.coordinates,o).addTo(i),this.highlights.push(a);break;case A.default.Line:a=new u.default.polygon(e.coordinates,o).addTo(i).bringToFront(),this.highlights.push(a);break;case A.default.Polygon:e.coordinates.map(function(e){a=new u.default.polygon(e,o).addTo(i).bringToFront(),r.highlights.push(a)});break;case A.default.MultiLine:a=new u.default.polyline(e.coordinates,o).addTo(i).bringToFront(),this.highlights.push(a);break;case A.default.MultiPolygon:a=new u.default.polygon(e.coordinates,o).addTo(i).bringToFront(),this.highlights.push(a);break;default:console.log("highlightZoomCenter: Unknown geometry type")}n&&t?this.setMapsView(n,t):t&&this.setMapsView(a.getBounds().getCenter(),t)}},{key:"clearAllMapHighlights",value:function(){var e=this;this._maps.map(function(t){e.clearHighlights(t)})}},{key:"removeIdentifyMarker",value:function(){var e=this;this._maps.map(function(t){e.identifyMarker.remove()})}},{key:"clearHighlights",value:function(e){this.highlights.forEach(function(e){e.remove()}),this.highlights=[]}},{key:"invalidateMapSize",value:function(){this._maps.map(function(e){e.invalidateSize()})}},{key:"storeSiteInfo",value:function(e){this.siteInfo=e}},{key:"configDrawManager",value:function(e){this.drawManager=new x.default(e),this.drawManager.initialize()}},{key:"configClusterManager",value:function(e){this.clusterManager=new V.default(e),this.clusterManager.initialize()}},{key:"disableMapOnClickIdentifyHandler",value:function(){var e=this.firstMap;if(e){var t=this.mapOnClickIdentifyHandler;e.off("click",t)}}},{key:"enableMapOnClickIdentifyHandler",value:function(){var e=this.firstMap;if(e){var t=this.mapOnClickIdentifyHandler;e.on("click",t)}}}]),t}(m.default),Q=new J;Q.dispatchToken=P.default.register(function(e){if(!Z.default.isInitialized())switch(e.actionType){case S.default.SetBasemap:Q.setBasemap(e.basemapName),Q.emitChanges();break;case S.default.Reset:Q.resetAll(),Q.removeAllLayers(I.default.getSelected()),Q.emitChanges();break;case S.default.AddLayer:I.default.isSelected(e.layerName)||Q.addLayer(I.default.getLayerByName(e.layerName));break;case S.default.RemoveLayer:Q.removeLayer(I.default.getLayerByName(e.layerName)),Q.clearAllMapHighlights();break;case S.default.RemoveAllLayers:Q.removeAllLayers(I.default.getSelected()),Q.clearAllMapHighlights(),Q.emitChanges();break;case S.default.ShowLayerSummary:break;case S.default.ShowLayerStatistics:break;case S.default.LocateUser:Q.locateUser();break;case S.default.HighlightZoomCenterMap:Q.highlightZoomCenter(e.geometry,e.zoom,e.center);break;case S.default.Identify:Q.identify(e.latLng);break;case S.default.ToggleBasemap:Q.configureBasemap();break;case S.default.ToggleDualBasemap:Q.configureDualBasemap();break;case S.default.ResetMapSize:Q.resetMapSize();break;case S.default.QuerySiteInfoComplete:Q.storeSiteInfo(e.results),Q.emitChanges();break;case S.default.ClearHighlights:Q.clearAllMapHighlights();break;case S.default.SetMapsView:Q.setMapsView(e.center,e.zoom);break;case S.default.FitBounds:Q.fitBounds(e.bounds);break;case S.default.RemoveIdentifyMarker:Q.removeIdentifyMarker()}}),t.default=Q},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SetBasemap:0,Reset:1,LocateUser:2,ToggleDualScreen:3,ToggleLeftMenu:4,ToggleUserProfile:5,ToggleBasemap:6,ToggleLegend:7,CloseMenu:8,CloseLeftMenu:9,CloseRightMenu:10,Logout:11,AddLayer:12,RemoveLayer:13,RemoveAllLayers:14,ReorderLayer:15,ToggleLayerSummary:16,CloseLayerSummary:17,ShowLayerStatistics:18,HideInfoLayer:19,Search:20,ClearSearchResults:21,Identify:22,IdentifyComplete:23,DisplayMessage:24,HighlightZoomCenterMap:25,SearchDataset:26,RetrieveSummaryComplete:27,ToggleBookmark:28,ToggleBuffer:29,ToggleDraw:30,AddBookmark:31,RemoveBookmark:32,ToggleDualBasemap:33,ResetMapSize:34,ShowModal:35,HideModal:36,SetLayerOpacity:37,MinimizeFilter:38,MaximizeFilter:39,RefreshDisplay:40,LoadModal:41,LoadModalComplete:42,QueryLayerSummary:43,QuerySiteInfoComplete:44,DrawMarker:45,DrawPolygon:46,DrawLine:47,DrawCircle:48,DrawRectangle:49,ClearDrawing:50,DrawDone:51,UpdateDrawnItemColor:52,PointBuffer:53,PolygonBuffer:54,BufferDone:55,ClearBuffer:56,BufferSliderChange:57,ClearHighlights:58,ChangePassword:59,ChangePasswordComplete:60,HideLayerInfo:61,Buffer:62,OnSpeech:63,OffSpeech:64,SetSearchText:65,SetMapsView:66,FitBounds:67,ExportCSV:68,AddFeatureCollection:69,RemoveIdentifyMarker:70,SelectQuickLinkBtn:71,ToggleGeoPhotoQuicklink:72,ToggleGeoTagPhotoDetail:73,UpdateNearbyJsonData:74,GeophotoMenu:80,CustomGeoPhotoData:81,ClearPhotoTempMarker:82}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={OneMapSearch:"https://developers.onemap.sg/commonapi/search",OneMapToken:"https://developers.onemap.sg/privateapi/auth/get/getToken",OneMapReverseAddressSearch:"https://developers.onemap.sg/privateapi/commonsvc/revgeocode"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(181),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"handleViewAction",value:function(e){this.dispatch({source:"ViewAction",action:e})}}]),t}(u.default.Dispatcher);t.default=new c},function(e,t,n){e.exports=n(27)(242)},function(e,t,n){e.exports=n(4)(273)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(65),u=r(l),c="change",f=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),s(t,[{key:"emitChanges",value:function(){this.emit(c)}},{key:"addChangeListener",value:function(e){this.on(c,e)}},{key:"removeChangeListener",value:function(e){this.removeListener(c,e)}}]),t}(u.default);t.default=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={Basemap:0,UserProfile:1,Legend:2,Draw:3,Buffer:4,Bookmark:5,LeftPanel:6,LeftPanelWithSummary:7,RightPanel:8,Modal:9,GeoTagPhotoDetail:10};t.FilterState={Hidden:0,Minimize:1,Maximize:2}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(6),u=r(l),c=n(29),f=r(c),d=n(1),p=r(d),h=n(166),m=n(41),y=r(m),g=n(91),v=r(g),_=n(2),b=r(_),E=n(63),w=(r(E),function(e){function t(e){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),s(t,null,[{key:"close",value:function(){u.default.fancybox.close(!0)}}]),s(t,[{key:"componentDidMount",value:function(){this.props.display.embedded?this.openPopupbox():this.openFancybox()}},{key:"openFancybox",value:function(){(0,y.default)(u.default);var e=this.props.display.type;e===v.default?u.default.fancybox.open(this.props.display.props.images,{afterClose:function(e){b.default.hideModal()}}):e===f.default?u.default.fancybox.open([this.refs.popup],{type:"iframe",href:this.props.display.props.url,afterClose:function(e){b.default.hideModal()}}):u.default.fancybox.open([this.refs.popup],{type:"inline",helpers:{title:{type:"inside",position:"top"}},afterClose:function(e){b.default.hideModal()}})}},{key:"openPopupbox",value:function(){var e=p.default.createElement("div",null,this.props.display.content);h.PopupboxManager.open({content:e})}},{key:"componentWillUnmount",value:function(){}},{key:"onClosed",value:function(){b.default.hideModal()}},{key:"render",value:function(){var e=null;return e=this.props.display.embedded?p.default.createElement("div",{ref:"popup"},p.default.createElement(h.PopupboxContainer,{onClosed:this.onClosed.bind(this)})):p.default.createElement("div",{ref:"popup"},this.props.display)}}]),t}(p.default.Component));t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(14),u=r(l),c=n(9),f=r(c),d=n(11),p=r(d),h=n(8),m=r(h),y=n(31),g=(r(y),n(2)),v=(r(g),n(55)),_=(r(v),n(12)),b=(r(_),n(130)),E=r(b),w=n(6),S=r(w),k=n(5),C=(r(k),function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.showCluster=!1,e._clusterManager=null,e.changeClassName="",e.imageFiles=[],e.nearbyImageFiles=[],e.nearbyJsonData=[],e.uatJsonData=[],e.customImageData=[],e.clearPhotoTempMarkerStatus=!1,e}return o(t,e),s(t,[{key:"getGeoTagPhotoCount",value:function(){return this.uatJsonData.length}},{key:"getImageDataFromUAT",value:function(){console.log("fetch image data from uat..."),this.processImageDataFromUAT()}},{key:"processImageDataFromUAT",value:function(){for(var e=this,t=0;t<=1e3;t++){var n="";t<10?n="000":t>=10&&t<100?n="00":t>=100&&t<1e3?n="0":1e3==t&&(n="");var r="",a=S.default.ajax({url:r,async:!0,type:"GET",dataType:"jsnop",beforeSend:function(e,t){e.url=t.url}});a.fail(function(t,n){0===t.status||404==t.status||500==t.status||200==t.status&&e.getImageMetaDataFromUAT(t.url)})}}},{key:"getImageMetaDataFromUAT",value:function(e){var t=null,n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){t=n.response,E.default.getData(t,function(){var t=E.default.getTag(this,"GPSLatitude"),n=E.default.getTag(this,"GPSLongitude"),r=(E.default.getTag(this,"GPSLongitude"),E.default.getTag(this,"DateTime"),t[0].numerator/t[0].denominator),a=t[1].numerator/t[1].denominator,i=t[2].numerator/t[2].denominator,o=r+(a/60+i/3600),s=n[0].numerator/n[0].denominator,l=n[1].numerator/n[1].denominator,u=n[2].numerator/n[2].denominator,c=s+(l/60+u/3600),f=E.default.getAllTags(this),d=(E.default.getTag(this,"Make"),E.default.getTag(this,"Model"),[]);d.push(f),d[0].Make="DJI",d[0].Model="FC300X",d[0].DateTimeOriginal="",d[0].DateTimeDigitized="",d[0].undefined="",d[0].LatLng={lat:o,lng:c},d[0].Url=e,console.log(JSON.stringify(d[0],null,2)),d=[]})},n.send()}},{key:"fetchData",value:function(e){var t=this;S.default.cloudinary.config({cloud_name:"demophotoupload",api_key:"289529251592669"});var n=S.default.cloudinary.image(e[0].jsonType,{type:"list",image_metadata:!0,tags:!0});S.default.ajax({dataType:"json",url:n[0].src,success:function(e){var n=[];e.resources.map(function(e,t){n.push({id:e.public_id,format:e.format,lat:e.context.custom.lat,lng:e.context.custom.lng})}),t.updateData(n,e.returnJsonType)},error:function(e,t,n){console.log(n)}})}},{key:"getCloudUrl",value:function(e){S.default.cloudinary.config({cloud_name:"demophotoupload",api_key:"289529251592669"});var t=S.default.cloudinary.image(e,{type:"list",image_metadata:!0,tags:!0});return t[0].src}},{key:"getClusterStatus",value:function(){return this.showCluster}},{key:"showGeoPhotoQuicklink",value:function(){this._clusterManager=m.default.clusterManager;var e=this._clusterManager;e&&!this.showCluster?(this.showCluster=!0,this.changeClassName="off",e.showGeoPhotoLayer(this.uatJsonData,"uat")):(this.showCluster=!1,e.clearGeoPhotoLayer())}},{key:"clearGeoPhotoLayer",value:function(){this.showCluster&&(m.default.clusterManager.clearGeoPhotoLayer(),this.showCluster=!1),1==this.clearPhotoTempMarkerStatus&&(m.default.clusterManager.clearGeoPhotoLayer(),this.clearPhotoTempMarkerStatus=!1)}},{key:"getClassName",value:function(){return this.changeClassName}},{key:"getUATImageData",value:function(){return this.uatJsonData}},{key:"getImageData",value:function(){return this.imageFiles}},{key:"getNearbyImageData",value:function(){return this.nearbyImageFiles}},{key:"addImageFile",value:function(e){var t=this;E.default.getData(e,function(){var n=E.default.getAllTags(this);console.log(n);var r=n.GPSLatitude[0].numerator/n.GPSLatitude[0].denominator,a=n.GPSLatitude[1].numerator/n.GPSLatitude[1].denominator,i=n.GPSLatitude[2].numerator/n.GPSLatitude[2].denominator,o=r+(a/60+i/3600),s=n.GPSLongitude[0].numerator/n.GPSLongitude[0].denominator,l=n.GPSLongitude[1].numerator/n.GPSLongitude[1].denominator,u=n.GPSLongitude[2].numerator/n.GPSLongitude[2].denominator,c=s+(l/60+u/3600);t.imageFiles.push({name:e.name,lat:o,lng:c,DateTime:n.DateTime})})}},{key:"updateNearbyData",value:function(e){this.nearbyJsonData=e}},{key:"getNearbyJsonData",value:function(){return this.nearbyJsonData}},{key:"customGeoPhotoData",value:function(e){m.default.clusterManager.showGeoPhotoLayer(e,"custom")}},{key:"clearPhotoTempMarker",value:function(e){this.clearPhotoTempMarkerStatus=e,this.clearGeoPhotoLayer()}}]),t}(u.default)),N=new C;N.dispatchToken=p.default.register(function(e){switch(e.actionType){case f.default.ToggleGeoPhotoQuicklink:N.showGeoPhotoQuicklink(),N.emitChanges();break;case f.default.AddImageFile:N.addImageFile(e.file),N.emitChanges();break;case f.default.UpdateNearbyJsonData:N.updateNearbyData(e.updateData),N.emitChanges();break;case f.default.CustomGeoPhotoData:N.customGeoPhotoData(e.customData),N.emitChanges();break;case f.default.ClearPhotoTempMarker:N.clearPhotoTempMarker(e.customData),N.emitChanges()}}),t.default=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(5),u=(r(l),n(14)),c=r(u),f=n(10),d=(r(f),n(9)),p=r(d),h=n(11),m=r(h),y=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.searchResults=[],e}return o(t,e),s(t,[{key:"getSearchResults",value:function(){return this.searchResults}},{key:"setResults",value:function(e){this.searchResults=e}}]),t}(c.default),g=new y;g.dispatchToken=m.default.register(function(e){switch(e.actionType){case p.default.Search:g.setResults(e.results),g.emitChanges();break;case p.default.ClearSearchResults:g.setResults([]),g.emitChanges()}}),t.default=g},function(e,t,n){e.exports=n(27)(779)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(14),c=r(u),f=n(9),d=r(f),p=n(11),h=r(p),m=n(8),y=r(m),g=n(2),v=r(g),_=n(12),b=r(_),E=n(7),w=r(E),S=n(10),k=r(S),C=n(5),N=r(C),O=n(3),P=r(O),T=n(19),L=r(T),M=n(21),A=(r(M),function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._bufferDrawCreated="draw:created",e._bufferDrawStop="draw:drawstop",e._color="#f00",e._units="kilometers",e.isPoint=!0,e.isPolygon=!1,e.radius=400,e._map=null,e._icon=b.default.icon({iconUrl:"Content/img/red-pushpin.png",iconAnchor:[16,37]}),e._bufferDrawnItem=null,e._bufferDrawnItems=new b.default.featureGroup,e._isBufferOn=!1,e.queried=!1,e}return o(t,e),l(t,[{key:"initialize",value:function(){this._map||(this._map=y.default.firstMap,this._map.addLayer(this._bufferDrawnItems))}},{key:"enableBufferDrawHandler",value:function(){this._map&&(this._map.on(this._bufferDrawCreated,this.bufferDrawCreatedHandler,this),this._map.on(this._bufferDrawStop,this.reactBufferDrawStopHandler))}},{key:"disableBufferDrawHandler",value:function(){this._map&&(this._map.off(this._bufferDrawCreated,this.bufferDrawCreatedHandler,this),this._map.off(this._bufferDrawStop,this.reactBufferDrawStopHandler))}},{key:"setPointBufferStatus",value:function(e){this.isPoint=e}},{key:"getPointBufferStatus",value:function(){return this.isPoint}},{key:"setPolygonBufferStatus",value:function(e){this.isPolygon=e}},{key:"getPolygonBufferStatus",value:function(){return this.isPolygon}},{key:"setRadius",value:function(e){this.radius=e}},{key:"getRadius",value:function(){return this.radius}},{key:"setQueried",value:function(e){this.queried=e}},{key:"getQueried",value:function(){return this.queried}},{key:"pointBuffer",value:function(){this.initialize(),this.setPolygonBufferStatus(!1),this.setPointBufferStatus(!0),this.disableBufferDrawnItem(),this.disableBufferDrawHandler(),this.drawBufferPoint(),this.enableBufferDrawnItem(),this.enableBufferDrawHandler()}},{key:"drawBufferPoint",value:function(){this._bufferDrawnItem=new b.default.Draw.Marker(this._map,{icon:this._icon})}},{key:"pointBufferByCoords",value:function(e){this.disableBufferDrawHandler(),this.initialize(),this.setPolygonBufferStatus(!1),this.setPointBufferStatus(!0);var t=new b.default.marker(e,{icon:this._icon});this._bufferDrawnItems.addLayer(t);var n=this.bufferDrawCircle(e);this.queryBufferableLayers(n,"marker")}},{key:"polygonBuffer",value:function(){this.initialize(),this.setPointBufferStatus(!1),this.setPolygonBufferStatus(!0),this.disableBufferDrawnItem(),this.disableBufferDrawHandler(),this.drawBufferPolygon(),this.enableBufferDrawnItem(),this.enableBufferDrawHandler()}},{key:"drawBufferPolygon",value:function(){this._bufferDrawnItem=new b.default.Draw.Polygon(this._map,{showArea:!1,allowIntersection:!1,shapeOptions:{color:this._color}})}},{key:"clearBuffer",value:function(){this.setPointBufferStatus(!1),this.setPolygonBufferStatus(!1),this.clearBufferDrawnItems(),this.disableBufferDrawnItem()}},{key:"clearBufferDrawnItems",value:function(){if(this._bufferDrawnItems){this._map;this._bufferDrawnItems.eachLayer(function(e){e.remove()})}}},{key:"bufferDone",value:function(){this.setPointBufferStatus(!1),this.setPolygonBufferStatus(!1)}},{key:"bufferSliderChange",value:function(e){this.setRadius(e)}},{key:"bufferDrawCreatedHandler",value:function(e){switch(this._bufferDrawnItems.addLayer(e.layer),e.layerType){case"marker":var t=e.layer.getLatLng(),n=this.bufferDrawCircle(t);this.queryBufferableLayers(n,e.layerType);break;case"polygon":var r=e.layer.toGeoJSON();if(this.getRadius()>0){var a=this.bufferDrawPolygon(r),i=L.default.Util.geojsonToArcGIS(a);this.queryBufferableLayers(i.geometry,e.layerType)}else{var o=L.default.Util.geojsonToArcGIS(r);this.queryBufferableLayers(o.geometry,e.layerType)}}}},{key:"bufferDrawCircle",value:function(e){var t=this.getRadius(),n=b.default.circle(e,t,{opacity:.8,weight:1,fillOpacity:.4});return this._bufferDrawnItems.addLayer(n),n}},{key:"bufferDrawPolygon",value:function(e){var t=.001*this.getRadius(),n=turf.buffer(e,t,this._units),r={style:{weight:2,color:this._color}},a=b.default.geoJson(n,r);return this._bufferDrawnItems.addLayer(a),n}},{key:"reactBufferDrawStopHandler",value:function(e){}},{key:"enableBufferDrawnItem",value:function(){var e=this;this._bufferDrawnItem&&setTimeout(function(){e._bufferDrawnItem.enable()},0)}},{key:"disableBufferDrawnItem",value:function(){this._bufferDrawnItem&&this._bufferDrawnItem.disable()}},{key:"queryBufferableLayers",value:function(e,t){v.default.buffer();var n=this,r=w.default.selected;return r.length?void r.forEach(function(r){switch(t){case"marker":n.convertCircleToPolygon(e,function(e){r.bufferTask(e)});break;case"polygon":r.bufferTask(e)}}):void v.default.bufferDone()}},{key:"convertCircleToPolygon",value:function(e,t){N.default.wait([this.runArcGISBufferPointService(e)],function(e){"object"===("undefined"==typeof e?"undefined":s(e))&&e.geometries?t(e.geometries[0]):v.default.displayMessage("Convert circle to polygon error")},function(e){v.default.displayMessage("Convert circle to polygon error")})}},{key:"runArcGISBufferPointService",value:function(e){var t={geometryType:"esriGeometryPoint",geometries:[{x:e.getLatLng().lng,y:e.getLatLng().lat,spatialReference:{wkid:4326}}]};return N.default.call({url:P.default.appendUrlWithParams(k.default.ArcGisBufferService,{f:"json",inSR:4326,geometries:JSON.stringify(t),bufferSR:3414,outSR:4326,distances:e.getRadius(),unit:9001}),crossDomain:!0,dataType:"jsonp"})}}]),t}(c.default)),B=new A;B.dispatchToken=h.default.register(function(e){switch(e.actionType){case d.default.PointBuffer:B.pointBuffer(),B.emitChanges();break;case d.default.PolygonBuffer:B.polygonBuffer(),B.emitChanges();break;case d.default.ClearBuffer:B.clearBuffer(),B.emitChanges();break;case d.default.BufferDone:B.bufferDone(),B.emitChanges();break;case d.default.BufferSliderChange:B.bufferSliderChange(e.value),
B.emitChanges()}}),t.default=B},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(8),u=(r(l),n(14)),c=r(u),f=n(9),d=r(f),p=n(15),h=(r(p),n(11)),m=r(h),y=n(2),g=r(y),v=n(28),_=r(v),b=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.speechState={activate:!1},n.results="","undefined"!=typeof webkitSpeechRecognition&&(n.speech=new webkitSpeechRecognition,n.setUp()),n}return o(t,e),s(t,[{key:"setUp",value:function(){this.speech.continuous=!0,this.speech.lang="en-GB",this.speech.interimResults=!0;var e=this;this.speech.onresult=function(t){var n=t.results.length-1,r=t.results[n].length-1,a=t.results[n][r].transcript;t.results[n].isFinal&&(e.speech.stop(),e.search(a))},this.speech.onerror=function(t){e.speech.stop(),g.default.offSpeech(),responsiveVoice.speak("Sorry, I didn't quite get that.")}}},{key:"search",value:function(e){g.default.setSearchText(e),_.default.search(e)}},{key:"getSpeechState",value:function(){return this.speechState.activate}},{key:"setSpeechState",value:function(e){this.speechState.activate=e}},{key:"onSpeech",value:function(){this.setSpeechState(!0),responsiveVoice.speak("Ask me something","UK English Female",{onend:this.onSpeechStart.bind(this)})}},{key:"onSpeechStart",value:function(){this.speech.start()}},{key:"offSpeech",value:function(){this.setSpeechState(!1)}},{key:"getResults",value:function(){return this.results}},{key:"clearResults",value:function(){this.results=""}},{key:"speakText",value:function(e){responsiveVoice.speak(e.toString(),"UK English Female",{onend:this.onSpeechStart.bind(this)}),this.offSpeech()}}]),t}(c.default),E=new b;E.dispatchToken=m.default.register(function(e){switch(e.actionType){case d.default.OnSpeech:E.onSpeech(),E.emitChanges();break;case d.default.OffSpeech:E.offSpeech(),E.emitChanges()}}),t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(16),u=(r(l),n(8)),c=r(u),f=n(14),d=r(f),p=n(9),h=r(p),m=n(15),y=r(m),g=n(11),v=r(g),_=n(2),b=r(_),E=n(7),w=r(E),S=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.uiState={dualScreen:!1,displayMenu:y.default.LeftPanel,filter:m.FilterState.Hidden,identifyLoading:!1,modalDisplay:null,layerFilterText:"",layerInfo:!1,bufferLoading:!1,searchtext:""},n}return o(t,e),s(t,[{key:"getUiState",value:function(){return this.uiState}},{key:"getSearchText",value:function(){return this.uiState.searchtext}},{key:"setSearchText",value:function(e){this.uiState.searchtext=e}},{key:"getIdentifyLoadingState",value:function(){return this.uiState.identifyLoading}},{key:"getBufferLoadingState",value:function(){return this.uiState.bufferLoading}},{key:"toggleGroupMenu",value:function(e){var t=this.uiState;t.displayMenu=t.displayMenu===e?null:e}},{key:"toggleDualScreen",value:function(){this.uiState.dualScreen=!this.uiState.dualScreen}},{key:"toggleLayerSummaryByLayer",value:function(e){switch(this.uiState.displayMenu){case y.default.LeftPanel:this._summaryLayer=e,this.uiState.displayMenu=y.default.LeftPanelWithSummary,setTimeout(function(){b.default.queryLayerSummary(e)},10);break;case y.default.LeftPanelWithSummary:this._summaryLayer!==e?(this._summaryLayer=e,setTimeout(function(){b.default.queryLayerSummary(e)},10)):this.closeLayerSummary()}}},{key:"closeLayerSummary",value:function(){this._summaryLayer=null,this.uiState.displayMenu=y.default.LeftPanel}},{key:"openMenu",value:function(){this.uiState.displayMenu=y.default.LeftPanel}},{key:"closeMenu",value:function(){this.uiState.displayMenu=null}},{key:"identify",value:function(){var e=this.uiState;this.closeMenu(),e.displayMenu=y.default.RightPanel,e.identifyLoading=!0,e.filter=m.FilterState.Minimize}},{key:"identifyComplete",value:function(){this.uiState.identifyLoading=!1}},{key:"buffer",value:function(){this.uiState.bufferLoading=!0}},{key:"bufferComplete",value:function(){this.uiState.bufferLoading=!1}},{key:"showModal",value:function(e){this.uiState.modalDisplay=e,this.uiState.displayMenu=y.default.Modal}},{key:"hideModal",value:function(){this.closeMenu()}},{key:"setShowFilter",value:function(e){var t=this.uiState.filter!==m.FilterState.Hidden!==e;return this.uiState.filter=e?m.FilterState.Maximize:m.FilterState.Hidden,t}},{key:"setFilter",value:function(e){this.uiState.filter=e}},{key:"setSearchDataset",value:function(e){this.uiState.layerFilterText=e}},{key:"toggleLayerInfo",value:function(e){var t=this.uiState.layerInfo;return this.uiState.layerInfo=e,t===e}},{key:"closeGeoPhotoMenu",value:function(){this.uiState.displayMenu=y.default.RightPanel}}]),t}(d.default),k=new S;k.dispatchToken=v.default.register(function(e){switch(e.actionType){case h.default.ToggleDualScreen:k.toggleDualScreen(),k.emitChanges();break;case h.default.ToggleBasemap:k.toggleGroupMenu(y.default.Basemap),k.emitChanges();break;case h.default.ToggleDualBasemap:v.default.waitFor([c.default.dispatchToken]),k.toggleGroupMenu(y.default.Basemap),k.emitChanges();break;case h.default.ToggleUserProfile:k.toggleGroupMenu(y.default.UserProfile),k.emitChanges();break;case h.default.ToggleLeftMenu:k.toggleGroupMenu(y.default.LeftPanel),k.emitChanges();break;case h.default.ToggleLegend:k.toggleGroupMenu(y.default.Legend),k.emitChanges();break;case h.default.ToggleLayerSummary:k.toggleLayerSummaryByLayer(e.layerName),k.emitChanges();break;case h.default.ToggleBookmark:k.toggleGroupMenu(y.default.Bookmark),k.emitChanges();break;case h.default.ToggleBuffer:k.toggleGroupMenu(y.default.Buffer),k.emitChanges();break;case h.default.ToggleDraw:k.toggleGroupMenu(y.default.Draw),k.emitChanges();break;case h.default.CloseMenu:k.closeMenu(),k.emitChanges();break;case h.default.CloseLeftMenu:k.closeMenu(),k.emitChanges();break;case h.default.CloseRightMenu:k.closeMenu(),k.emitChanges();break;case h.default.CloseLayerSummary:k.closeLayerSummary(),k.emitChanges();break;case h.default.Identify:v.default.waitFor([c.default.dispatchToken]),k.identify(),k.emitChanges();break;case h.default.IdentifyComplete:k.identifyComplete(),k.emitChanges();break;case h.default.SetBasemap:k.closeMenu(),k.emitChanges();break;case h.default.ShowModal:k.showModal(e.modalDisplay),k.emitChanges();break;case h.default.HideModal:k.hideModal(),k.emitChanges();break;case h.default.ChangePasswordComplete:k.hideModal(),k.emitChanges();break;case h.default.Reset:v.default.waitFor([w.default.dispatchToken]),k.openMenu(),k.setShowFilter(!1),k.emitChanges();break;case h.default.AddLayer:v.default.waitFor([w.default.dispatchToken]);var t=k.setShowFilter(w.default.hasLayerWithFilter());k.toggleLayerInfo(w.default.latestLayerHasInfo())||(t=!0),t&&k.emitChanges();break;case h.default.RemoveLayer:v.default.waitFor([w.default.dispatchToken]),t=k.setShowFilter(w.default.hasLayerWithFilter()),k.toggleLayerInfo(w.default.latestLayerHasInfo()),k.emitChanges();break;case h.default.RemoveAllLayers:v.default.waitFor([w.default.dispatchToken]),k.setShowFilter(!1)&&k.emitChanges();break;case h.default.MinimizeFilter:k.setFilter(m.FilterState.Minimize);break;case h.default.MaximizeFilter:k.setFilter(m.FilterState.Maximize);break;case h.default.SearchDataset:k.setSearchDataset(e.layerFilterText),k.emitChanges();break;case h.default.HideLayerInfo:k.toggleLayerInfo(!1),k.emitChanges();break;case h.default.Buffer:k.buffer(),k.emitChanges();break;case h.default.BufferDone:k.bufferComplete(),k.emitChanges();break;case h.default.SetSearchText:k.setSearchText(e.text),k.emitChanges();break;case h.default.ToggleGeoTagPhotoDetail:k.toggleGroupMenu(y.default.GeoTagPhotoDetail),k.emitChanges();break;case h.default.GeophotoMenu:k.closeGeoPhotoMenu(),k.emitChanges()}}),t.default=k},function(e,t,n){"use strict";function r(e,t){return e+t}function a(e,t,n){var r=n;{if("object"!==("undefined"==typeof t?"undefined":C(t)))return"undefined"!=typeof r?("number"==typeof r&&(r+="px"),void(e.style[t]=r)):P(e,t);for(var i in t)t.hasOwnProperty(i)&&a(e,i,t[i])}}function i(e){var t=void 0,n=void 0,r=void 0,a=e.ownerDocument,i=a.body,o=a&&a.documentElement;return t=e.getBoundingClientRect(),n=t.left,r=t.top,n-=o.clientLeft||i.clientLeft||0,r-=o.clientTop||i.clientTop||0,{left:n,top:r}}function o(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if("number"!=typeof n){var a=e.document;n=a.documentElement[r],"number"!=typeof n&&(n=a.body[r])}return n}function s(e){return o(e)}function l(e){return o(e,!0)}function u(e){var t=i(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=s(r),t.top+=l(r),t}function c(e,t,n){var r=n,a="",i=e.ownerDocument;return r=r||i.defaultView.getComputedStyle(e,null),r&&(a=r.getPropertyValue(t)||r[t]),a}function f(e,t){var n=e[M]&&e[M][t];if(T.test(n)&&!L.test(t)){var r=e.style,a=r[B],i=e[A][B];e[A][B]=e[M][B],r[B]="fontSize"===t?"1em":n||0,n=r.pixelLeft+I,r[B]=a,e[A][B]=i}return""===n?"auto":n}function d(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function p(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function h(e,t,n){"static"===a(e,"position")&&(e.style.position="relative");var i=-999,o=-999,s=d("left",n),l=d("top",n),c=p(s),f=p(l);"left"!==s&&(i=999),"top"!==l&&(o=999);var h="",m=u(e);("left"in t||"top"in t)&&(h=(0,N.getTransitionProperty)(e)||"",(0,N.setTransitionProperty)(e,"none")),"left"in t&&(e.style[c]="",e.style[s]=i+"px"),"top"in t&&(e.style[f]="",e.style[l]=o+"px");var y=u(e),g={};for(var v in t)if(t.hasOwnProperty(v)){var _=d(v,n),b="left"===v?i:o,E=m[v]-y[v];_===v?g[_]=b+E:g[_]=b-E}a(e,g),r(e.offsetTop,e.offsetLeft),("left"in t||"top"in t)&&(0,N.setTransitionProperty)(e,h);var w={};for(var S in t)if(t.hasOwnProperty(S)){var k=d(S,n),C=t[S]-m[S];S===k?w[k]=g[k]+C:w[k]=g[k]-C}a(e,w)}function m(e,t){var n=u(e),r=(0,N.getTransformXY)(e),a={x:r.x,y:r.y};"left"in t&&(a.x=r.x+t.left-n.left),"top"in t&&(a.y=r.y+t.top-n.top),(0,N.setTransformXY)(e,a)}function y(e,t,n){n.useCssRight||n.useCssBottom?h(e,t,n):n.useCssTransform&&(0,N.getTransformName)()in document.body.style?m(e,t,n):h(e,t,n)}function g(e,t){for(var n=0;n<e.length;n++)t(e[n])}function v(e){return"border-box"===P(e,"boxSizing")}function _(e,t,n){var r={},a=e.style,i=void 0;for(i in t)t.hasOwnProperty(i)&&(r[i]=a[i],a[i]=t[i]);n.call(e);for(i in t)t.hasOwnProperty(i)&&(a[i]=r[i])}function b(e,t,n){var r=0,a=void 0,i=void 0,o=void 0;for(i=0;i<t.length;i++)if(a=t[i])for(o=0;o<n.length;o++){var s=void 0;s="border"===a?""+a+n[o]+"Width":a+n[o],r+=parseFloat(P(e,s))||0}return r}function E(e){return null!==e&&void 0!==e&&e==e.window}function w(e,t,n){var r=n;if(E(e))return"width"===t?F.viewportWidth(e):F.viewportHeight(e);if(9===e.nodeType)return"width"===t?F.docWidth(e):F.docHeight(e);var a="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?e.offsetWidth:e.offsetHeight,o=P(e),s=v(e,o),l=0;(null===i||void 0===i||i<=0)&&(i=void 0,l=P(e,t),(null===l||void 0===l||Number(l)<0)&&(l=e.style[t]||0),l=parseFloat(l)||0),void 0===r&&(r=s?R:x);var u=void 0!==i||s,c=i||l;return r===x?u?c-b(e,["border","padding"],a,o):l:u?r===R?c:c+(r===U?-b(e,["border"],a,o):b(e,["margin"],a,o)):l+b(e,D.slice(r),a,o)}function S(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=void 0,a=t[0];return 0!==a.offsetWidth?r=w.apply(void 0,t):_(a,G,function(){r=w.apply(void 0,t)}),r}function k(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Object.defineProperty(t,"__esModule",{value:!0});var C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N=n(129),O=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,P=void 0,T=new RegExp("^("+O+")(?!px)[a-z%]+$","i"),L=/^(top|right|bottom|left)$/,M="currentStyle",A="runtimeStyle",B="left",I="px";"undefined"!=typeof window&&(P=window.getComputedStyle?c:f);var D=["margin","border","padding"],x=-1,U=2,R=1,j=0,F={};g(["Width","Height"],function(e){F["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],F["viewport"+e](n))},F["viewport"+e]=function(t){var n="client"+e,r=t.document,a=r.body,i=r.documentElement,o=i[n];return"CSS1Compat"===r.compatMode&&o||a&&a[n]||o}});var G={position:"absolute",visibility:"hidden",display:"block"};g(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);F["outer"+t]=function(t,n){return t&&S(t,e,n?j:R)};var n="width"===e?["Left","Right"]:["Top","Bottom"];F[e]=function(t,r){var i=r;{if(void 0===i)return t&&S(t,e,x);if(t){var o=P(t),s=v(t);return s&&(i+=b(t,["padding","border"],n,o)),a(t,e,i)}}}});var H={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t,n){return"undefined"==typeof t?u(e):void y(e,t,n||{})},isWindow:E,each:g,css:a,clone:function(e){var t=void 0,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);var r=e.overflow;if(r)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:k,getWindowScrollLeft:function(e){return s(e)},getWindowScrollTop:function(e){return l(e)},merge:function(){for(var e={},t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0;a<n.length;a++)H.mix(e,n[a]);return e},viewportWidth:0,viewportHeight:0};k(H,F),t.default=H,e.exports=t.default},function(e,t){e.exports=vendor4},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={Point:"Point",Line:"LineString",Polygon:"Polygon",MultiLine:"MultiLineString",MultiPolygon:"MultiPolygon"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(119),u=r(l),c=n(12),f=r(c),d=n(3),p=r(d),h=n(11),m=r(h),y=n(2),g=r(y),v=n(14),_=r(v),b=n(9),E=r(b),w=n(45),S=(r(w),n(5)),k=(r(S),n(10),n(6)),C=(r(k),n(37)),N=(r(C),function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._map=null,e.layerHeights=[[3,"#ffffcc"],[15,"#ffffcc"],[30,"#ffeda0"],[50,"#fed976"],[100,"#feb24c"],[200,"#fd8d3c"],[300,"#fc4e2a"],[400,"#e31a1c"]],e.resetStatus=!1,e.siteInfo={},e}return o(t,e),s(t,[{key:"isInitialized",value:function(){return u.default.isInitialized()}},{key:"initialize",value:function(e,t){this.initMapbox(t)}},{key:"initMapbox",value:function(e){u.default.setContainer(e),u.default.initialize(),this._map=u.default.getMap(),this.addBuildingLayers(),this.enableMapOnClickIdentifyHandler()}},{key:"destroy",value:function(){u.default.destroy()}},{key:"getBasemaps",value:function(){return this.basemaps}},{key:"identify",value:function(e){this.addMarker({icon:"Content/img/information.png",width:32,height:37},e)}},{key:"reset",value:function(){this.disableMapOnClickIdentifyHandler(),u.default.reset(),this._map=u.default.getMap(),this.setResetStatus(!0),this.addBuildingLayers(),this.enableMapOnClickIdentifyHandler()}},{key:"addLayer",value:function(e){u.default.addLayer(e)}},{key:"addLayers",value:function(e){var t=this;this._map.once("sourcedata",function(){for(var n=0;n<e.length;n++)t.addLayer(e[n])})}},{key:"addBuildingLayers",value:function(){var e=this;this._map.once("sourcedata",function(){var t={id:"building_layer",type:"fill-extrusion",source:"mapbox",paint:{"fill-extrusion-color":{property:"height",stops:e.layerHeights},"fill-extrusion-opacity":1,"fill-extrusion-height":{type:"identity",property:"height"},"fill-extrusion-base":{type:"identity",property:"min_height"}},"source-layer":"building"};e.addLayer(t)})}},{key:"getLayer",value:function(e){return u.default.getLayer(e)}},{key:"getLayers",value:function(){return this.layerHeights}},{key:"removeLayer",value:function(e){u.default.removeLayer(e)}},{key:"storeSiteInfo",value:function(e){this.siteInfo=e}},{key:"getSiteInfo",value:function(){return this.siteInfo}},{key:"setResetStatus",value:function(e){this.resetStatus=e}},{key:"getResetStatus",value:function(){return this.resetStatus}},{key:"setBasemap",value:function(e){for(var t=0;t<this.basemaps.length;t++)e===this.basemaps[t].name&&(this.disableMapOnClickIdentifyHandler(),u.default.setStyle(this.basemaps[t].style),this._map=u.default.getMap(),this.setResetStatus(!0),this.addBuildingLayers(),this.enableMapOnClickIdentifyHandler())}},{key:"setCenter",value:function(e){u.default.panTo(e)}},{key:"setZoom",value:function(e){this._map.setZoom(e)}},{key:"getCenter",value:function(){return this._map.getCenter()}},{key:"setPopup",value:function(e,t){u.default.setPopup(e,t)}},{key:"setMapsView",value:function(e,t){u.default.flyTo(e)}},{key:"removePopup",value:function(){u.default.removePopup()}},{key:"addMarker",value:function(e,t){this.removeMarkers(),u.default.addMarker(e,t)}},{key:"removeMarkers",value:function(){u.default.removeMarkers()}},{key:"locateUser",value:function(){var e=this;p.default.getCurrentPosition(function(t){var n=p.default.toPointObject(t.coords.latitude,t.coords.longitude);e.highlightZoomCenter(null,null,n.coordinates[0])},function(e){switch(e.code){case e.PERMISSION_DENIED:g.default.displayMessage("Unable to detect current location.");break;case e.POSITION_UNAVAILABLE:g.default.displayMessage("Position is currently unavailable.");break;case e.PERMISSION_DENIED_TIMEOUT:g.default.displayMessage("User did not grant/deny permission.");break;case e.UNKNOWN_ERROR:g.default.displayMessage("Unable to detect current location.")}})}},{key:"highlightZoomCenter",value:function(e,t,n){this.setCenter(n),this.addMarker({icon:"Content/img/leaflet/marker-icon.png",width:25,height:41},n)}},{key:"disableMapOnClickIdentifyHandler",value:function(){this._map.off("mousemove"),this._map.off("click")}},{key:"enableMapOnClickIdentifyHandler",value:function(){var e=this;this._map.on("load",function(){var t=[];t.push("building_layer"),e._map.on("click",function(n){g.default.identify(f.default.latLng(n.lngLat.lat,n.lngLat.lng));var r=e._map.queryRenderedFeatures(n.point,{layers:t});if(r.length>0){e.removeMarkers();var a="<p>Building height: <b>"+Math.round(r[0].properties.height)+"</b> meters</p>";r[0].properties.name&&(a+="<p>Name: <b>"+r[0].properties.name+"</b></p>"),e.setPopup(n.lngLat,a)}else e.removePopup()}),e._map.on("mousemove",function(n){var r=e._map.queryRenderedFeatures(n.point,{all_added_layers:t});r.length>0?e._map.getCanvas().style.cursor=null!=r[0].properties.height?"pointer":"":e._map.getCanvas().style.cursor=""})})}},{key:"filter",value:function(e,t){this.removePopup();var n=["all",[">=","height",e],["<=","height",t]];this._map.setFilter("building_layer",n),u.default.loadingInProgress(),this._map.once("styledata",function(){setTimeout(function(){u.default.loadingComplete()},2500)})}}]),t}(_.default)),O=new N;O.dispatchToken=m.default.register(function(e){if(u.default.isInitialized())switch(e.actionType){case E.default.Reset:O.reset(),O.emitChanges();break;case E.default.LocateUser:O.locateUser();break;case E.default.Identify:O.identify(e.latLng);break;case E.default.HighlightZoomCenterMap:O.highlightZoomCenter(e.geometry,e.zoom,e.center);break;case E.default.setMapsView:O.setMapsView(e.latLng);break;case E.default.QuerySiteInfoComplete:O.storeSiteInfo(e.results),O.emitChanges();break;case E.default.SetBasemap:O.setBasemap(e.basemapName),O.emitChanges()}}),t.default=O},function(e,t){e.exports=vendor3},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(12),s=(r(o),n(19)),l=(r(s),n(3)),u=(r(l),n(5)),c=r(u),f=n(10),d=(r(f),n(25)),p=(r(d),n(2)),h=r(p),m=n(7),y=(r(m),n(18)),g=r(y),v=n(115),_=r(v),b=n(56),E=(r(b),n(21)),w=r(E),S=n(116),k=r(S),C=function(){function e(){a(this,e),this.previousSearchText=""}return i(e,[{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e.length<3)return void h.default.search([]);if(e=e.trim(),e!==this.previousSearchText){this.previousSearchText=e,h.default.clearSearchResults();var t=_.default,n=new t(e),r=new k.default(e);c.default.wait([n.promise,r.promise],function(e,t){if(g.default.searchResults=[],g.default.searchResults=g.default.searchResults.concat(e,t),!g.default.searchResults.length){var n={id:0,display:"No results found"};g.default.searchResults.push(n),w.default.getSpeechState()?responsiveVoice.speak("This question is beyound the capacity of my brain."):null,h.default.offSpeech()}h.default.search(g.default.searchResults)})}}}]),e}();t.default=new C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("a",{className:this.props.class,href:this.props.url,target:"_blank"},this.props.text)}}]),t}(u.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(2),f=(r(c),n(6)),d=r(f),p=n(113),h=(r(p),function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){(0,d.default)(e.refs.slider).rangeslider({polyfill:!1,onSlide:function(t,n){e.props.onSlide&&e.props.onSlide(n)}})},0)}},{key:"render",value:function(){var e=void 0,t=[],n=this.props.showLabels||!1,r=this.props.min||0,a=this.props.max||100,i=this.props.step||1,o=this.props.value||80,s=function(e){};for(e=r;e<=a;e+=i)t.push(e);return u.default.createElement("div",null,u.default.createElement("input",{ref:"slider",type:"range",min:r,max:a,step:i,value:o,onChange:s}),n?u.default.createElement("div",{className:"rangeslider__ruler"},t.join(" ")):null)}}]),t}(u.default.Component));t.default=h},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={Marker:"marker",Line:"line",Rectangle:"rectangle",Circle:"circle",Polygon:"polygon"};t.DrawColors={"color-1":"#1E90FF","color-2":"#FF1493","color-3":"#32CD32","color-4":"#FF8C00","color-5":"#4B0082"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={Main:0,Dual:1}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:[{id:1,name:"Total Population",icon:"icon-demographics1",active:!1},{id:2,name:"Housing Units",icon:"icon-housing1",active:!1}]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(5),s=r(o),l=n(3),u=(r(l),n(16)),c=(r(u),n(10)),f=(r(c),n(2)),d=(r(f),n(105),n(19)),p=(r(d),function(){function e(t){a(this,e),this.searchText=t,this.deferred=s.default.deferred(),this.promise=this.searchPromise()}return i(e,[{key:"searchPromise",value:function(){return this.deferred.resolve([]),this.deferred.promise()}},{key:"isStreetBlkSearch",value:function(){var e=new RegExp("^[0-9]+[a-z]{0,1} +[a-z]+","i"),t=new RegExp(/(\w+) \w+ ([\d]{1})/);return e.test(this.searchText)||t.test(this.searchText)}},{key:"isLayerSearch",value:function(){return this.searchText.length>3&&/^\[(.)+\]?$/.test(this.searchText)}}]),e}());t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(14),u=r(l),c=n(9),f=r(c),d=n(11),p=r(d),h=n(8),m=r(h),y=n(31),g=r(y),v=n(2),_=r(v),b=n(12),E=r(b),w=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.buttonStatus={},e.drawResult="",e.colorId="color-1",e._registeredDrawEventHandler=!1,e._drawManager=null,e._drawStop="draw:drawstop",e._drawCreated="draw:created",e._drawnItem=null,e.resetButtonStatus(),e._layerGeoJSON=null,e}return o(t,e),s(t,[{key:"resetButtonStatus",value:function(){for(var e in g.default)this.disselectButtonStatus(g.default[e])}},{key:"selectButtonStatus",value:function(e){this.buttonStatus[e]=!0}},{key:"disselectButtonStatus",value:function(e){this.buttonStatus[e]=!1}},{key:"getButtonStatus",value:function(){return this.buttonStatus}},{key:"getDrawResult",value:function(){return this.drawResult}},{key:"setDrawResult",value:function(e){this.drawResult=e}},{key:"getColorId",value:function(){return this.colorId}},{key:"setColorId",value:function(e){this.colorId=e}},{key:"_getSelectedColor",value:function(){return y.DrawColors[this.colorId]}},{key:"_setDrawManager",value:function(){this._drawManager||(this._drawManager=m.default.drawManager)}},{key:"drawCreatedHandler",value:function(e){this._layerGeoJSON=e.layer.toGeoJSON(),this._drawManager.drawnItems.addLayer(e.layer)}},{key:"reactDrawStopHandler",value:function(e){_.default.drawDone(e)}},{key:"normalDrawStopHandler",value:function(e){}},{key:"drawPreprocess",value:function(){this._setDrawManager(),this.disablePreviousDrawTool(),this.resetButtonStatus(),this.initDrawEventHandler()}},{key:"drawFeatureEnable",value:function(){this._drawnItem.enable()}},{key:"drawMarker",value:function(){var e=this._drawManager.icon;this._drawnItem=new E.default.Draw.Marker(this._drawManager.map,{icon:e})}},{key:"drawLine",value:function(){this._drawnItem=new E.default.Draw.Polyline(this._drawManager.map,{showArea:!0,allowIntersection:!1,shapeOptions:{weight:3,color:this._getSelectedColor()}})}},{key:"drawPolygon",value:function(){this._drawnItem=new E.default.Draw.Polygon(this._drawManager.map,{showArea:!0,allowIntersection:!1,shapeOptions:{weight:1,color:this._getSelectedColor()}})}},{key:"drawRectangle",value:function(){this._drawnItem=new E.default.Draw.Rectangle(this._drawManager.map,{showArea:!0,allowIntersection:!1,shapeOptions:{weight:1,color:this._getSelectedColor()}})}},{key:"drawCircle",value:function(){this._drawnItem=new E.default.Draw.Circle(this._drawManager.map,{showArea:!0,allowIntersection:!1,shapeOptions:{weight:1,color:this._getSelectedColor()}})}},{key:"clearDrawing",value:function(){this.resetButtonStatus();var e=this._drawManager;e&&e.drawnItems.eachLayer(function(e){e.remove()}),this.setDrawResult("")}},{key:"updateDrawnItemColor",value:function(e){this.setColorId(e)}
},{key:"disablePreviousDrawTool",value:function(){if(this._drawnItem){var e=this._drawManager.map;e.off(this._drawStop,this.reactDrawStopHandler),e.on(this._drawStop,this.normalDrawStopHandler),this._drawnItem.disable(),this._drawnItem=null,e.off(this._drawStop,this.normalDrawStopHandler),e.on(this._drawStop,this.reactDrawStopHandler)}}},{key:"initDrawEventHandler",value:function(){if(!this._registeredDrawEventHandler){this._registeredDrawEventHandler=!0;this._drawManager.map;this.enableDrawHandler()}}},{key:"drawDone",value:function(e){this.resetButtonStatus();var t=e.layerType;switch(t){case"marker":if(this._layerGeoJSON){var n="Location Lat/Lng: ("+this._layerGeoJSON.geometry.coordinates[1].toFixed(5)+", "+this._layerGeoJSON.geometry.coordinates[0].toFixed(5)+")";this.setDrawResult(n)}break;case"polyline":var r=this._drawnItem._measurementRunningTotal.toFixed(2),a="Distance: "+r+" Meters";this.setDrawResult(a);break;case"polygon":for(var i=this._layerGeoJSON.geometry.coordinates[0].map(function(e){return{lat:e[1],lng:e[0]}}),o=0,s=0;s<i.length-1;s++)o+=E.default.latLng(i[s].lat,i[s].lng).distanceTo(E.default.latLng(i[s+1].lat,i[s+1].lng));var l=E.default.GeometryUtil.geodesicArea(i).toFixed(2),u="Perimeter: "+o.toFixed(2)+" Meters",c=" Area: "+l+" Square Meters";this.setDrawResult(u+" "+c);break;case"rectangle":if(this._layerGeoJSON&&"Polygon"===this._layerGeoJSON.geometry.type){var f=this._layerGeoJSON.geometry.coordinates[0].map(function(e){return{lat:e[1],lng:e[0]}}),d=E.default.GeometryUtil.geodesicArea(f).toFixed(2),p="Area: "+d+" Square Meters";this.setDrawResult(p)}break;case"circle":if(this._layerGeoJSON&&"Point"===this._layerGeoJSON.geometry.type){var h="Centre Lat/Lng: ("+this._layerGeoJSON.geometry.coordinates[1].toFixed(5)+", "+this._layerGeoJSON.geometry.coordinates[0].toFixed(5)+")";this.setDrawResult(h)}}}},{key:"enableDrawHandler",value:function(){this._drawManager&&this._drawManager.map&&(this._drawManager.map.on(this._drawCreated,this.drawCreatedHandler,this),this._drawManager.map.on(this._drawStop,this.reactDrawStopHandler),this.disableMapOnClickIdentifyHandler())}},{key:"disableDrawHandler",value:function(){this._drawManager&&this._drawManager.map&&(this._drawManager.map.off(this._drawCreated,this.drawCreatedHandler,this),this._drawManager.map.off(this._drawStop,this.reactDrawStopHandler),this.enableMapOnClickIdentifyHandler())}},{key:"enableMapOnClickIdentifyHandler",value:function(){m.default.enableMapOnClickIdentifyHandler()}},{key:"disableMapOnClickIdentifyHandler",value:function(){m.default.disableMapOnClickIdentifyHandler()}}]),t}(u.default),S=new w;S.dispatchToken=p.default.register(function(e){switch(e.actionType){case f.default.DrawMarker:S.drawPreprocess(),S.drawMarker(),S.selectButtonStatus(g.default.Marker),S.drawFeatureEnable(),S.emitChanges();break;case f.default.DrawPolygon:S.drawPreprocess(),S.drawPolygon(),S.selectButtonStatus(g.default.Polygon),S.drawFeatureEnable(),S.emitChanges();break;case f.default.DrawLine:S.drawPreprocess(),S.drawLine(),S.selectButtonStatus(g.default.Line),S.drawFeatureEnable(),S.emitChanges();break;case f.default.DrawCircle:S.drawPreprocess(),S.drawCircle(),S.selectButtonStatus(g.default.Circle),S.drawFeatureEnable(),S.emitChanges();break;case f.default.DrawRectangle:S.drawPreprocess(),S.drawRectangle(),S.selectButtonStatus(g.default.Rectangle),S.drawFeatureEnable(),S.emitChanges();break;case f.default.ClearDrawing:S.clearDrawing(),S.emitChanges();break;case f.default.UpdateDrawnItemColor:S.updateDrawnItemColor(e.colorId),S.emitChanges();break;case f.default.DrawDone:S.drawDone(e.result),S.emitChanges()}}),t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(14),u=r(l),c=n(33),f=r(c),d=n(2),p=(r(d),n(11)),h=r(p),m=n(9),y=r(m),g=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.quicklinks=f.default.data,e.selected=[],e.buttonStatus={},e.loadButton=e.loadButtons(),e.resetUI=!1,e}return o(t,e),s(t,[{key:"clearUI",value:function(){var e=this;this.resetUI=!0,this.quicklinks.forEach(function(t,n){e.buttonStatus[t.name]=!0})}},{key:"getResetUIStatus",value:function(){return this.resetUI}},{key:"setUIStatus",value:function(){this.resetUI=!1}},{key:"loadButtons",value:function(){var e=this;this.quicklinks.forEach(function(t,n){e.buttonStatus[t.name]=!0})}},{key:"getAllQuickLink",value:function(){return this.quicklinks}},{key:"getSelected",value:function(){return this.selected}},{key:"getButtonStatus",value:function(){return this.buttonStatus}},{key:"selectButtonStatus",value:function(e){this.buttonStatus[e]=!0}},{key:"disselectButtonStatus",value:function(e){this.buttonStatus[e]=!1}},{key:"isSelected",value:function(e){for(var t=!1,n=0,r=this.selected.length;n<r;n++)if(this.selected[n]===e){t=!0;break}return t}},{key:"addQuicklink",value:function(e){var t=this;this.setUIStatus(),this.quicklinks.forEach(function(n,r){n.name===e&&(t.buttonStatus[n.name]?t.buttonStatus[n.name]=!1:t.buttonStatus[n.name]=!0)})}},{key:"removeQuicklink",value:function(e){var t=this;console.log("remove quick link"),this.selected.forEach(function(n,r){if(n===e)return void t.selected.splice(r,1)}),this.resetSelectedZIndex()}},{key:"resetSelectedZIndex",value:function(){var e=this.selected.length;this.selected.forEach(function(t,n){t.setZIndex((e-n).toString())})}}]),t}(u.default),v=new g;v.dispatchToken=h.default.register(function(e){switch(e.actionType){case y.default.SelectQuickLinkBtn:v.addQuicklink(e.selectedBtn),v.emitChanges();break;case y.default.deSelectQuickLinkBtn:v.removeQuicklink(e.selectedBtn),v.emitChanges()}}),t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(5),s=r(o),l=n(3),u=r(l),c=n(16),f=(r(c),n(10)),d=r(f),p=n(2),h=r(p),m=function(){function e(){a(this,e)}return i(e,[{key:"querySiteInfo",value:function(e){s.default.wait([this.queryAddress(e)],function(e){var t="";if(e){var n=e,r=n.GeocodeInfo&&n.GeocodeInfo.length>0?n.GeocodeInfo[0]:null;t=r&&!r.ErrorMessage?u.default.addressFormatter(r.BUILDINGNAME||null,r.BLOCK||null,r.ROAD,null,null,r.POSTALCODE||null):null}h.default.querySiteInfoComplete({address:t})},function(e){h.default.displayMessage("Error retrieving site info")})}},{key:"queryAddress",value:function(e){return s.default.call({url:u.default.appendUrlWithParams(d.default.OneMapReverseAddressSearch,{token:this.token,location:e.lat+","+e.lng}),crossDomain:!0})}},{key:"getOneMapToken",value:function(){var e=this,t=s.default.deferred();this.url=d.default.OneMapToken;var n=u.default.appendUrlWithParams(this.url,{email:"plannercloud@gmail.com",password:"plannercloud1"}),r=function(n){t.resolve(n),e.token=n.access_token},a={url:n,crossDomain:!0,dataType:"json",success:r,error:function(e){t.resolve([])}};return s.default.call(a),t.promise()}}]),e}();t.default=new m},function(e,t,n){e.exports=n(43)(2)},function(e,t,n){e.exports=n(4)(32)},function(e,t,n){e.exports=n(24)(4)},function(e,t,n){e.exports=n(24)(782)},function(e,t,n){e.exports=n(4)(9)},function(e,t){e.exports=vendor5},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){function r(t){var r=new o.default(t);n.call(e,r)}return e.addEventListener?(e.addEventListener(t,r,!1),{remove:function(){e.removeEventListener(t,r,!1)}}):e.attachEvent?(e.attachEvent("on"+t,r),{remove:function(){e.detachEvent("on"+t,r)}}):void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(67),o=r(i);e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={Mapbox:{config:{style:"http://54.242.83.16:8080/styles/basic-v9.json",center:[103.8466,1.2767],zoom:15,bearing:-12,pitch:60,maxBounds:[[103.390274,1.12328],[104.149704,1.569475]]}}};t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props.src,t=this.props.width||"100%",n=this.props.height||"100%",r={textAlign:"center"};return u.default.createElement("div",{style:r},u.default.createElement("img",{src:e,width:t,height:n}))}}]),t}(u.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(13),f=r(c),d=n(8),p=r(d),h=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"componentDidMount",value:function(){p.default.initialize(this.props.mapId,f.default.findDOMNode(this))}},{key:"componentWillUnmount",value:function(){p.default.destroy(this.props.mapId,f.default.findDOMNode(this))}},{key:"render",value:function(){return u.default.createElement("div",{id:this.props.id})}}]),t}(u.default.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(85),f=r(c),d=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"selectedToDisplay",value:function(e){var t=this;return e.map(function(e,n){var r=n===t.props.showId;return u.default.createElement(f.default,{key:n,layer:e,showData:r,onRowClick:t.props.onRowClick(n),exportCSV:e.defaultSettings.exportCSV})})}},{key:"render",value:function(){var e=this.selectedToDisplay(this.props.selected);return u.default.createElement("div",null,e)}}]),t}(u.default.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(2),f=r(c),d=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleLayer=n.toggleLayer.bind(n),n.toggleInfographics=n.toggleInfographics.bind(n),n}return o(t,e),s(t,[{key:"toggleLayer",value:function(){var e=this.props.layer.getName();this.props.selected?f.default.removeLayer(e):f.default.addLayer(e)}},{key:"toggleInfographics",value:function(){f.default.toggleLayerSummary(this.props.layer.getName())}},{key:"render",value:function(){var e=this.props.layer,t=this.props.selected?"al-table-li-disabled":"";return u.default.createElement("li",{className:t},u.default.createElement("table",{id:"cate-layer"},u.default.createElement("tbody",null,u.default.createElement("tr",null,u.default.createElement("td",null,u.default.createElement("span",{className:"layer-icon-space"})),u.default.createElement("td",{className:"layer-name",onClick:this.toggleLayer},e.getName()),u.default.createElement("td",null,u.default.createElement("span",{className:"layer-dialog",onClick:this.toggleInfographics},u.default.createElement("i",{className:"icon-info"})))))))}}]),t}(u.default.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(2),f=r(c),d=n(17),p=r(d),h=n(33),m=(r(h),n(93)),y=r(m),g=n(36),v=r(g),_=n(92),b=(r(_),n(8)),E=r(b),w=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={quicklink:v.default.getAllQuickLink(),buttonStatus:v.default.getButtonStatus(),show:!0},n._onChange=n._onChange.bind(n),n}return o(t,e),s(t,[{key:"componentDidMount",value:function(){p.default.addChangeListener(this._onChange),v.default.addChangeListener(this._onChange),E.default.addChangeListener(this._onChange)}},{key:"componentWillUnmount",value:function(){v.default.removeChangeListener(this._onChange),p.default.removeChangeListener(this._onChange),E.default.removeChangeListener(this._onChange)}},{key:"_onChange",value:function(){1==v.default.getResetUIStatus()?this.setState({buttonStatus:v.default.getButtonStatus()}):this.setState({quicklink:v.default.getAllQuickLink()})}},{key:"quicklinkComponent",value:function(e,t){var n=[];return e.map(function(e,r){n.push(u.default.createElement(y.default,{info:e,qLinkSelected:t}))}),n}},{key:"toggleGeoPhotoQuicklink",value:function(){f.default.toggleGeoPhotoQuicklink()}},{key:"toggleHousingQuicklink",value:function(){console.log(" housing quicklink"),p.default.getClusterStatus()?f.default.addLayer("Housing Units"):f.default.removeLayer("Housing Units")}},{key:"toggleQuicklinkExtra",value:function(){f.default.toggleQuicklinkExtra()}},{key:"render",value:function(){var e=this.state.buttonStatus,t=this.quicklinkComponent(this.state.quicklink,e),n=p.default.getClusterStatus()?{WebkitFilter:"grayscale(0)",color:"#4787ed"}:{WebkitFilter:"grayscale(1)",opacity:"0.8"},r=p.default.getClusterStatus()?{cursor:"pointer",opacity:"1"}:{cursor:"pointer",opacity:"0.8"};return u.default.createElement("span",null,this.props.showAll?u.default.createElement("div",{id:"quicklink-container"},u.default.createElement("div",{style:n,onClick:this.toggleGeoPhotoQuicklink.bind(this)},u.default.createElement("i",{style:r,className:(p.default.getClusterStatus(),"icon-picture")})),t):null)}}]),t}(u.default.Component);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n._class=n.props.class||"more-info",n}return o(t,e),s(t,[{key:"onClick",value:function(e){this.props.onClick&&this.props.onClick(e)}},{key:"componentWillReceiveProps",value:function(e){this._class=e.class||"more-info"}},{key:"componentDidMount",value:function(){this.refs.btn.addEventListener("click",this.onClick)}},{key:"componentWillUnmount",value:function(){this.refs.btn.removeEventListener("click",this.onClick)}},{key:"getBtnClass",value:function(){return this._class}},{key:"render",value:function(){var e=this.getBtnClass();return u.default.createElement("button",{title:this.props.title,className:e,ref:"btn"},this.props.text)}}]),t}(u.default.Component);t.default=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={Replace:"replace",Identify:"identify",Overlay:"overlay",Geometry:"geometry",Search:"search",Layers:"layers",Query:"query"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(12),u=r(l),c=n(46),f=r(c),d=n(5),p=r(d),h=n(3),m=r(h),y=n(19),g=r(y),v=n(1),_=r(v),b=n(109),E=r(b),w=n(81),S=r(w),k=n(77),C=r(k),N=n(76),O=r(N),P=n(2),T=r(P),L=n(25),M=r(L),A=n(74),B=r(A),I=n(8),D=(r(I),function(){function e(t){i(this,e),this.drawings=[],this.events={},this.eventList={PostAdd:"postadd",PreRemove:"preremove",SpatialReferenceChange:"spatialrefchange",ZIndexChange:"zindexchange"},this.results=[],this.resultsChanged=!1,this.summary="",this.defaultSettings={defaultOpacity:t.defaultOpacity||1,exportCSV:t.exportCSV,featureHighlightIndex:t.highlight||0,filterBoxShowsOpacitySlider:"undefined"==typeof t.opacitySlider||t.opacitySlider,identifyTolerance:t.tolerance||10,columnLimit:t.columnLimit||3,legendFootnote:t.legendFootnote||!1},this.opts=t;var n=t.tiled?g.default.tiledMapLayer:g.default.dynamicMapLayer;this.map=n({url:t.src,layers:t.layers,opacity:1,useCors:!1}),this.opts.ignoreload?this.map.on("load",function(){this.setZIndex(this.options.zIndex)}):this.map.on("load",function(){var e=u.default.DomUtil.get("loading-div");e&&(e.style.display="none"),this.setZIndex(this.options.zIndex)}),this.setIdentifyLayers(this.opts.identifyid),this.setLegend(this.opts.legend,!1),this.exportCSV=this.exportCSV.bind(this)}return s(e,[{key:"getName",value:function(){return this.opts.name}},{key:"getOpacity",value:function(){return this.map.options.opacity}},{key:"exportCSV",value:function(){this.displayCache.props.display?T.default.exportCSV(this.getName(),this.displayCache.props.display):this.displayCache.props.children&&T.default.exportCSV(this.getName(),this.displayCache.props.children[0].props.display)}},{key:"getMapServiceUrl",value:function(){return this.opts.src}},{key:"getLegendUrl",value:function(){return this.getMapServiceUrl()+"/legend"}},{key:"getLayerInfo",value:function(){return this.opts.layerinfo}},{key:"getDelay",value:function(){return this.opts.layerinfodelay}},{key:"getSearchObj",value:function(){return this.opts.search}},{key:"getMapCenter",value:function(){return this._map.getCenter()}},{key:"getMapZoom",value:function(){return this._map.getZoom()}},{key:"abortIdentify",value:function(){if(this.request)try{this.request.abort(),this.request=null}catch(e){}}},{key:"identify",value:function e(t){var e,n=this.map.getLayerDefs();if(this.results=[],this._map){this.abortIdentify(),e=this.map.identify();for(var r in n)e.layerDef(r,n[r]);return this.request=e.on(this._map).at(t).tolerance(this.defaultSettings.identifyTolerance).layers(this.opts.identifyIdProcessed).run(this.identifyComplete.bind(this)),this.request}}},{key:"identifyComplete",value:function(e,t){this.request=null,this.postIdentify(t)}},{key:"postIdentify",value:function(e){this.results=e,this.resultsChanged=!0,T.default.identifyComplete()}},{key:"retrieveSummaryAjax",value:function(){var e=this,t=u.default.DomUtil.get("layerinfo-loading");t&&(t.style.display="block"),p.default.wait([this.retrieveSummary(),this.retrieveInfographics()],function(n,r){e.summary=n,e.infographics=r,t&&(t.style.display="none"),T.default.retrieveSummaryComplete()},function(e){T.default.displayMessage("Error retrieving summary")})}},{key:"reloadInfographics",value:function(){var e=this;return this.retrieveInfographics().then(function(t){e.infographics=t})}},{key:"retrieveSummary",value:function(){return p.default.call({url:m.default.appendUrlWithParams(this.getMapServiceUrl(),{f:"json"}),crossDomain:!0,dataType:"jsonp"})}},{key:"retrieveInfographics",value:function(){var e=p.default.deferred();return e.resolve([null,null,null]),e.promise()}},{key:"getFilterBoxShowsOpacitySlider",value:function(){return this.defaultSettings.filterBoxShowsOpacitySlider}},{key:"getState",value:function(){var e=this.getLayers(),t=this.getPreProcessedIdentifyIds(),n=this.getLayerDefs(),r=this.getLegendIds();return{overlay:e,identify:t,defs:n,legend:r}}},{key:"getSummaryComponent",value:function(){return this.getSummary(this.summary[0])}},{key:"getSummary",value:function(e){return e?(e.serviceDescription+"<br><br><strong>Credits</strong><br>"+e.copyrightText).replace(/\n/g,"<br>"):null}},{key:"getInfographicsComponent",value:function(){return this.infographics?this.getInfographics.apply(this,a(this.infographics)):null}},{key:"getInfographics",value:function(e,t,n){return null}},{key:"getLegend",value:function(){var e=this.getLegendIds(),t=_.default.createElement(C.default,null);return"string"==typeof e&&e.match(/\.(jpg|png|gif)$/gi)?t=_.default.createElement(f.default,{src:e}):this.legendLayers&&(t=_.default.createElement(S.default,{url:this.opts.src,title:this.opts.name,layers:this.legendLayers,legendIds:e})),t}},{key:"getLegendFootnote",value:function(e){var t=this;for(var n in e)g.default.get(this.getMapServiceUrl()+"/"+e[n].layerId,function(e,n){e||t.setLegendFootnote(n)})}},{key:"setLegendFootnote",value:function(e){for(var t in this.legendLayers)if(e.id==this.legendLayers[t].layerId){this.legendLayers[t].description=e.description;break}}},{key:"getMetadata",value:function(){}},{key:"showsFilterbox",value:function(){return null!==this.getFilterbox()}},{key:"getFilterbox",value:function(){return null}},{key:"getFeatureCollection",value:function(){return this.results}},{key:"processOutput",value:function(e,t,n){var r,a=[];return e&&e.features&&e.features.length>0&&(r=e.features,a=this.processIdentifyFeatures(r,t,n)),a}},{key:"processIdentifyFeatures",value:function(e,t){var n,r,a,i,s,l=this,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,c=[];return t?(c=e.map(function(e){var r=null;return Array.isArray(t)?s=t:"object"===("undefined"==typeof t?"undefined":o(t))&&(n=l.getDisplayAttrsByLayerId(t,e.layerId),Number.isInteger(n)&&(n=t[n]),s=n?n:t.default||void 0),s&&(a=s.map(function(e,t){return e.name}),a=l.postProcessDisplayHeader(a,e.layerId),e.properties._layerId||(e.properties._layerId=e.layerId),r=l.postProcessDisplayRow(l.processAttrRows(s,e),e.properties)),r}).filter(function(e){return null!==e}),a&&c.unshift(a)):(i=Object.keys(e[0].properties),r=i.map(function(e,t){return e}),c.push(r.slice(0,u)),e.forEach(function(e,t){var n=m.default.objectValues(e.properties);r=n.map(function(t,n){return l.generateCol(t,e.geometry,n)}),c.push(l.postProcessDisplayRow(r.slice(0,u),e.properties))})),c}},{key:"postProcessDisplayHeader",value:function(e,t){return e}},{key:"postProcessDisplayRow",value:function(e,t){return e}},{key:"processAttrRows",value:function(e,t){var n=this;return e.map(function(e,r){var a=void 0;return a=e.value?[e.value]:e.fields?Array.isArray(e.fields)?e.fields.map(function(e,n){return t.properties[e]}):[t.properties[e.fields]]:[t.properties[e.name]],e.array||(a=n.retrieveFirstValidValue(a)),e.func&&(a=E.default.format(a,e.func)),n.generateCol(a,t.geometry,r)})}},{key:"generateCol",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n=null!==n?n:this.defaultSettings.featureHighlightIndex,e=n===this.defaultSettings.featureHighlightIndex?this.generateClickableCol(e,this.getHighlightMapAreaFunc(t),!0):e}},{key:"convertToClickableCol",value:function(e,t,n){e[t]=this.generateClickableCol(e[t],n)}},{key:"generateClickableCol",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return _.default.createElement(B.default,{text:e,onClick:t,highlightCol:n})}},{key:"getHighlightMapAreaFunc",value:function(e){return e=m.default.reversePolygonLatLng(e),function(){T.default.highlightZoomCenterMap(e)}}},{key:"retrieveFirstValidValue",value:function(e){return e.find(function(e){return null!=e})}},{key:"getIdentifyDisplay",value:function(e){var t=this.processOutput(this.getFeatureCollection(),this.opts.displayAttrs,this.defaultSettings.columnLimit);return _.default.createElement(O.default,{key:e,display:t})}},{key:"getIdentifyDisplayCache",value:function(e){return this.displayCache&&!this.resultsChanged||(this.displayCache=this.getIdentifyDisplay(e),this.resultsChanged=!1),this.displayCache}},{key:"processIdentifyId",value:function(e){return this.getIdentifyOption()+":"+(Array.isArray(e)?e.join(","):e)}},{key:"getIdentifyOption",value:function(){return"visible"}},{key:"resetCaching",value:function(){this.resultsChanged=!0}},{key:"addTo",value:function(e){var t=this,n=this;this._map=e,this.map.addTo(e),this.legendLayers||(g.default.Support.cors=!1,g.default.get(this.getLegendUrl(),function(e,r){e?T.default.displayMessage("Error retrieving legend"):(n.legendLayers=r.layers,t.defaultSettings.legendFootnote&&n.getLegendFootnote(n.legendLayers))}));var r=this.events[this.eventList.PostAdd];r&&r.forEach(function(e){e()})}},{key:"on",value:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)}},{key:"off",value:function(e,t){if(t){var n=void 0,r=this.events[e];for(n=r.length-1;n>=0;n--)r[n]===t&&r.splice(n,1)}else delete this.events[e]}},{key:"removeMap",value:function(){var e=this.events[this.eventList.PreRemove];e&&e.forEach(function(e){e()}),this.resetMap(),this.map.remove(),this._map=null}},{key:"clearDrawings",value:function(){this.drawings.forEach(function(e){e.remove()}),this.drawings=[]}},{key:"clearLayerGroup",value:function(){var e=this;this.layerGroup?(this.layerGroup.forEach(function(t){e._map.removeLayer(t)}),this.layerGroup=[]):this.layerGroup=[]}},{key:"resetMap",value:function(){this.clearDrawings(),this.clearLayerGroup(),this.setLayers(this.opts.layers),this.map.setLayerDefs({}),this.setIdentifyLayers(this.opts.identifyid),this.setLegend(this.opts.legend,!1)}},{key:"getZIndex",value:function(){return this.zIndex}},{key:"setZIndex",value:function(e){this.zIndex=e,this.map.setZIndex(e),this.triggerEvent(this.eventList.ZIndexChange,e)}},{key:"setSpatialReference",value:function(e){this.map.options.bboxSR=e,this.map.options.imageSR=e,this.triggerEvent(this.eventList.SpatialReferenceChange,e)}},{key:"setOpacity",value:function(e){this.map.setOpacity(e),this.drawings.forEach(function(t){t.setStyle({fillOpacity:e,opacity:e})})}},{key:"getLayers",value:function(){var e=this.map.getLayers();return 1===e.length&&e[0]===-1?[]:this.map.getLayers()}},{key:"getIdentifyIds",value:function(){return this.opts.identifyIdProcessed}},{key:"getPreProcessedIdentifyIds",value:function(){return this.opts.identifyIdPreProcessed}},{key:"setLayer",value:function(e){Number.isInteger(e)||(e=parseInt(e)),this.setLayers([e])}},{key:"setLayers",value:function(e){this.map.setLayers(0===e.length?[-1]:e)}},{key:"setIdentifyLayer",value:function(e){Number.isInteger(e)||(e=parseInt(e)),this.setIdentifyLayers([e])}},{key:"setIdentifyLayers",value:function(e){this.opts.identifyIdPreProcessed=e,
this.opts.identifyIdProcessed=this.processIdentifyId(e)}},{key:"setLegend",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.opts.newLegend=e,t&&T.default.refreshDisplay()}},{key:"getLegendIds",value:function(){return this.opts.newLegend}},{key:"getLayerDefs",value:function(){return this.map.getLayerDefs()}},{key:"setLayerDef",value:function(e,t){var n=this.getLayerDefs();n=n?n:{},n[e]=t,this.map.setLayerDefs(n)}},{key:"loadModal",value:function(){T.default.loadModal(this.getName())}},{key:"loadModalComplete",value:function(){T.default.loadModalComplete(this.getName())}},{key:"showModal",value:function(e){T.default.showModal(e)}},{key:"triggerEvent",value:function(e,t){var n=this.events[e];n&&n.forEach(function(e){e(t)})}},{key:"getLayerBufferIdentifyUrl",value:function(){return this.getMapServiceUrl()+"/identify"}},{key:"abortBuffer",value:function(){this.bufferRequest&&(this.bufferRequest.abort(),this.bufferRequest=null)}},{key:"bufferTask",value:function(e){var t=this,n=this.getLayerBufferIdentifyUrl(),r=this.getLayerBufferIdentifyParams(e);this.abortBuffer(),this.bufferRequest=g.default.post(n,r,function(e,n){if(e){var r=u.default.DomUtil.get("buffer-loading");r&&(r.style.display="none"),T.default.bufferDone()}else{var a=g.default.Util.responseToFeatureCollection(n);t.postBufferTask.call(t,a)}})}},{key:"getLayerBufferIdentifyIds",value:function(){return this.getIdentifyIds()}},{key:"getLayerBufferIdentifyParams",value:function(e){var t={sr:4326,layers:this.getLayerBufferIdentifyIds(),tolerance:1,returnGeometry:!0},n=g.default.Util.boundsToExtent(this._map.getBounds()),r=this._map.getSize(),a=this.map.getLayerDefs();for(var i in a)a[i]=decodeURI(a[i]);return t.layerDefs=a,t.mapExtent=[n.xmin,n.ymin,n.xmax,n.ymax],t.imageDisplay=[r.x,r.y,96],t.geometry=e,t.geometryType="esriGeometryPolygon",t}},{key:"postBufferTask",value:function(e){this.bufferRequest=null,this.postBufferComplete(e)}},{key:"postBufferComplete",value:function(e){var t=this;e.features.forEach(function(e){e.layerId=t.opts.identifyIdPreProcessed[0]}),this.results=e,this.resultsChanged=!0,T.default.bufferDone()}},{key:"getDisplayAttrsByLayerId",value:function(e,t){var n=e[t];if(n)return n;for(var r in e){var a=r.split("-"),i=!0,o=!0,s=!1,l=void 0;try{for(var u,c=a[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value;if(t==f){n=e[r],i=!1;break}}}catch(e){s=!0,l=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw l}}if(!i)break}return n}},{key:"drawFeatures",value:function(e,t){var n=this.geometryToDrawing(e,t);return this.drawings.push(n),n.addTo(this._map).bringToFront(),n}},{key:"geometryToDrawing",value:function(e,t){var n=void 0;switch(e.type){case M.default.Point:n=new u.default.marker(e.coordinates[0],t);break;case M.default.Line:n=new u.default.Polyline(e.coordinates,t);break;case M.default.Polygon:n=new u.default.polygon(e.coordinates,t);break;case M.default.MultiLine:n=new u.default.Polyline(e.coordinates,t);break;case M.default.MultiPolygon:n=new u.default.polygon(e.coordinates,t);break;default:console.log("geometryToDrawing: Unknown geometry type")}return n}}]),e}());D.PermittedConfigParams=["name","class","src","layers","identifyid","tiled","legend","layerinfo","queryId","tolerance","displayAttrs","highlight","internet","columnLimit","exportCSV","defaultOpacity","opacitySlider","dateFieldColumnName","queryOptions","legendFootnote","search"],t.default=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(68),s=r(o),l=n(53),u=r(l),c=function(){function e(){a(this,e),this.classes={}}return i(e,[{key:"getLayer",value:function(e,t){var n=this.classes[e]?this.classes[e]:u.default;return new n(t)}},{key:"getBasemap",value:function(e,t,n){var r=s.default;return new r(t,n)}}]),e}();t.default=new c},function(e,t){"use strict";L.Photo=L.FeatureGroup.extend({options:{icon:{iconSize:[40,40]}},initialize:function(e,t){L.setOptions(this,t),L.FeatureGroup.prototype.initialize.call(this,e)},addLayers:function(e){if(e)for(var t=0,n=e.length;t<n;t++)this.addLayer(e[t]);return this},addLayer:function(e){L.FeatureGroup.prototype.addLayer.call(this,this.createMarker(e))},createMarker:function(e){var t=L.marker(e,{icon:L.divIcon(L.extend({html:'<div id="manual_popup" style="background-image: url('+e.thumbnail+');"></div>',className:"leaflet-marker-photo"},e,this.options.icon)),title:e.caption||""});return t.photo=e,t}}),L.photo=function(e,t){return new L.Photo(e,t)},L.MarkerClusterGroup&&(L.Photo.Cluster=L.MarkerClusterGroup.extend({options:{featureGroup:L.photo,maxClusterRadius:100,showCoverageOnHover:!1,iconCreateFunction:function(e){return new L.DivIcon(L.extend({className:"leaflet-marker-photo",html:'<div style="background-image: url('+e.getAllChildMarkers()[0].photo.thumbnail+');"></div><b>'+e.getChildCount()+"</b>"},this.icon))},icon:{iconSize:[40,40]}},initialize:function(e){e=L.Util.setOptions(this,e),L.MarkerClusterGroup.prototype.initialize.call(this),this._photos=e.featureGroup(null,e),this.markers=[]},add:function(e){return this.addLayer(this._photos.addLayers(e)),this},clear:function(){this._photos.clearLayers(),this.clearLayers()}}),L.photo.cluster=function(e){return new L.Photo.Cluster(e)})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(5),u=r(l),c=n(10),f=n(18),d=(r(f),n(34)),p=r(d),h=n(3),m=r(h),y=n(21),g=(r(y),n(20)),v=(r(g),function(e){function t(e){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),s(t,[{key:"searchPromise",value:function(){var e=this;return u.default.wait([this.querySearch()],function(t){"string"==typeof t&&(t=JSON.parse(t));var n=t&&t.description;if(!n)return void e.deferred.resolve([]);var r=e.formatResults(t);e.deferred.resolve(r)}),this.deferred.promise()}},{key:"querySearch",value:function(){var e={ask:this.searchText},t=c.ControllerUrl.QuerySearch;return u.default.call({url:t,dataType:"json",data:e,type:"POST"})}},{key:"formatResults",value:function(e){var t={0:"Planning Commitment",1:"Parking Lot Map",2:"Road Reserve Site Boundary",3:"Existing Land Use",4:"Land Ownership",5:"Housing Units",6:"Total Population",7:"Land Title",8:"Vehicle Ownership",9:"National Cycling Plan",10:"Planning Area DNA",11:"Land Use 2030",12:"Gazetted Approved Amendments to MP",13:"Retail Density",14:"Parking Offences",15:"Childcare Services",16:"Eldercare Services",17:"Home/Work Flow by Ezlink Records",18:"Urban Design Guidelines",19:"Islandwide Job Distribution"},n={query:"query",id:0,layers:[],buffers:[],locations:[],locationNames:[],display:""};n.buffers.push(e.buffers);for(var r=0;r<e.layers.length;r++)n.layers.push(t[e.layers[r].index]);for(var a=0;a<e.locations.length;a++){var i=e.locations[a].autoCorrect?e.locations[a].autoCorrect:e.locations[a].textInput;n.locationNames.includes(i)||n.locationNames.push(i),n.locations.push(L.latLng(e.locations[a].coords.wgs84.lat,e.locations[a].coords.wgs84.lon))}n.latlngbounds=L.latLngBounds(n.locations);var o="Query ";if(n.layers.length&&n.locationNames.length&&n.buffers[0].isBuffered)o+="Layers: "+n.layers.join(", ")+" | Locations: "+n.locationNames.join(", ")+" | Buffer: "+m.default.niceNumberFormat(n.buffers[0].radius)+" "+n.buffers[0].unit+"s";else if(n.layers.length&&n.locationNames.length)o+="Layers: "+n.layers.join(", ")+" | Locations: "+n.locationNames.join(", ");else if(n.layers.length)o+="Layers: "+n.layers.join(", ");else{if(!n.locationNames.length)return[];o+="Locations: "+n.locationNames.join(", ")}return n.display=o,[n]}}]),t}(p.default));t.default=v},function(e,t){e.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.ownerDocument,n=t.body,r=void 0,a=o.default.css(e,"position"),i="fixed"===a||"absolute"===a;if(!i)return"html"===e.nodeName.toLowerCase()?null:e.parentNode;for(r=e.parentNode;r&&r!==n;r=r.parentNode)if(a=o.default.css(r,"position"),"static"!==a)return r;return null}Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=r(i);t.default=a,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={isAppearSupported:function(e){return e.transitionName&&e.transitionAppear||e.animation.appear},isEnterSupported:function(e){return e.transitionName&&e.transitionEnter||e.animation.enter},isLeaveSupported:function(e){return e.transitionName&&e.transitionLeave||e.animation.leave},allowAppearCallback:function(e){return e.transitionAppear||e.animation.appear},allowEnterCallback:function(e){return e.transitionEnter||e.animation.enter},allowLeaveCallback:function(e){return e.transitionLeave||e.animation.leave}};t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(175),i=r(a),o=n(1),s=r(o),l=s.default.createClass({displayName:"LazyRenderBox",propTypes:{children:o.PropTypes.any,className:o.PropTypes.string,visible:o.PropTypes.bool,hiddenClassName:o.PropTypes.string},shouldComponentUpdate:function(e){return e.hiddenClassName||e.visible},render:function(){var e=this.props,t=e.hiddenClassName,n=e.visible,r=(0,i.default)(e,["hiddenClassName","visible"]);return t||s.default.Children.count(r.children)>1?(!n&&t&&(r.className+=" "+t),s.default.createElement("div",r)):s.default.Children.only(r.children)}});t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=l.default.unstable_batchedUpdates?function(e){l.default.unstable_batchedUpdates(n,e)}:n;return(0,o.default)(e,t,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(44),o=r(i),s=n(13),l=r(s);e.exports=t.default},function(e,t,n){e.exports=n(27)(1031)},function(e,t,n){e.exports=n(4)(1108)},function(e,t,n){e.exports=n(185)(597)},function(e,t,n){e.exports=n(4)(780)},function(e,t){"use strict";function n(){return!1}function r(){return!0}function a(){this.timeStamp=Date.now(),this.target=void 0,this.currentTarget=void 0}Object.defineProperty(t,"__esModule",{value:!0}),a.prototype={isEventObject:1,constructor:a,isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){this.isDefaultPrevented=r},stopPropagation:function(){this.isPropagationStopped=r},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r,this.stopPropagation()},halt:function(e){e?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()}},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return null===e||void 0===e}function i(){return d}function o(){return p}function s(e){var t=e.type,n="function"==typeof e.stopPropagation||"boolean"==typeof e.cancelBubble;u.default.call(this),this.nativeEvent=e;var r=o;"defaultPrevented"in e?r=e.defaultPrevented?i:o:"getPreventDefault"in e?r=e.getPreventDefault()?i:o:"returnValue"in e&&(r=e.returnValue===p?i:o),this.isDefaultPrevented=r;var a=[],s=void 0,l=void 0,c=void 0,f=h.concat();for(m.forEach(function(e){t.match(e.reg)&&(f=f.concat(e.props),e.fix&&a.push(e.fix))}),l=f.length;l;)c=f[--l],this[c]=e[c];for(!this.target&&n&&(this.target=e.srcElement||document),this.target&&3===this.target.nodeType&&(this.target=this.target.parentNode),l=a.length;l;)(s=a[--l])(this,e);this.timeStamp=e.timeStamp||Date.now()}Object.defineProperty(t,"__esModule",{value:!0});var l=n(66),u=r(l),c=n(42),f=r(c),d=!0,p=!1,h=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","shiftKey","target","timeStamp","view","type"],m=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function(e,t){a(e.which)&&(e.which=a(t.charCode)?t.keyCode:t.charCode),void 0===e.metaKey&&(e.metaKey=e.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^hashchange$/,props:["newURL","oldURL"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},{reg:/^(mousewheel|DOMMouseScroll)$/,props:[],fix:function(e,t){var n=void 0,r=void 0,a=void 0,i=t.wheelDelta,o=t.axis,s=t.wheelDeltaY,l=t.wheelDeltaX,u=t.detail;i&&(a=i/120),u&&(a=0-(u%3===0?u/3:u)),void 0!==o&&(o===e.HORIZONTAL_AXIS?(r=0,n=0-a):o===e.VERTICAL_AXIS&&(n=0,r=a)),void 0!==s&&(r=s/120),void 0!==l&&(n=-1*l/120),n||r||(r=a),void 0!==n&&(e.deltaX=n),void 0!==r&&(e.deltaY=r),void 0!==a&&(e.delta=a)}},{reg:/^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,props:["buttons","clientX","clientY","button","offsetX","relatedTarget","which","fromElement","toElement","offsetY","pageX","pageY","screenX","screenY"],fix:function(e,t){var n=void 0,r=void 0,i=void 0,o=e.target,s=t.button;return o&&a(e.pageX)&&!a(t.clientX)&&(n=o.ownerDocument||document,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===s||(1&s?e.which=1:2&s?e.which=3:4&s?e.which=2:e.which=0),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===o?e.toElement:e.fromElement),e}}],y=u.default.prototype;(0,f.default)(s.prototype,y,{constructor:s,preventDefault:function(){var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=p,y.preventDefault.call(this)},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=d,y.stopPropagation.call(this)}}),t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(12),s=r(o),l=n(19),u=r(l),c=n(3),f=r(c),d=n(1),p=r(d),h=n(73),m=r(h),y=function(){function e(t,n){a(this,e);this._lodMap={},this.basemap=t,this.internal=!f.default.isAbsUrl(t.src),this.crs=s.default.CRS[t.name]||s.default.CRS[t.crs],this.obj=[],this.opts={url:t.src,minZoom:12,maxZoom:20,continuousWorld:!0,useCors:t.useCors|!1,zIndex:0},t.subdomains&&(this.opts.subdomains=t.subdomains),this.crs||this.obj.push(this.generateLayer())}return i(e,[{key:"generateLayer",value:function(){var e=this.getBasemapClassObj();return this.isArcGisService||(e.tileUrl=e.tileUrl.replace(/\/tile\/{z}\/{y}\/{x}$/,"")),e}},{key:"remove",value:function(e){for(var t=0,n=this.obj.length;t<n;t++)if(this.obj[t].mapId===e.mapId){e.removeLayer(this.obj[t]),this.obj[t].mapId=null;break}}},{key:"addTo",value:function(e){for(var t,n=!1,r=this.obj.length-1;r>=0;r--)if(null==this.obj[r].mapId){t=this.obj[r],n=!0;break}var t=t?t:this.getBasemapClassObj();n||this.obj.push(t),this.crs&&this.crs.options&&this.crs.options._lodMap&&(t._lodMap=this._lodMap),t.mapId=e.mapId,t.addTo(e)}},{key:"getBasemapClassObj",value:function(){return u.default.tiledMapLayer(this.opts)}},{key:"getInfo",value:function(){return p.default.createElement(m.default,{imageUrl:this.getImageUrl(),desc:this.getDescription()})}},{key:"getImageUrl",value:function(){return this.basemap.imageUrl}},{key:"getDescription",value:function(){return this.basemap.description}},{key:"getNumOfBasemapClassObj",value:function(){return this.obj.filter(function(e){return null!=e.mapId}).length}}]),e}();y.PermittedConfigParams=["name","class","src","crs","subdomains","legend","imageUrl","description","internet","useCors"],t.default=y},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[{name:"OneMap 2.0",src:"http://maps-{s}.onemap.sg/v2/Default/{z}/{x}/{y}.png",internet:!0},{name:"OneMap 2.0 (Night)",src:"http://maps-{s}.onemap.sg/v2/Night/{z}/{x}/{y}.png",internet:!0},{name:"OneMap 2.0 (Grey)",src:"http://maps-{s}.onemap.sg/v2/Grey/{z}/{x}/{y}.png",internet:!0},{name:"OneMap 2.0 (Original)",src:"http://maps-{s}.onemap.sg/v2/Original/{z}/{x}/{y}.png",internet:!0},{name:"OpenStreetMap",src:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",internet:!0},{name:"Google Map",src:"https://mt{s}.googleapis.com/vt?x={x}&y={y}&z={z}",subdomains:"123",legend:"N/A",internal:0,description:"Street map from Google. Please refer to Google Map's Term and Condition for the updateness of the map."},{name:"Parks & Waterbodies Plan",crs:"EPSG3857",src:"https://www.ura.gov.sg/ArcGis/rest/services/maps2/MP14_PW_gaz_maps/MapServer",description:"The Master Plan (MP) is the statutory land use plan which guides Singapore's development in the medium term over the next 10 to 15 years. It is reviewed every five years and translates the broad long-term strategies of the Concept Plan into detailed plans to guide the development of land and property. The Master Plan shows the permissible land use and density for developments in Singapore."},{name:"Master Plan (Approved Amendments Incorporated)",crs:"EPSG3857",src:"https://www.ura.gov.sg/ArcGis/rest/services/maps2/Updated_Gaz_MP14_Land_Use_Maps/MapServer",description:"The Master Plan (MP) is the statutory land use plan which guides Singapore's development in the medium term over the next 10 to 15 years. It is reviewed every five years and translates the broad long-term strategies of the Concept Plan into detailed plans to guide the development of land and property. The Master Plan shows the permissible land use and density for developments in Singapore."},{name:"Master Plan 2014",crs:"EPSG3857",src:"https://www.ura.gov.sg/ArcGis/rest/services/maps2/MP14_Land_Use_gaz_maps/MapServer",description:"The Master Plan (MP) is the statutory land use plan which guides Singapore's development in the medium term over the next 10 to 15 years. It is reviewed every five years and translates the broad long-term strategies of the Concept Plan into detailed plans to guide the development of land and property. The Master Plan shows the permissible land use and density for developments in Singapore."},{name:"Landed Housing Areas Plan",crs:"EPSG3857",src:"https://www.ura.gov.sg/ArcGis/rest/services/maps2/MP14_LHA_gaz_maps/MapServer",description:"The Master Plan (MP) is the statutory land use plan which guides Singapore's development in the medium term over the next 10 to 15 years. It is reviewed every five years and translates the broad long-term strategies of the Concept Plan into detailed plans to guide the development of land and property. The Master Plan shows the permissible land use and density for developments in Singapore."},{name:"Building Height Plan",crs:"EPSG3857",src:"https://www.ura.gov.sg/ArcGis/rest/services/maps2/MP14_BLDG_HT_gaz_maps/MapServer",description:"The Master Plan (MP) is the statutory land use plan which guides Singapore's development in the medium term over the next 10 to 15 years. It is reviewed every five years and translates the broad long-term strategies of the Concept Plan into detailed plans to guide the development of land and property. The Master Plan shows the permissible land use and density for developments in Singapore."},{name:"Activity Generating Uses Plan",crs:"EPSG3857",src:"https://www.ura.gov.sg/ArcGis/rest/services/maps2/MP14_AGU_gaz_maps/MapServer",description:"The Master Plan (MP) is the statutory land use plan which guides Singapore's development in the medium term over the next 10 to 15 years. It is reviewed every five years and translates the broad long-term strategies of the Concept Plan into detailed plans to guide the development of land and property. The Master Plan shows the permissible land use and density for developments in Singapore."},{name:"Street Block,Urban Design Area,Conservation & Monuments Plan",crs:"EPSG3857",src:"https://www.ura.gov.sg/ArcGis/rest/services/maps2/MP14_SBUD_gaz_maps/MapServer",description:"The Master Plan (MP) is the statutory land use plan which guides Singapore's development in the medium term over the next 10 to 15 years. It is reviewed every five years and translates the broad long-term strategies of the Concept Plan into detailed plans to guide the development of land and property. The Master Plan shows the permissible land use and density for developments in Singapore."}];t.default=n},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(64),s=(r(o),function(){function e(){a(this,e),this.regex=new RegExp("","i")}return i(e,[{key:"add",value:function(e,t,n){var r=Date.today().setTimeToNow(),a=t.lat,i=t.lng,o=r.toString("dd/MM/yyyy"),s=r.toString("HH:mm:ss"),l=e.replace(/'|"/g,"")+r.toString("HHmmssddMMyyyy"),u=[a,i,n,e,s,o];localStorage.setItem(l,u.join(";"))}},{key:"remove",value:function(e){window.localStorage.removeItem(e)}},{key:"getBookmarks",value:function(){var e=void 0,t=void 0,n=void 0,r=[],a=window.localStorage,i=a.length;if(void 0!==a&&null!==a)for(e=0;e<i;e++){t=a.key(e),n=a.getItem(t).split(";");var o=n[3];this.regex.test(o)&&r.push({key:t,lat:n[0],lng:n[1],zoom:n[2],name:o,time:n[4],date:n[5]})}return r}},{key:"getBookmark",value:function(e){var t=window.localStorage.getItem(e),n=void 0;return t&&(n=t.split(";"),n={key:e,lat:n[0],lng:n[1],zoom:n[2],name:n[3],time:n[4],date:n[5]}),n}},{key:"search",value:function(e){this.regex=new RegExp(e,"i")}},{key:"clearSearch",value:function(){this.regex=new RegExp("","i")}}]),e}());t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(117),f=r(c),d=n(2),p=r(d),h=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={bookmarks:f.default.getBookmarks(),bookmarkName:"Site A",search:""},n._onChange=n._onChange.bind(n),n}return o(t,e),s(t,[{key:"componentDidMount",value:function(){f.default.addChangeListener(this._onChange)}},{key:"componentWillUnmount",value:function(){f.default.removeChangeListener(this._onChange)}},{key:"_onChange",value:function(){this.setState({bookmarks:f.default.getBookmarks()})}},{key:"toDisplay",value:function(e){var t=this;return e.map(function(e){return u.default.createElement("tr",{key:e.key},u.default.createElement("td",{className:"bkmark-name",onClick:t.focusToBookmark.bind(t,e.key)},u.default.createElement("span",{className:"bk-text"},e.name),u.default.createElement("small",{className:"bk-text"},e.date," ",e.time)),u.default.createElement("td",null,u.default.createElement("span",{className:"s-close bk-close",onClick:t.removeBookmark.bind(t,e.key)})))})}},{key:"focusToBookmark",value:function(e){var t=f.default.getBookmark(e);t&&p.default.highlightZoomCenterMap(null,parseInt(t.zoom),{lat:t.lat,lng:t.lng})}},{key:"addBookmark",value:function(){p.default.addBookmark(this.state.bookmarkName)}},{key:"removeBookmark",value:function(e){p.default.removeBookmark(e)}},{key:"onChangeBookmarkName",value:function(e){this.setState({bookmarkName:e.target.value})}},{key:"onChangeSearch",value:function(e){this.setState({search:e.target.value}),p.default.searchBookmark(e.target.value)}},{key:"closeMenu",value:function(){p.default.closeMenu()}},{key:"render",value:function(){var e=this.toDisplay(this.state.bookmarks);return u.default.createElement("div",{id:"bookmarkinfo",className:"bookmarkinfo-color"},u.default.createElement("div",{className:"si-title-wrapper si-title-color"},u.default.createElement("span",{className:"si-title"},"Bookmark"),u.default.createElement("span",{id:"bk-title-close",className:"right-close-btn right-close-btn-color",onClick:this.closeMenu.bind(this)},u.default.createElement("i",{className:"icon-cancel-circled"}))),u.default.createElement("div",{className:"bookmark-wrapper"},u.default.createElement("div",{className:"bookmark-add"},u.default.createElement("table",null,u.default.createElement("tbody",null,u.default.createElement("tr",null,u.default.createElement("td",null,u.default.createElement("input",{id:"addbookmark",className:"addbookmark-color",defaultValue:"Site A",value:this.state.bookmarkName,onChange:this.onChangeBookmarkName.bind(this)})),u.default.createElement("td",null,u.default.createElement("button",{id:"addbookmarkbtn",className:"addbookmarkbtn-color",onClick:this.addBookmark.bind(this)},"Add")))))),u.default.createElement("div",{className:"bookmark-search"},u.default.createElement("span",{className:"search-icon"}),u.default.createElement("input",{id:"searchbookmark",className:"searchbookmark-color",placeholder:"Search bookmark name",onChange:this.onChangeSearch.bind(this)})),u.default.createElement("div",{className:"bookmark-content-wrapper"},u.default.createElement("table",{id:"bookmark-content"},u.default.createElement("tbody",null,e)))))}}]),t}(u.default.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(30),f=r(c),d=n(48),p=r(d),h=n(2),m=r(h),y=n(20),g=r(y),v=n(8),_=r(v),b=n(22),E=r(b),w=n(7),S=r(w),k=n(6),C=r(k),N=n(35),O=r(N),P=n(3),T=r(P),L=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={bufferLoading:E.default.getBufferLoadingState(),showId:0,point:g.default.getPointBufferStatus(),polygon:g.default.getPolygonBufferStatus(),radius:g.default.getRadius(),selected:S.default.getSelected(),isBuffer:!0,expanded:!1,bufferOptionExpanded:!0},n._defaultVal=g.default.getRadius(),n._maxVal=1e4,n.onBufferDone=n.onBufferDone.bind(n),n._onUiChange=n._onUiChange.bind(n),n.initialize(),n}return o(t,e),s(t,[{key:"_onRowClick",value:function(e){var t=this;return function(n){t.state.showId===e&&(e=-1),t.setState({showId:e})}}},{key:"initialize",value:function(){this.state.point=!0,this.state.polygon=!1,this.state.radius=this._defaultVal,g.default.setPointBufferStatus(!0),g.default.setPolygonBufferStatus(!1),g.default.setRadius(this._defaultVal),g.default.getQueried()?g.default.setQueried(!1):g.default.pointBuffer()}},{key:"onBufferDone",value:function(){this.setState({point:g.default.getPointBufferStatus(),polygon:g.default.getPolygonBufferStatus(),radius:g.default.getRadius()})}},{key:"componentWillMount",value:function(){this.clearBufferResults()}},{key:"componentDidMount",value:function(){g.default.addChangeListener(this.onBufferDone),O.default.disableDrawHandler(),_.default.disableMapOnClickIdentifyHandler(),E.default.addChangeListener(this._onUiChange),g.default._isBufferOn=!0;var e=this.refs.bufferResults;T.default.setPerfectScrollbar(e)}},{key:"componentWillUnmount",value:function(){g.default.removeChangeListener(this.onBufferDone),_.default.enableMapOnClickIdentifyHandler(),g.default.disableBufferDrawnItem(),E.default.removeChangeListener(this._onUiChange),g.default._isBufferOn=!1}},{key:"_onUiChange",value:function(){this.setState({bufferLoading:E.default.getBufferLoadingState()})}},{key:"clearBufferResults",value:function(){var e=this.state.selected;e.forEach(function(e){e.results=[],e.resultsChanged=!0})}},{key:"closeMenu",value:function(){m.default.closeMenu(),m.default.clearBuffer()}},{key:"pointBuffer",value:function(){g.default.getRadius()<1&&(g.default.setRadius(this._defaultVal),this.changeSliderPosition(this._defaultVal)),this.state.point||m.default.pointBuffer()}},{key:"polygonBuffer",value:function(){g.default.getRadius()>1&&(g.default.setRadius(0),this.changeSliderPosition(0)),this.state.polygon||m.default.polygonBuffer()}},{key:"bufferDone",value:function(){m.default.bufferDone()}},{key:"clearBuffer",value:function(){this.clearBufferResults(),m.default.clearBuffer()}},{key:"bufferSliderChange",value:function(e){m.default.bufferSliderChange(e)}},{key:"handleChange",value:function(e){var t=+e.target.value;this.validateInput(t)&&(this.setState({radius:t}),this.changeSliderPosition(t))}},{key:"changeSliderPosition",value:function(e){(0,C.default)(this.refs.bufferslider.refs.slider).val(e).change()}},{key:"validateInput",value:function(e){var t=e>=0;return t||m.default.displayMessage("Circle radius must be within "+this._maxVal+" meters."),t}},{key:"toggleBufferPanel",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"toggleBufferOption",value:function(){this.setState({bufferOptionExpanded:!this.state.bufferOptionExpanded})}},{key:"render",value:function(){var e={marginBottom:"20px",textAlign:"center"},t={marginTop:"20px"},n=this.state.bufferOptionExpanded?"cate-up-icon":"cate-minus-icon",r=this.state.bufferOptionExpanded?{
display:"block"}:{display:"none"},a=this.state.expanded,i=a?"reduce-icon expand-icon-color":"expand-icon expand-icon-color",o=a?"icon-resize-small":"icon-resize-full",s=a?{width:"66%"}:{width:"33%"};return u.default.createElement("div",{id:"bufferinfo",className:"bufferinfo-color",style:s},u.default.createElement("div",{className:"si-title-wrapper si-title-color"},u.default.createElement("span",{className:"si-title"},"Buffer Tool ",this.state.bufferLoading?u.default.createElement("i",{id:"buffer-loading",className:"icon-spin5 animate-spin"}):null," "),u.default.createElement("span",{id:"bufferinfo-resize",className:i,onClick:this.toggleBufferPanel.bind(this)},u.default.createElement("i",{className:o})),u.default.createElement("span",{id:"bufferinfo-close",className:"right-close-btn right-close-btn-color",onClick:this.closeMenu.bind(this)},u.default.createElement("i",{className:"icon-cancel-circled"}))),u.default.createElement("div",{id:"bt-content"},u.default.createElement("div",{className:"buffer-wrapper"},u.default.createElement("div",{id:"buffer-options",onClick:this.toggleBufferOption.bind(this)},u.default.createElement("div",{className:"lr-title-wrapper"},u.default.createElement("span",{className:"lr-title"},"Buffer Option"),u.default.createElement("span",{className:n}))),u.default.createElement("div",{className:"bufferbtn-wrapper",style:r},u.default.createElement("div",{className:"bt-title-wrapper bt-title-color"},u.default.createElement("span",{className:"bt-title"},"Click on map to perform query")),u.default.createElement("div",{style:e},u.default.createElement("button",{className:"pointbuffer "+(this.state.point?"buffer-btn-selected":""),onClick:this.pointBuffer.bind(this)},"Point"),u.default.createElement("button",{className:"polygonbuffer "+(this.state.polygon?"buffer-btn-selected":""),onClick:this.polygonBuffer.bind(this)},"Polygon")),u.default.createElement("div",{className:"bt-slider"},u.default.createElement(f.default,{ref:"bufferslider",onSlide:this.bufferSliderChange.bind(this),min:0,max:this._maxVal,value:this._defaultVal}),u.default.createElement("div",{style:t},u.default.createElement("label",{htmlFor:"buffer-distance"},"Radius in meters (max 10KM): "),u.default.createElement("input",{id:"buffer-distance",type:"number",min:0,className:"buffer-distance-input",defaultValue:this._defaultVal,value:this.state.radius,onChange:this.handleChange.bind(this)}))),u.default.createElement("div",null,u.default.createElement("button",{id:"clearbuffer",onClick:this.clearBuffer.bind(this),className:"clearbuffer"},"Clear"))),u.default.createElement("div",{className:"si-title-wrapper si-title-color"},u.default.createElement("span",{className:"si-title"},"Buffer Results"),u.default.createElement("span",{className:"bf-loading"},u.default.createElement("i",{className:"icon-spin1 animate-spin"}))),u.default.createElement("div",{ref:"bufferResults",className:"buffer-results"},u.default.createElement("div",{id:"br-ul"},u.default.createElement(p.default,{selected:this.state.selected,showId:this.state.showId,onRowClick:this._onRowClick.bind(this)}))))))}}]),t}(u.default.Component);t.default=L},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(46),u=r(l),c=n(1),f=r(c),d=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props.imageUrl,t=this.props.desc;return f.default.createElement("div",{id:"popupMap-content",title:"Basemap Information"},f.default.createElement("div",{id:"map-image"},f.default.createElement(u.default,{src:e})),f.default.createElement("div",null,f.default.createElement("h4",null,"Description:"),f.default.createElement("div",{id:"map-2-description"},t)))}}]),t}(f.default.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(3),f=r(c),d=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props.text,t=this.props.onClick,n=this.props.highlightCol,r="0"===e?"":"underline";return t="0"===e?null:t.bind(this),e=n?e:f.default.niceNumberFormat(e),u.default.createElement("span",{className:r,onClick:t},e)}}]),t}(u.default.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={showAll:!1},e}return o(t,e),s(t,[{key:"showMore",value:function(e){this.setState({showAll:!0})}},{key:"hideText",value:function(e){this.setState({showAll:!1})}},{key:"render",value:function(){var e="...",t=u.default.createElement("div",{className:"ellipsis-text btn",onClick:this.showMore.bind(this)},"(more)"),n=u.default.createElement("div",{className:"ellipsis-text btn",onClick:this.hideText.bind(this)},"(hide)"),r=this.props.length||50,a=this.props.text;return"string"==typeof a&&a.length>r&&(a=this.state.showAll?u.default.createElement("div",null,a," ",n):u.default.createElement("div",null,a.slice(0,r)+e," ",t)),u.default.createElement("div",null,a)}}]),t}(u.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),u=(r(l),n(1)),c=r(u),f=n(75),d=r(f),p=n(106),h=n(63),m=r(h),y=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:""},n.defaultFilterConfig=n.defaultFilterConfig.bind(n),n.defaultProps={topTitle:"",filter:!1,filterconfig:n.defaultFilterConfig()},n}return o(t,e),s(t,[{key:"defaultFilterConfig",value:function(){var e={auto_filter:!0,filters_row_index:1,auto_filter_delay:1e3,state:!0,rows_counter:!0,rows_counter_text:"Results: ",btn_reset:!0,status_bar:!0,msg_filtering:"Filtering...",base_path:"/Scripts/node_modules/tablefilter/dist/tablefilter/",stylesheet:"/Content/css/lib/tablefilter/style/tablefilter.css"};return e}},{key:"toTable",value:function(e){var t=this,n=[c.default.createElement("th",{key:"rowNo"})],r=[],a=[];e.map(function(i,o){t.props.orientation!==p.ChartOrientation.Vertical?(t.tableRowsCount=o,0===o?(i.map(function(e,t){n.push(c.default.createElement("th",{key:"headerCol-"+t},c.default.createElement(d.default,{text:e})))}),r.push(c.default.createElement("tr",{key:"headerRow"},n))):(a=[],a.push(c.default.createElement("td",{key:"rowNo-"+o},o)),i.map(function(e,t){a.push(c.default.createElement("td",{key:"rowValue-"+o+"-"+t},c.default.createElement(d.default,{text:e})))}),r.push(c.default.createElement("tr",{key:"rowValues-"+o},a)))):o>0&&i.map(function(t,n){r.push(c.default.createElement("tr",null,c.default.createElement("td",null,e[0][n]),c.default.createElement("td",null,c.default.createElement(d.default,{text:t}))))})});var i=c.default.createElement("table",{id:this.props.id,ref:"tableDisplay"},c.default.createElement("tbody",null,r));return i}},{key:"componentDidMount",value:function(){if(this.props.filter&&this.tableRowsCount>1){var e=this.props.filterconfig?this.props.filterconfig:this.defaultFilterConfig(),t=new m.default(this.props.id,e);t.clearFilters(),t.init();try{t.clearFilters()}catch(e){console.log(e)}}}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=null;return e=""!=this.props.topTitle?c.default.createElement("div",{className:"lr-ul-table-wrapper"},c.default.createElement("h3",null,this.props.topTitle),this.toTable(this.props.display)):c.default.createElement("div",{className:"lr-ul-table-wrapper"},this.toTable(this.props.display))}}]),t}(c.default.Component);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",null,"Legend is not available.")}}]),t}(u.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(2),f=r(c),d=n(35),p=r(d),h=n(31),m=r(h),y=n(20),g=r(y),v=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={button:p.default.getButtonStatus(),result:p.default.getDrawResult(),colorId:p.default.getColorId()},n.onDrawDone=n.onDrawDone.bind(n),n}return o(t,e),s(t,[{key:"onDrawDone",value:function(){this.setState({button:p.default.getButtonStatus(),result:p.default.getDrawResult()})}},{key:"componentDidMount",value:function(){p.default.addChangeListener(this.onDrawDone),g.default.disableBufferDrawHandler(),p.default._registeredDrawEventHandler=!1}},{key:"componentWillUnmount",value:function(){p.default.removeChangeListener(this.onDrawDone),p.default.disableDrawHandler()}},{key:"closeMenu",value:function(){f.default.closeMenu()}},{key:"drawMarker",value:function(){this.state.button[m.default.Marker]||f.default.drawMarker()}},{key:"drawPolygon",value:function(){this.state.button[m.default.Polygon]||f.default.drawPolygon()}},{key:"drawLine",value:function(){this.state.button[m.default.Line]||f.default.drawLine()}},{key:"drawRectangle",value:function(){this.state.button[m.default.Rectangle]||f.default.drawRectangle()}},{key:"drawCircle",value:function(){this.state.button[m.default.Circle]||f.default.drawCircle()}},{key:"updateDrawnItemColor",value:function(e){this.state.colorId=e.target.id,f.default.updateDrawnItemColor(e.target.id)}},{key:"clearDrawing",value:function(){f.default.clearDrawing()}},{key:"generateSpans",value:function(e){var t=this,n=" draw-selected-color";return e.map(function(e){return u.default.createElement("span",{key:e,id:e,className:"color-button "+e+(t.state.colorId===e?n:"")})})}},{key:"render",value:function(){var e=" draw-tool-selected",t=[];for(var n in h.DrawColors)t.push(n);var r=this.generateSpans(t);return u.default.createElement("div",{id:"draw-tool",className:"draw-color"},u.default.createElement("div",{className:"si-title-wrapper si-title-color"},u.default.createElement("span",{className:"si-title"},"Draw Tool"),u.default.createElement("span",{id:"draw-close-btn",className:"right-close-btn right-close-btn-color",onClick:this.closeMenu.bind(this)},u.default.createElement("i",{className:"icon-cancel-circled"}))),u.default.createElement("div",{className:"draw-wrapper"},u.default.createElement("div",null,u.default.createElement("div",null,u.default.createElement("span",null,"Select Color")),u.default.createElement("div",{id:"color-palette",onClick:this.updateDrawnItemColor.bind(this)},r)),u.default.createElement("div",null,u.default.createElement("table",{className:"draw-table"},u.default.createElement("tbody",null,u.default.createElement("tr",{id:"pin-location",className:"pin-location-tr"+(this.state.button[m.default.Marker]?e:""),onClick:this.drawMarker.bind(this)},u.default.createElement("td",{width:"60px"},u.default.createElement("i",{className:"iconfont icon-location"})),u.default.createElement("td",null,u.default.createElement("span",null,"Pin a location"))),u.default.createElement("tr",{id:"draw-line",className:"draw-line-tr"+(this.state.button[m.default.Line]?e:""),onClick:this.drawLine.bind(this)},u.default.createElement("td",{width:"60px"},u.default.createElement("span",{className:"draw-line"})),u.default.createElement("td",null,u.default.createElement("span",null,"Draw a line"))),u.default.createElement("tr",{id:"draw-rectangle",className:"draw-rectangle-tr"+(this.state.button[m.default.Rectangle]?e:""),onClick:this.drawRectangle.bind(this)},u.default.createElement("td",{width:"60px"},u.default.createElement("span",{className:"draw-rectangle"})),u.default.createElement("td",null,u.default.createElement("span",null,"Draw a rectangle"))),u.default.createElement("tr",{id:"draw-circle",className:"draw-circle-tr"+(this.state.button[m.default.Circle]?e:""),onClick:this.drawCircle.bind(this)},u.default.createElement("td",{width:"60px"},u.default.createElement("span",{className:"draw-circle"})),u.default.createElement("td",null,u.default.createElement("span",null,"Draw a circle"))),u.default.createElement("tr",{id:"draw-polygon",className:"draw-polygon-tr"+(this.state.button[m.default.Polygon]?e:""),onClick:this.drawPolygon.bind(this)},u.default.createElement("td",{width:"60px"},u.default.createElement("span",{className:"draw-polygon"})),u.default.createElement("td",null,u.default.createElement("span",null,"Draw a polygon"))),u.default.createElement("tr",{id:"clear-draw",className:"clear-draw-tr",onClick:this.clearDrawing.bind(this)},u.default.createElement("td",{width:"60px"},u.default.createElement("i",{className:"iconfont icon-trash-empty"})),u.default.createElement("td",null,u.default.createElement("span",null,"Clear Drawings")))))),u.default.createElement("div",{id:"draw-result"},this.state.result)))}}]),t}(u.default.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(47),f=r(c),d=n(32),p=r(d),h=n(2),m=r(h),y=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.startX=0,n.state={dragging:!1,width:750},n.onBoxDrag=n.onBoxDrag.bind(n),n.onBoxDragEnd=n.onBoxDragEnd.bind(n),n.onBoxDragStart=n.onBoxDragStart.bind(n),n}return o(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.refs.map.offsetWidth;this.setState({width:e>=750?e:750}),m.default.resetMapSize()}},{key:"toggleDualBasemapMenu",value:function(){m.default.toggleDualBasemap()}},{key:"onBoxDragStart",value:function(e){if(e.touches){var t=e.touches[0];this.startX=t.pageX}else this.startX=e.clientX;this.startWidth=this.state.width,this.setState({dragging:!0})}},{key:"onBoxDrag",value:function(e){this.state.dragging&&this._draw(e)}},{key:"onBoxDragEnd",value:function(e){this.setState({dragging:!1}),m.default.resetMapSize()}},{key:"_draw",value:function(e){var t=0;if(e.touches){var n=e.touches[0];t=n.pageX}else t=e.clientX;0!==t&&this.setState({width:this.startWidth+(this.startX-t)})}},{key:"render",value:function(){var e={width:this.state.width+"px"};return u.default.createElement("div",{id:"right-map",style:e},u.default.createElement("div",{id:"resize-handler",ref:"map",draggable:"true",onDragStart:this.onBoxDragStart,onDrag:this.onBoxDrag,onDragEnd:this.onBoxDragEnd,onTouchStart:this.onBoxDragStart,onTouchMove:this.onBoxDrag,onTouchEnd:this.onBoxDragEnd}),u.default.createElement("div",{id:"right-basemap",onClick:this.toggleDualBasemapMenu.bind(this)},u.default.createElement("div",{className:"right-basemap-icon"},u.default.createElement("i",{className:"iconfont icon-globe"}),u.default.createElement("div",{className:"iconfont-name"},"Basemap"))),u.default.createElement(f.default,{id:"right-map-canvas",mapId:p.default.Dual}))}}]),t}(u.default.Component);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(29),u=r(l),c=n(1),f=r(c),d=n(22),p=r(d),h=n(8),m=r(h),y=n(32),g=r(y),v=n(10),_=n(15),b=r(_),E=n(88),w=r(E),S=n(94),k=r(S),C=n(104),N=r(C),O=n(82),P=r(O),T=n(89),L=r(T),M=n(47),A=r(M),B=n(98),I=r(B),D=n(95),x=r(D),U=n(87),R=r(U),j=n(86),F=r(j),G=n(71),H=r(G),Z=n(72),W=r(Z),V=n(78),z=r(V),K=n(79),Y=r(K),q=n(16),J=r(q),Q=n(2),X=r(Q),$=n(7),ee=r($),te=n(28),ne=r(te),re=n(156),ae=r(re),ie=n(21),oe=r(ie),se=n(90),le=r(se),ue=n(26),ce=r(ue),fe=n(50),de=(r(fe),n(84)),pe=r(de),he=n(37),me=r(he),ye=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={uiState:p.default.getUiState(),searchText:p.default.getSearchText(),speech:oe.default.getSpeechState(),buildings:!1},n._onUiChange=n._onUiChange.bind(n),n._onSpeechChange=n._onSpeechChange.bind(n),me.default.getOneMapToken(),n}return o(t,e),s(t,[{key:"componentDidMount",value:function(){p.default.addChangeListener(this._onUiChange),oe.default.addChangeListener(this._onSpeechChange)}},{key:"componentWillUnmount",value:function(){p.default.removeChangeListener(this._onUiChange),oe.default.removeChangeListener(this._onSpeechChange)}},{key:"_onUiChange",value:function(){this.setState({uiState:p.default.getUiState(),searchText:p.default.getSearchText()})}},{key:"_onSpeechChange",value:function(){this.setState({speech:oe.default.getSpeechState()})}},{key:"closeMenu",value:function(){X.default.closeMenu()}},{key:"closeLeftMenu",value:function(){X.default.closeLeftPanel()}},{key:"closeRightMenu",value:function(){X.default.closeRightPanel()}},{key:"toggleLeftPanel",value:function(){X.default.toggleLeftPanel()}},{key:"toggleUserProfile",value:function(){X.default.toggleUserProfile()}},{key:"toggleDualScreen",value:function(){X.default.toggleDualScreen()}},{key:"toggleBasemapMenu",value:function(){X.default.toggleBasemap()}},{key:"toggleLegend",value:function(){X.default.toggleLegend()}},{key:"toggleBookmark",value:function(){X.default.toggleBookmark()}},{key:"toggleBuffer",value:function(){X.default.toggleBuffer()}},{key:"toggleDraw",value:function(){X.default.toggleDraw()}},{key:"showMetadata",value:function(){X.default.showModal(f.default.createElement(u.default,{url:v.ControllerUrl.Metadata}))}},{key:"setBasemap",value:function(e){X.default.setBasemap(e)}},{key:"showBasemapInfo",value:function(e){var t=m.default.getBasemap(e);X.default.showModal(t.getInfo())}},{key:"reset",value:function(){X.default.reset()}},{key:"locateUser",value:function(){X.default.locateUser()}},{key:"onChange",value:function(e){this.setSearchText(e.target.value)}},{key:"setSearchText",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];X.default.setSearchText(e),t&&(ne.default.search(e),this.refs.searchInput.focus())}},{key:"onSpeech",value:function(){"undefined"!=typeof webkitSpeechRecognition&&X.default.onSpeech()}},{key:"offSpeech",value:function(){X.default.offSpeech()}},{key:"clearSearchResults",value:function(){X.default.setSearchText(""),X.default.clearSearchResults(),X.default.clearHighlights()}},{key:"onKeyUp",value:function(e){X.default.onKeyUp(e)}},{key:"toggle3D",value:function(){this.closeRightMenu(),this.state.buildings?(this.toggleLeftPanel(),this.setState({buildings:!1})):(this.state.uiState.dualScreen=!1,this.setState({buildings:!0}))}},{key:"render3DButton",value:function(){var e=f.default.createElement("li",{id:"3d",onClick:this.toggle3D.bind(this)},f.default.createElement("i",{className:"iconfont icon-3d-building"}),f.default.createElement("div",{className:"iconfont-name"},"3D")),t=f.default.createElement("li",{id:"m3d-exit",onClick:this.toggle3D.bind(this)},f.default.createElement("i",{className:"iconfont icon-cancel-circled"}),f.default.createElement("div",{id:"m3d-exit",className:"iconfont-name"},"Exit 3D"));return this.state.buildings?t:e}},{key:"render",value:function(){var e=this,t=this.state.buildings?ce.default.getBasemaps():m.default.getBasemaps(),n=this.state.uiState,r=n.displayMenu===b.default.LeftPanel||n.displayMenu===b.default.LeftPanelWithSummary,a=n.layerFilterText,i=this.state.speech?"icon-mike-on iconfont icon-mic":"icon-mike-off iconfont icon-mic",o=this.state.speech?this.offSpeech.bind(this):this.onSpeech.bind(this),s=this.state.speech?"Speak into microphone now":"Search address e.g. 45 Maxwell Road",l=ee.default.getLatestLayer(),u=this.state.buildings,c={marginLeft:"15px"};return f.default.createElement("div",{className:"map-content"},f.default.createElement("div",{id:"header-top",className:"header-top header-color"},f.default.createElement("div",{className:"tools"},u?null:f.default.createElement("div",{className:"layer-list-div",onClick:this.toggleLeftPanel.bind(this)},f.default.createElement("i",{className:"iconfont icon-menu layer-list"})),u?f.default.createElement("div",{style:c,className:"logo",onClick:this.reset.bind(this)},f.default.createElement("img",{src:"/Content/img/header/logo.png",className:"logo-img"})):f.default.createElement("div",{className:"logo",onClick:this.reset.bind(this)},f.default.createElement("img",{src:"/Content/img/header/logo.png",className:"logo-img"})),f.default.createElement("ul",{className:"tools-links"},u?null:f.default.createElement("li",{id:"bookmark",onClick:this.toggleBookmark.bind(this)},f.default.createElement("i",{className:"iconfont icon-star"}),f.default.createElement("div",{className:"iconfont-name"},"Bookmark")),f.default.createElement("li",{id:"buffer",onClick:this.toggleBuffer.bind(this)},f.default.createElement("i",{className:"iconfont icon-buffer"}),f.default.createElement("div",{className:"iconfont-name"},"Buffer")),u?null:f.default.createElement("li",{id:"draw",onClick:this.toggleDraw.bind(this)},f.default.createElement("i",{className:"iconfont icon-pencil"}),f.default.createElement("div",{className:"iconfont-name"},"Draw")),f.default.createElement("li",{id:"reset",onClick:this.reset.bind(this)},f.default.createElement("i",{className:"iconfont icon-cw-1"}),f.default.createElement("div",{className:"iconfont-name"},"Reset")))),f.default.createElement("div",{className:"searchbox"},f.default.createElement("div",{className:"search-wrapper"},f.default.createElement("span",{className:"search-icon"},f.default.createElement("i",{className:"iconfont icon-search"})),f.default.createElement("input",{ref:"searchInput",id:"query-search",className:"search-input",placeholder:s,value:this.state.searchText,onChange:this.onChange.bind(this)}),f.default.createElement("div",{id:"locate-me",onClick:this.locateUser.bind(this)},f.default.createElement("i",{className:"iconfont icon-locate"}),f.default.createElement("div",{className:"iconfont-name"},"Locate")),f.default.createElement(x.default,{ref:"searchSuggest",setSearchText:this.setSearchText.bind(this)}),f.default.createElement("div",{className:"search-icons-div"},this.state.searchText.length>0?f.default.createElement("span",{className:"search-clear-icon",onClick:this.clearSearchResults.bind(this)}):null,f.default.createElement("div",{className:"search-speech",onClick:o},f.default.createElement("i",{className:i}))))),f.default.createElement("div",{className:"right-tools"},f.default.createElement("ul",{className:"right-links"},u?null:f.default.createElement("li",{id:"dual-screen",onClick:this.toggleDualScreen.bind(this)},f.default.createElement("i",{className:"iconfont icon-columns"}),f.default.createElement("div",{className:"iconfont-name"},"Dual")),!u&&f.default.createElement("li",{id:"base-map",onClick:this.toggleBasemapMenu.bind(this)},f.default.createElement("i",{className:"iconfont icon-globe"}),f.default.createElement("div",{className:"iconfont-name"},"Basemap")),this.render3DButton()))),f.default.createElement("div",{id:"loading-div",className:"loading-bar"},f.default.createElement("i",{className:"icon-spin5 animate-spin"})),f.default.createElement("div",{id:"dacs-area"},f.default.createElement("span",{id:"dacs-plotted-cases"}),f.default.createElement("span",null," plotted")),u?f.default.createElement(le.default,{id:"map-canvas",mapId:g.default.Main}):f.default.createElement(A.default,{id:"map-canvas",mapId:g.default.Main}),n.dualScreen?f.default.createElement(Y.default,null):null,n.layerInfo?f.default.createElement(F.default,{info:l.getLayerInfo(),delay:l.getDelay()||5e3}):null,f.default.createElement(ae.default,{transitionName:"slidedown",transitionAppear:!0,transitionAppearTimeout:800,transitionEnterTimeout:800,transitionLeaveTimeout:800},n.displayMenu!==b.default.Basemap||u?null:f.default.createElement("div",{className:"basemap-gallery basemap-gallery-color"},f.default.createElement("div",{className:"si-title-wrapper si-title-color"},f.default.createElement("span",{className:"si-title"},"Basemap"),f.default.createElement("span",{id:"bm-back",className:"right-close-btn right-close-btn-color",onClick:this.closeMenu.bind(this)},f.default.createElement("i",{className:"icon-cancel-circled"}))),u?f.default.createElement("div",{className:"basemap-gallery-wrapper"},f.default.createElement("ul",{className:"gallery-table"},t.map(function(t,n){return f.default.createElement("li",{key:n},f.default.createElement("div",{id:"mp14-color"}),f.default.createElement("div",{id:"mp14-text basemap-text",onClick:e.setBasemap.bind(e,t.name)},f.default.createElement("div",{className:"mp14-text basemap-text"},t.name)))}))):f.default.createElement("div",{className:"basemap-gallery-wrapper"},f.default.createElement("ul",{className:"gallery-table"},t.map(function(t,n){return f.default.createElement("li",{key:n},f.default.createElement("div",{id:"mp14-color"}),f.default.createElement("div",{id:"mp14-text basemap-text",onClick:e.setBasemap.bind(e,t.name)},f.default.createElement("div",{className:"mp14-text basemap-text"},t.name)),f.default.createElement("div",{id:"mp14-info basemap-info",onClick:e.showBasemapInfo.bind(e,t.name)},f.default.createElement("div",{className:"mp14-info basemap-info"})))}))))),f.default.createElement(ae.default,{transitionName:"leftpanel",transitionAppear:!0,transitionAppearTimeout:800,
transitionEnterTimeout:800,transitionLeaveTimeout:800},r&&!u?f.default.createElement(w.default,{key:"leftpanel",layerFilterText:a}):null),n.filter!==_.FilterState.Hidden?f.default.createElement(P.default,{state:n.filter,leftPanelState:r}):null,f.default.createElement("div",{className:"ura-logo"},f.default.createElement("img",{src:"/Content/img/ura_logo_transparency.png"})),n.displayMenu===b.default.LeftPanelWithSummary?f.default.createElement(R.default,null):null,f.default.createElement(ae.default,{transitionName:"rightpanel",transitionAppear:!0,transitionAppearTimeout:800,transitionEnterTimeout:800,transitionLeaveTimeout:800},n.displayMenu===b.default.RightPanel?f.default.createElement(k.default,{key:"rightpanel"}):null),f.default.createElement(ae.default,{transitionName:"rightpanel",transitionAppear:!0,transitionAppearTimeout:800,transitionEnterTimeout:800,transitionLeaveTimeout:800},n.displayMenu===b.default.Buffer?f.default.createElement(W.default,{key:"buffer"}):null),f.default.createElement(ae.default,{transitionName:"rightpanel",transitionAppear:!0,transitionAppearTimeout:800,transitionEnterTimeout:800,transitionLeaveTimeout:800},n.displayMenu===b.default.Draw?f.default.createElement(z.default,{key:"draw"}):null),f.default.createElement(ae.default,{transitionName:"rightpanel",transitionAppear:!0,transitionAppearTimeout:800,transitionEnterTimeout:800,transitionLeaveTimeout:800},n.displayMenu===b.default.Legend?f.default.createElement(L.default,{key:"legend"}):null),n.displayMenu===b.default.Modal?f.default.createElement(J.default,{display:n.modalDisplay}):null,f.default.createElement(ae.default,{transitionName:"rightpanel",transitionAppear:!0,transitionAppearTimeout:800,transitionEnterTimeout:800,transitionLeaveTimeout:800},n.displayMenu===b.default.Bookmark?f.default.createElement(H.default,{key:"bookmark"}):null),f.default.createElement(ae.default,{transitionName:"slidedown",transitionAppear:!0,transitionAppearTimeout:800,transitionEnterTimeout:800,transitionLeaveTimeout:800},n.displayMenu===b.default.UserProfile?f.default.createElement(N.default,{key:"userprofile",onClose:this.closeMenu.bind(this),username:n.username,extranet:n.extranet}):null),f.default.createElement(ae.default,{transitionName:"rightpanel",transitionAppear:!0,transitionAppearTimeout:800,transitionEnterTimeout:800,transitionLeaveTimeout:800},n.displayMenu===b.default.GeoTagPhotoDetail?f.default.createElement(pe.default,{key:"geotagphotodetail"}):null),f.default.createElement(I.default,null))}}]),t}(f.default.Component);t.default=ye},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"processLegend",value:function(){var e=this,t=this.props.layers,n=Array.isArray(this.props.legendIds)?this.props.legendIds:[this.props.legendIds],r=new Array(n.length),a={};return n.forEach(function(e,t){a[e]=t}),t.forEach(function(t){t.layerId in a&&(r[a[t.layerId]]=e.beautifyLegend(t))}),r}},{key:"processLegendFootnote",value:function(){var e,t=this.props.legendIds,n=this.props.layers,r=[],a=[];if(n.forEach(function(n){n.layerId===t[0]&&(e=n.description)}),e){e=e.replace(/\[/g,"|["),e=e.replace(/\]/g,"]|"),e=e.replace(/\</g,"|<"),e=e.replace(/\>/g,">|"),r=e.split("|");for(var i in r){var o=r[i].trim();""!=o&&(o.indexOf("]")>0?a.push(u.default.createElement("u",null," ",o.replace("[","").replace("]","")," ")):o.indexOf(">")>0?a.push(u.default.createElement("b",null," ",o.replace("<","").replace(">","")," ")):a.push(u.default.createElement("span",null,o)))}}return u.default.createElement("div",{className:"legend-footnote"},a)}},{key:"beautifyLegend",value:function(e){var t=this.props.url,n=e.layerName,r=[];return r.push(u.default.createElement("div",{className:"legend-title"},n)),e.legend.map(function(n,a){var i=t+"/"+e.layerId+"/images/"+n.url;r.push(u.default.createElement("div",{key:a,className:"legend-row"},u.default.createElement("div",{className:"legend-row-img"},u.default.createElement("img",{src:i})),u.default.createElement("div",{className:"legend-row-label"},n.label)))}),r}},{key:"render",value:function(){var e=(this.props.title,this.processLegend()),t=this.processLegendFootnote();return u.default.createElement("div",null,e,t)}}]),t}(u.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),u=r(l),c=n(1),f=r(c),d=n(30),p=r(d),h=n(99),m=(r(h),n(15),n(2)),y=r(m),g=n(7),v=r(g),_=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=v.default.getSelectedWithFilterbox();return n.state={selected:n.getFirstSelectedWithFilterbox(r),list:r},n._onChange=n._onChange.bind(n),n.preUpdateLayerList=r,n}return o(t,e),s(t,[{key:"getFirstSelectedWithFilterbox",value:function(e){return e.length>0?e[0].getName():""}},{key:"componentDidMount",value:function(){v.default.addChangeListener(this._onChange)}},{key:"componentWillUnmount",value:function(){v.default.removeChangeListener(this._onChange)}},{key:"onSelectedChange",value:function(e){this.setState({selected:e.target.value})}},{key:"minimizeFilter",value:function(){y.default.minimizeFilter(),this.toggleFilterDetails("none","block")}},{key:"maximizeFilter",value:function(){y.default.maximizeFilter(),this.toggleFilterDetails("block","none")}},{key:"toggleFilterDetails",value:function(e,t){var n=this.refs.filterDetails,r=this.refs.showFilterDetails;r&&(r.style.display=t),n&&(n.style.display=e)}},{key:"onSlide",value:function(e){var t=v.default.getLayerByName(this.state.selected);y.default.setLayerOpacity(t.getName(),e)}},{key:"_onChange",value:function(e){var t=v.default.getSelectedWithFilterbox(),n=this.state.selected;v.default.selected;this.preUpdateLayerList.length!==t.length&&(n=this.getFirstSelectedWithFilterbox(t)),this.preUpdateLayerList=t,this.setState({selected:n,list:t})}},{key:"render",value:function(){var e=this.state.selected;if(e.length<1)return null;var t=this.state.list.map(function(e){var t=e.getName();return{title:t,value:t}}),n=u.default.listToOptions(t),r=v.default.getLayerByName(e),a=r.getFilterbox(),i=this.props.leftPanelState?"filter-color filter-with-leftpanel":"filter-color filter-only",o=r.getFilterBoxShowsOpacitySlider(),s=100*r.getOpacity();return f.default.createElement("div",null,f.default.createElement("div",{ref:"filterDetails",id:"filter-details",className:i},f.default.createElement("div",{className:"si-title-wrapper si-title-color"},f.default.createElement("table",{className:"filter-layers-title"},f.default.createElement("tbody",null,f.default.createElement("tr",null,f.default.createElement("td",null,f.default.createElement("span",null,"Filter")),f.default.createElement("td",null,f.default.createElement("select",{id:"filter-layers",value:e,className:"select",onChange:this.onSelectedChange.bind(this)},n),f.default.createElement("span",{className:"filter-drop"})),f.default.createElement("td",{id:"filter-hide",onClick:this.minimizeFilter.bind(this)},f.default.createElement("span",{className:"filter-down-icon"})))))),f.default.createElement("div",{className:"fo-wrapper"},f.default.createElement("div",{id:"filter-slider"},o?f.default.createElement(p.default,{value:s,onSlide:this.onSlide.bind(this)}):null),f.default.createElement("div",{className:"filter-options filter-options-color"},a))),f.default.createElement("div",{ref:"showFilterDetails",id:"show-filter-details",className:i,onClick:this.maximizeFilter.bind(this)},f.default.createElement("div",{className:"si-title-wrapper si-title-color"},f.default.createElement("table",{className:"filter-layers-title"},f.default.createElement("tbody",null,f.default.createElement("tr",null,f.default.createElement("td",null,f.default.createElement("span",null,"Filter")),f.default.createElement("td",{id:"filter-show"},f.default.createElement("span",{className:"filter-up-icon"}))))))))}}]),t}(f.default.Component);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(2),f=r(c),d=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),s(t,[{key:"toggleGeoTagPhotoDetail",value:function(){f.default.updateNearbyJsonData(this.props.geophoto),f.default.toggleGeoTagPhotoDetail()}},{key:"render",value:function(){if(this.props.geophoto.length>0)var e="url("+this.props.geophoto[0].nearbyData.Url+")";var t={container:{flex:1,justifyContent:"flex-start",alignItems:"center",backgroundImage:e,backgroundSize:"cover",overflow:"hidden",width:"100%",maxHeight:"100%",backgroundRepeat:"no-repeat"},backdrop:{width:"auto",height:150},backdropView:{height:120,width:"100%"},headline:{paddingLeft:"10",background:"linear-gradient(rgba(0, 0, 0, 0.701961) 0%, rgba(0, 0, 0, 0.298039) 70%, rgba(0, 0, 0, 0) 100%)",color:"rgb(255, 255, 255)",fontSize:20,height:"50"}};return u.default.createElement("div",{style:t.container,onClick:this.toggleGeoTagPhotoDetail.bind(this)},u.default.createElement("div",{style:t.backdrop},u.default.createElement("div",{style:t.backdropView},u.default.createElement("div",{style:t.headline},this.props.photoCount," Photos"))))}}]),t}(u.default.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(7),f=r(c),d=n(2),p=r(d),h=n(17),m=r(h),y=n(22),g=r(y),v=n(3),_=r(v),b=n(53),E=(r(b),n(165)),w=r(E),S=n(55),k=(r(S),n(12)),C=(r(k),n(6)),N=r(C),O=n(5),P=(r(O),n(41)),T=r(P),L=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={_map:_.default.getMap(),uiState:g.default.getUiState(),showStatus:m.default.getClusterStatus(),nearbyJsonData:m.default.getNearbyJsonData(),clusterLayer:null,tempMarker:null},n.onSelectImage=n.onSelectImage.bind(n),n._onChange=n._onChange.bind(n),n.showClusterStatus=n.showClusterStatus.bind(n),n._onUiChange=n._onUiChange.bind(n),n}return o(t,e),s(t,[{key:"componentDidMount",value:function(){f.default.addChangeListener(this._onChange),m.default.addChangeListener(this.showClusterStatus),g.default.addChangeListener(this._onUiChange);var e=this.refs.cateContent;_.default.setPerfectScrollbar(e),(0,T.default)(N.default)}},{key:"componentWillUnmount",value:function(){f.default.removeChangeListener(this._onChange),m.default.removeChangeListener(this.showClusterStatus),g.default.removeChangeListener(this._onUiChange),null!=this.state.clusterLayer&&this.state.clusterLayer.clear(),0==m.default.getClusterStatus()&&(console.log("clear temp marker false"),p.default.clearPhotoTempMarker(!0))}},{key:"showClusterStatus",value:function(){this.setState({showStatus:m.default.getClusterStatus()})}},{key:"onSelectImage",value:function(e,t){var n=this,r=m.default.getPhotoMarkers(),a=this.state.nearbyJsonData.slice(),i=a[e];1==i.isSelected?i.isSelected=!1:(i.isSelected=!0,r.map(function(e,r){e._details.url==t.src&&(n.id=e._leaflet_id,n.latlng=e._latlng,n.state._map.panTo([e._latlng.lat,e._latlng.lng]))})),this.setState({images:a})}},{key:"_onChange",value:function(){this.setState({nearbyJsonData:m.default.getNearbyJsonData()})}},{key:"_onUiChange",value:function(){this.setState({uiState:g.default.getUiState()})}},{key:"closeMenu",value:function(){p.default.closeGeoPhotoMenu(),null!=this.state.clusterLayer&&this.state.clusterLayer.clear()}},{key:"imageBinding",value:function(e){p.default.customGeoPhotoData([e.nearbyData])}},{key:"highlight",value:function(e){(0,N.default)(".thumbnail").css("border-color",""),(0,N.default)(e.target.parentElement).css("border-color","#4787ed")}},{key:"render",value:function(){var e=this,t={transitionDuration:750,itemSelector:".col-lg-4 col-md-4 col-sm-6 col-xs-12"},n=this.state.nearbyJsonData.map(function(t){return u.default.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-6 geotagphtoto",style:{boxSizing:"border-box"},onClick:e.imageBinding.bind(e,t)},u.default.createElement("a",{className:"thumbnail article",onClick:e.highlight.bind(this)},u.default.createElement("img",{className:"article-image",src:t.nearbyData.Url})))});return u.default.createElement("div",{id:"legend-div",className:"legend-color"},u.default.createElement("div",{className:"si-title-wrapper si-title-color"},u.default.createElement("span",{className:"si-title"},"Photo"),u.default.createElement("span",{id:"legend-close-btn",className:"right-close-btn right-close-btn-color",onClick:this.closeMenu.bind(this)},u.default.createElement("i",{className:"icon-left-circled"}))),u.default.createElement("div",{style:{height:"95%",position:"relative",top:"15px"}},u.default.createElement("div",{ref:"cateContent",className:"row",style:{height:"100%"}},u.default.createElement("div",null,u.default.createElement(w.default,{className:"",elementType:"div",options:t,disableImagesLoaded:!0,updateOnEachImageLoad:!0},n)))))}}]),t}(u.default.Component);t.default=L},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"exportCSVBtn",value:function(){var e=this.props.layer;return this.props.exportCSV&&e.displayCache?e.displayCache.props.display&&e.displayCache.props.display.length>0?u.default.createElement("span",{className:"export-csv-btn"},u.default.createElement("i",{title:"Download data",className:"icon-download",onClick:e.exportCSV})):e.displayCache.props.children&&e.displayCache.props.children.length>0&&e.displayCache.props.children[0].props&&e.displayCache.props.children[0].props.display&&e.displayCache.props.children[0].props.display.length>0?u.default.createElement("span",{className:"export-csv-btn"},u.default.createElement("i",{title:"Download data",className:"icon-download",onClick:e.exportCSV})):null:null}},{key:"render",value:function(){var e=this.props.layer,t=e.getName(),n=this.props.showData?"lr-table-wrapper":"lr-table-wrapper lr-table",r=this.props.showData?"cate-up-icon":"cate-minus-icon";this.props.exportCSV&&e.displayCache?"icon-download ":"";return u.default.createElement("div",{key:t},u.default.createElement("div",{className:"lr-title-wrapper selected-lr"},u.default.createElement("span",{className:"lr-title",onClick:this.props.onRowClick},t),this.exportCSVBtn(),u.default.createElement("span",{className:r,onClick:this.props.onRowClick})),u.default.createElement("div",{className:n},e.getIdentifyDisplayCache(t)))}}]),t}(u.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(2),f=r(c),d=n(6),p=r(d),h=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props.delay;this.component=(0,p.default)(this.refs.layerInfo).show(),(null===e||e>0)&&this.component.delay(e||5e3).fadeOut(400,function(){f.default.hideLayerInfo()})}},{key:"componentDidUpdate",value:function(){var e=this.props.delay;(null===e||e>0)&&this.component.delay(e||5e3).fadeOut(400,function(){f.default.hideLayerInfo()})}},{key:"render",value:function(){var e=u.default.createElement("span",{id:"li-msg",dangerouslySetInnerHTML:{__html:this.props.info}});return u.default.createElement("div",{ref:"layerInfo",className:"layer-info layer-info-color"},u.default.createElement("div",{className:"layer-info-wrapper"},u.default.createElement("p",null,e)))}}]),t}(u.default.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(7),f=r(c),d=n(2),p=r(d),h=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.States={Infographics:0,Summary:1},n.state={view:n.States.Infographics,infographics:f.default.getInfographics(),summary:f.default.getSummary()},n._onChange=n._onChange.bind(n),n}return o(t,e),s(t,[{key:"componentDidMount",value:function(){f.default.addChangeListener(this._onChange)}},{key:"componentWillUnmount",value:function(){f.default.removeChangeListener(this._onChange)}},{key:"closeLayerSummaryPanel",value:function(){p.default.closeLayerSummaryPanel()}},{key:"changeView",value:function(e){this.setState({view:e})}},{key:"_onChange",value:function(){this.layerName=f.default.detailedLayer.opts.name,this.setState({summary:f.default.getSummary(),infographics:f.default.getInfographics()})}},{key:"getBtnClass",value:function(e){return e===this.state.view?"selected-btn-color":"pre-selected-btn-color"}},{key:"render",value:function(){var e="layerinfo-inf "+this.getBtnClass(this.States.Infographics),t="layerinfo-sum "+this.getBtnClass(this.States.Summary);return u.default.createElement("div",{id:"layerinformation",className:"layerinformation-color"},u.default.createElement("div",{className:"si-title-wrapper si-title-color"},u.default.createElement("span",{id:"lmw-map-3-title",className:"si-title"},this.layerName),u.default.createElement("span",{id:"li-back",className:"right-close-btn right-close-btn-color",onClick:this.closeLayerSummaryPanel.bind(this)},u.default.createElement("i",{className:"icon-cancel-circled"}))),u.default.createElement("div",{id:"layerinfo-wrapper"},this.state.infographics?u.default.createElement("div",{className:"nav-wrapper nav-wrapper-color"},u.default.createElement("button",{className:e,onClick:this.changeView.bind(this,this.States.Infographics)},"Infographics"),u.default.createElement("button",{className:t,onClick:this.changeView.bind(this,this.States.Summary)},"Summary")):u.default.createElement("div",{className:"nav-wrapper nav-wrapper-color"},"Summary")),u.default.createElement("div",{className:"layerinfo-content-wrapper layerinfo-content-color"},this.state.view===this.States.Infographics&&this.state.infographics?u.default.createElement("div",{className:"layer-chart-wrapper"},this.state.infographics):u.default.createElement("div",{className:"layer-map-wrapper"},u.default.createElement("div",{className:"map-description"},u.default.createElement("h4",null,"Description"),u.default.createElement("p",{id:"map-3-des",dangerouslySetInnerHTML:{__html:this.state.summary}}))),u.default.createElement("div",{id:"layerinfo-loading"},u.default.createElement("span",{className:"cw-loading"},u.default.createElement("i",{className:"icon-spin5 animate-spin"})))))}}]),t}(u.default.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(102),f=r(c),d=n(97),p=r(d),h=n(49),m=r(h),y=n(7),g=r(y),v=n(2),_=r(v),b=n(3),E=r(b),w=n(50),S=(r(w),function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.States={All:0,Selected:1},n.state={display:n.States.All,selected:g.default.getSelected(),totalCount:g.default.getTotalLayerCount(),openedCategory:g.default.getOpenedCategory(),layersByCategories:g.default.getLayersByCategories()},n._onChange=n._onChange.bind(n),n}return o(t,e),s(t,[{key:"componentDidMount",value:function(){g.default.addChangeListener(this._onChange);var e=this.refs.cateContent;E.default.setPerfectScrollbar(e)}},{key:"componentWillUnmount",value:function(){g.default.removeChangeListener(this._onChange)}},{key:"getSelectedClass",value:function(e){return this.state.display===e?"selected-btn-color":"pre-selected-btn-color"}},{key:"selectMenu",value:function(e){this.setState({display:e})}},{key:"showAllLayers",value:function(){this.selectMenu(this.States.All)}},{key:"showSelectedLayers",value:function(){this.selectMenu(this.States.Selected)}},{key:"removeAllLayers",value:function(){_.default.removeAllLayers()}},{key:"isState",value:function(e){return this.state.display===e}},{key:"layersToComponent",value:function(e,t){var n=[];return e.map(function(e,r){var a=t.indexOf(e)>=0;n.push(u.default.createElement(m.default,{key:r,layer:e,selected:a}))}),n}},{key:"categoriesToComponent",value:function(e,t,n){var r=this,a=[];return e.map(function(e,i){var o="cate-title-wrapper cate-title-wrapper-color",s="al-table",l=e.layers,c=r.layersToComponent(l,n),f="arrow_down";t==e&&(o="cate-title-wrapper cate-title-wrapper-color cate-title-wrapper-selected-color",s="al-table show",f="arrow_up"),a.push(u.default.createElement("div",{key:i},u.default.createElement("div",{className:o,onClick:r.toggleCategory.bind(r,e)},u.default.createElement("div",{className:"cate-title"},u.default.createElement("table",{className:"cate-title-table"},u.default.createElement("tbody",null,u.default.createElement("tr",null,u.default.createElement("td",{className:"cate-img-td"},u.default.createElement("i",{className:e.icon})),u.default.createElement("td",null,u.default.createElement("span",{className:"cate-title-layer"},e.name),u.default.createElement("span",{className:"cate-title-number"}," (",l.length,")")),u.default.createElement("td",null,u.default.createElement("span",{className:f},u.default.createElement("i",{className:"icon-angle-down"})))))))),u.default.createElement("ul",{className:s,"data-show":"Planning"},c)))}),a}},{key:"toggleCategory",value:function(e){e=e===this.state.openedCategory?null:e,g.default.setOpenedCategory(e),this.setState({openedCategory:e})}},{key:"onChange",value:function(e){_.default.searchDataset(e.target.value),E.default.updatePerfectScroll(this.refs.cateContent,0)}},{key:"clearSearchDataset",value:function(){_.default.searchDataset("")}},{key:"_onChange",value:function(){this.setState({selected:g.default.getSelected(),totalCount:g.default.getTotalLayerCount(),layersByCategories:g.default.getLayersByCategories(),openedCategory:g.default.getOpenedCategory()})}},{key:"render",value:function(){var e=this.state.totalCount,t=this.state.selected,n=this.categoriesToComponent(this.state.layersByCategories,this.state.openedCategory,t),r="al-btn "+this.getSelectedClass(this.States.All),a="sl-btn "+this.getSelectedClass(this.States.Selected),i="show",o="hide";!this.state.display;return u.default.createElement("div",{className:"maplayers maplayers-color disable-selection",id:"leftpanel"},u.default.createElement("div",{className:"maplayers-selection"},u.default.createElement("div",{className:"maplayers-selection-wrapper maplayers-selection-color"},u.default.createElement("button",{className:r,onClick:this.showAllLayers.bind(this)},"All (",e,")"),u.default.createElement("button",{className:a,onClick:this.showSelectedLayers.bind(this)},"Selected (",t.length,")"))),u.default.createElement("div",{className:"cate-search cate-search-color"},u.default.createElement("span",{className:"search-icon"},u.default.createElement("i",{className:"iconfont icon-search"})),u.default.createElement("input",{id:"cate-search",className:"cate-search-color",type:"text",value:this.props.layerFilterText,placeholder:"Search dataset...",onChange:this.onChange.bind(this)})),this.props.layerFilterText.length>0?u.default.createElement("span",{className:"cate-search-clear",onClick:this.clearSearchDataset.bind(this)}):null,u.default.createElement("div",{id:"available-layers",className:this.isState(this.States.All)?i:o},u.default.createElement("div",{ref:"cateContent",className:"cate-content"},n)),u.default.createElement("div",{id:"selected-layers",className:this.isState(this.States.Selected)?i:o},u.default.createElement("div",{id:"sl-header",className:"si-title-wrapper si-title-color"},u.default.createElement("span",{className:"si-title"},"Selected Layers ",u.default.createElement("span",{className:"cate-title-number"},"(",u.default.createElement("label",{id:"sl-number"},t.length),")")),u.default.createElement("span",{className:"s-closeall",onClick:this.removeAllLayers.bind(this)})),u.default.createElement("div",{id:"sl-wrapper"},u.default.createElement(f.default,{items:t,component:p.default,onUpdate:_.default.reorderLayer}))))}}]),t}(u.default.Component));t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance");
}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(7),d=r(f),p=n(2),h=r(p),m=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=d.default.getSelectedNames(),o=n.initLegend(r),l=s(o,2),u=l[0],c=l[1];return n.state={legendList:d.default.getSelectedNames(),selected:u,legend:c},n._onChange=n._onChange.bind(n),n}return o(t,e),l(t,[{key:"componentDidMount",value:function(){d.default.addChangeListener(this._onChange)}},{key:"componentWillUnmount",value:function(){d.default.removeChangeListener(this._onChange)}},{key:"initLegend",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return!n&&e.length>0&&(n=e[0]),n&&(t=d.default.getLegend(n)),[n,t]}},{key:"_onChange",value:function(){var e=d.default.getSelectedNames(),t=this.initLegend(e,this.state.selected),n=s(t,2),r=n[0],a=n[1];this.setState({legendList:e,selected:r,legend:a})}},{key:"closeMenu",value:function(){h.default.closeMenu()}},{key:"translateToDiv",value:function(e){var t=[];return e.map(function(e,n){t.push(c.default.createElement("option",{key:n,value:e},e))}),t}},{key:"selectionChange",value:function(e){var t=e.target.value;this.setState({selected:t,legend:d.default.getLegend(t)})}},{key:"render",value:function(){var e=this.translateToDiv(this.state.legendList);return c.default.createElement("div",{id:"legend-div",className:"legend-color"},c.default.createElement("div",{className:"si-title-wrapper si-title-color"},c.default.createElement("span",{className:"si-title"},"Legend"),c.default.createElement("span",{id:"legend-close-btn",className:"right-close-btn right-close-btn-color",onClick:this.closeMenu.bind(this)},c.default.createElement("i",{className:"icon-cancel-circled"}))),c.default.createElement("div",{className:"legend-wrapper"},c.default.createElement("div",{id:"mapLegend-content",title:"Map Legend"},c.default.createElement("div",{id:"ll-content"},c.default.createElement("div",{id:"ll-content-select"},c.default.createElement("label",null,"Select layer: "),c.default.createElement("select",{id:"layer-select",className:"layer-select-color",onChange:this.selectionChange.bind(this)},e),c.default.createElement("span",{className:"filter-drop"})),c.default.createElement("div",{id:"legend-details"},this.state.legend)))))}}]),t}(c.default.Component);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),u=(r(l),n(1)),c=r(u),f=n(13),d=r(f),p=n(26),h=r(p),m=n(101),y=r(m),g=n(6),v=(r(g),n(9)),_=(r(v),n(2)),b=(r(_),function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.defaultHeightValues=[0,300],n.heightValues=n.defaultHeightValues,n._reset=n._reset.bind(n),n}return o(t,e),s(t,[{key:"_reset",value:function(){h.default.getResetStatus()&&(this.heightValues=this.defaultHeightValues,h.default.setResetStatus(!1))}},{key:"componentDidMount",value:function(){h.default.initialize(this.props.mapId,d.default.findDOMNode(this)),h.default.addChangeListener(this._reset)}},{key:"componentWillUnmount",value:function(){h.default.destroy(d.default.findDOMNode(this)),h.default.removeChangeListener(this._reset)}},{key:"render",value:function(){var e=this,t={0:"",300:""},n=function(t){e.heightValues=[t[0],t[1]],h.default.filter(e.heightValues[0],e.heightValues[1])},r=c.default.createElement("div",{className:"mapbox-slider-container"},c.default.createElement("div",{className:"mapbox-slider"},c.default.createElement("div",{style:{margin:"12px 24px 0px 24px"}},c.default.createElement("p",{style:{paddingTop:"16px",marginBottom:"-8px"}},"Use right mouse button to navigate 3D space. Click on the base of a building for more info."),c.default.createElement("h2",null,"Building height"),c.default.createElement(y.default,{style:{margin:"24px 16px 8px 18px",width:"444px"},reset:!0,inverted:!1,range:1,step:5,marks:t,defaultValue:this.heightValues,min:0,max:300,onChange:n,suffix:"m"}))));return c.default.createElement("div",{id:this.props.id},r)}}]),t}(c.default.Component));t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",null,"Hello World")}}]),t}(u.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),o=n(167),s=i.default.createElement("span",null,i.default.createElement(o.Image,{avatar:!0,src:"http://image.flaticon.com/icons/png/128/149/149023.png"})),l=function(){return i.default.createElement(o.Dropdown,{trigger:s,pointing:"top left",icon:null},i.default.createElement(o.Dropdown.Menu,null,i.default.createElement(o.Dropdown.Item,{text:"........................."}),i.default.createElement(o.Dropdown.Item,{text:"............................."}),i.default.createElement(o.Dropdown.Item,{text:".............................."})))};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(2),f=r(c),d=n(17),p=r(d),h=n(33),m=(r(h),n(49)),y=(r(m),n(36)),g=r(y),v=n(8),_=r(v),b=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={buttonStatus:p.default.getClusterStatus(),selected:!1},n._onChange=n._onChange.bind(n),n.toggleQuicklink=n.toggleQuicklink.bind(n),n}return o(t,e),s(t,[{key:"toggleQuicklink",value:function(){var e=this.props.info.name,t=(this.props.qLinkSelected,this.props.qLinkSelected[e]);this.state={selected:this.props.qLinkSelected[e]},f.default.selectQuickLinkBtn(e),t?f.default.addLayer(e):f.default.removeLayer(e)}},{key:"_onChange",value:function(){1==g.default.getResetUIStatus()?this.setState({selected:!1}):this.setState({buttonStatus:p.default.getClusterStatus()})}},{key:"componentDidMount",value:function(){p.default.addChangeListener(this._onChange),g.default.addChangeListener(this._onChange),_.default.addChangeListener(this._onChange)}},{key:"componentWillUnmount",value:function(){p.default.removeChangeListener(this._onChange),g.default.removeChangeListener(this._onChange),_.default.removeChangeListener(this._onChange)}},{key:"toggleGeoPhotoQuicklink",value:function(){console.log("geo photo quicklink"),f.default.toggleGeoPhotoQuicklink()}},{key:"toggleDemographicsQuicklink",value:function(){console.log(" demographic quicklink"),p.default.getClusterStatus()?f.default.addLayer("Total Population"):f.default.removeLayer("Total Population")}},{key:"toggleHousingQuicklink",value:function(){console.log(" housing quicklink"),p.default.getClusterStatus()?f.default.addLayer("Housing Units"):f.default.removeLayer("Housing Units")}},{key:"render",value:function(){var e=this.state.selected?{WebkitFilter:"grayscale(0)"}:{WebkitFilter:"grayscale(1)"},t={cursor:"pointer"};return u.default.createElement("div",{id:"base-map",style:e,onClick:this.toggleQuicklink.bind(this)},u.default.createElement("i",{style:t,className:this.props.info.icon}))}}]),t}(u.default.Component);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(22),f=r(c),d=n(8),p=r(d),h=n(26),m=r(h),y=n(48),g=r(y),v=n(7),_=r(v),b=n(2),E=r(b),w=n(3),S=r(w),k=n(83),C=r(k),N=n(17),O=r(N),P=n(12),T=(r(P),function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showId:0,expanded:!1,siteInfo:p.default.getSiteInfo()||m.default.getSiteInfo(),selected:_.default.getSelected(),identifyLoading:f.default.getIdentifyLoadingState(),nearbyJsonData:O.default.getUATImageData()},n._onChange=n._onChange.bind(n),n._onUiChange=n._onUiChange.bind(n),n._onSiteInfoChange=n._onSiteInfoChange.bind(n),n}return o(t,e),s(t,[{key:"componentDidMount",value:function(){f.default.addChangeListener(this._onUiChange),p.default.addChangeListener(this._onSiteInfoChange),m.default.addChangeListener(this._onSiteInfoChange),_.default.addChangeListener(this._onChange),this.centerMapOnIdentify()}},{key:"componentWillUnmount",value:function(){f.default.removeChangeListener(this._onUiChange),p.default.removeChangeListener(this._onSiteInfoChange),m.default.removeChangeListener(this._onSiteInfoChange),_.default.removeChangeListener(this._onChange)}},{key:"closeRightMenu",value:function(){E.default.clearHighlights(),E.default.closeRightPanel()}},{key:"_onChange",value:function(){this.setState({selected:_.default.getSelected()})}},{key:"_onUiChange",value:function(){this.setState({identifyLoading:f.default.getIdentifyLoadingState()})}},{key:"_onSiteInfoChange",value:function(){var e={};e=m.default.isInitialized()?m.default.getSiteInfo():p.default.getSiteInfo(),this.setState({siteInfo:e})}},{key:"_onRowClick",value:function(e){var t=this;return function(n){t.state.showId===e&&(e=-1),t.setState({showId:e})}}},{key:"_toggleRightPanelExpansion",value:function(e){this.setState({expanded:!this.state.expanded})}},{key:"centerMapOnIdentify",value:function(){var e=20;S.default.getIdentifyPoint()&&S.default.getIdentifyPoint().point.x>=this.refs.siteInfoPanel.getBoundingClientRect().left-e&&S.default.centerMap()}},{key:"render",value:function(){var e,t,n,r=this.state.selected.length,a=r===this.state.showId,i=this.state.expanded,o=i?"reduce-icon expand-icon-color":"expand-icon expand-icon-color",s=i?"icon-resize-small":"icon-resize-full",l=i?{width:"66%"}:{width:"33%"},c=a?"cate-up-icon":"cate-minus-icon",f=a?"show":"hide",d=this.state.siteInfo,h={lat:S.default.getIdentifyPoint().latLng.lat,lng:S.default.getIdentifyPoint().latLng.lng},y=[];this.state.nearbyJsonData.length;return p.default.removeCircles(),m.default.isInitialized()||(t=p.default.createCircle([h.lat,h.lng],100,{fill:!1,color:"none",opacity:0}),n=t.getBounds()),this.state.nearbyJsonData.map(function(e,t){n&&n.contains([e.LatLng.lat,e.LatLng.lng])&&y.push({nearbyData:e})}),e=y.length>0?{display:"block"}:{display:"none"},u.default.createElement("div",{ref:"siteInfoPanel",id:"siteinformation",className:"siteinformation-color",style:l},u.default.createElement("div",{className:"si-title-wrapper si-title-color"},u.default.createElement("span",{className:"si-title"},"Layer Results ",this.state.identifyLoading&&this.state.selected.length?u.default.createElement("i",{className:"icon-spin5 animate-spin"}):null," "),u.default.createElement("span",{id:"siteinfo-resize",className:o,onClick:this._toggleRightPanelExpansion.bind(this)},u.default.createElement("i",{className:s})),u.default.createElement("span",{id:"siteinfo-close",className:"right-close-btn right-close-btn-color",onClick:this.closeRightMenu.bind(this)},u.default.createElement("i",{className:"icon-cancel-circled"}))),u.default.createElement("div",{id:"si-content"},u.default.createElement("div",{id:"lr-ul"},u.default.createElement(g.default,{selected:this.state.selected,showId:this.state.showId,onRowClick:this._onRowClick.bind(this)})),u.default.createElement("div",null,u.default.createElement("div",{id:"site-fixed",className:"lr-title-wrapper site-fixed-unselected",onClick:this._onRowClick.bind(this)(r)},u.default.createElement("span",{className:"lr-title"},"Site Information"),u.default.createElement("span",{className:c})),u.default.createElement("div",{className:f+" site-fixed-info"},u.default.createElement("table",{className:"site-fixed-info-table",border:"1"},u.default.createElement("tbody",null,u.default.createElement("tr",null,u.default.createElement("td",{width:"116px;"},"Address"),u.default.createElement("td",null,d.address)),u.default.createElement("tr",null,u.default.createElement("td",null,"DA Polygon ID"),u.default.createElement("td",null,d.polygonId)),u.default.createElement("tr",null,u.default.createElement("td",null,"Planning Area"),u.default.createElement("td",null,d.plngArea)),u.default.createElement("tr",null,u.default.createElement("td",null,"Planning Subzone"),u.default.createElement("td",null,d.subZone)),u.default.createElement("tr",null,u.default.createElement("td",null,"Constituency"),u.default.createElement("td",null,d.constituency)),u.default.createElement("tr",null,u.default.createElement("td",null,"Divisional Ward"),u.default.createElement("td",null,d.ward)),u.default.createElement("tr",null,u.default.createElement("td",null,"MP Name"),u.default.createElement("td",null,d.mp)))),u.default.createElement("div",{className:"featured-image-wrapper"},u.default.createElement("div",{id:"two",style:e},u.default.createElement(C.default,{photoCount:y.length,geophoto:y})))))))}}]),t}(u.default.Component));t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(18),f=r(c),d=n(96),p=r(d),h=n(3),m=r(h),y=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={searchResults:f.default.getSearchResults()},n}return o(t,e),s(t,[{key:"componentDidMount",value:function(){f.default.addChangeListener(this._onChange.bind(this))}},{key:"componentWillUnmount",value:function(){f.default.removeChangeListener(this._onChange.bind(this))}},{key:"_onChange",value:function(){this.setState({searchResults:f.default.getSearchResults()})}},{key:"setScrollbar",value:function(e){m.default.removePerfectScroll(e),m.default.setPerfectScrollbar(e)}},{key:"render",value:function(){var e=this.state.searchResults;return u.default.createElement("div",null,e.length>0?u.default.createElement("div",null,u.default.createElement("div",{className:"search-suggest"},u.default.createElement("div",{ref:"ssContent",id:"ss-content"},u.default.createElement(p.default,{data:e,setSearchText:this.props.setSearchText}),this.setScrollbar(this.refs.ssContent)))):null)}}]),t}(u.default.Component);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(52),f=r(c),d=n(2),p=r(d),h=n(28),m=(r(h),n(6)),y=r(m),g=n(20),v=r(g),_=n(56),b=(r(_),n(7)),E=r(b),w=n(22),S=r(w),k=n(15),C=r(k),N=n(21),O=r(N),P=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"keyPress",value:function(e){function t(t){t.focus(),t.style.backgroundColor="#cbcbcb";for(var n=0;n<e.length;n++)if(o!=n){var r=s[n];null!=r&&(r.blur(),r.style.backgroundColor="#ffffff")}}var n=38,r=40,a=13,i=27,o=-1,s=document.getElementsByClassName("resultsRow");(0,y.default)("#query-search").off().keydown(function(l){if(s.length>0)switch(l.keyCode){case n:return o<=0?o=0:o--,t(s[o]),!1;case r:return o>=e.length-1?o=e.length-1:o++,t(s[o]),!1;case a:null!=s[o]?s[o].click():null;break;case i:p.default.clearSearchResults();break;default:o=-1}})}},{key:"dataToDisplay",value:function(e){var t=this,n=document.getElementById("query-search").value.toUpperCase(),r=e.map(function(e){var r={__html:e.display.replace(n,"<b>"+n+"</b>")};return u.default.createElement("tr",{key:e.id,className:"resultsRow",onClick:t.onClickJitProcessing.bind(t,e)},u.default.createElement("td",null," ",u.default.createElement("span",{dangerouslySetInnerHTML:r})," "))});return this.keyPress(e),u.default.createElement("table",null,u.default.createElement("tbody",null,r))}},{key:"onClickJitProcessing",value:function(e){var t=this;O.default.clearResults(),p.default.clearSearchResults(),Object.keys(e).map(function(n){switch(n){case f.default.Replace:t.replace(e[n],e[f.default.Search]);break;case f.default.Identify:p.default.identify(e[n]);break;case f.default.Overlay:p.default.addLayer(e[n]);break;case f.default.Geometry:t.replace(e.display,!1),t.highlightZoomCenterMap(e.geometry,e.zoom,e.center);break;case f.default.Query:var r=e.buffers[0].isBuffered;for(var a in e.layers)p.default.addLayer(e.layers[a]);if(e.locations.length>1?(p.default.fitBounds(e.latlngbounds),p.default.identify(e.locations[0])):1==e.locations.length?(p.default.setMapsView(e.latlngbounds.getCenter(),15),r?null:p.default.identify(e.locations[0])):p.default.setMapsView([1.3607837274175492,103.8059931081907],12),r){v.default.setQueried(!0);for(var a in E.default.getSelected())"function"==typeof E.default.getSelected()[a].setPostalCodeLayer&&E.default.getSelected()[a].setPostalCodeLayer();for(var a=0;a<e.locations.length;a++)v.default.setRadius(e.buffers[0].radius),v.default.pointBufferByCoords(e.locations[a]);S.default.getUiState().displayMenu!=C.default.Buffer?p.default.toggleBuffer():null}t.replace(e.display,!1)}})}},{key:"replace",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.props.setSearchText(e,t)}},{key:"highlightZoomCenterMap",value:function(e,t,n){p.default.highlightZoomCenterMap(e,t,n)}},{key:"render",value:function(){var e=0,t=this.props.data;t.forEach(function(t){t.id=e,e++});var n=this.dataToDisplay(t);return u.default.createElement("div",null,n)}}]),t}(u.default.Component);t.default=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(30),f=r(c),d=n(13),p=r(d),h=n(2),m=r(h),y=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"componentDidMount",value:function(){this.updateDomPos()}},{key:"componentDidUpdate",value:function(){this.updateDomPos()}},{key:"updateDomPos",value:function(){p.default.findDOMNode(this).dataset.reactSortablePos=this.props.reactSortablePos}},{key:"removeLayer",value:function(e){m.default.removeLayer(e)}},{key:"onSlide",value:function(e){var t=this.props.item;m.default.setLayerOpacity(t.getName(),e)}},{key:"render",value:function(){var e=this.props.item;return u.default.createElement("li",null,u.default.createElement("div",{className:this.constructor.getSelectable()},u.default.createElement("label",{className:"sl-label"},u.default.createElement("span",null,e.getName()))),u.default.createElement("div",{className:"close-div",onClick:this.removeLayer.bind(this,e.getName())},u.default.createElement("span",{className:"s-close"})),u.default.createElement(f.default,{onSlide:this.onSlide.bind(this)}))}}],[{key:"getSelectable",value:function(){return"added-layer-top"}}]),t}(u.default.Component);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{id:"tourinfo",className:"tourinfo-color"},u.default.createElement("div",{id:"tourinfo-wrapper"},u.default.createElement("div",{id:"tourinfo-detail"},u.default.createElement("div",{id:"tourinfo-title"},"Welcome to ePlanner 2.0"),u.default.createElement("div",null,"This tour will guide you through some of the basic features of ePlanner"),u.default.createElement("div",null,u.default.createElement("button",{id:"start-tour"},"Start Tour"),u.default.createElement("button",{id:"skip-tour"},"Skip")),u.default.createElement("input",{type:"checkbox",name:"tourinfo-cb",id:"tourinfo-cb",value:"skip"}),u.default.createElement("label",{htmlFor:"tourinfo-cb",id:"tourinfo-cblabel"},"Don't show the tour the next time"))))}}]),t}(u.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),u=r(l),c=n(1),f=r(c),d=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n.state={value:e.selected||0},n}return o(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){e.selected&&this.setState({value:e.selected||0})}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({value:t}),this.props.onChange&&this.props.onChange(e)}},{key:"componentDidMount",value:function(){this.refs.ddl.addEventListener("change",this.onChange)}},{key:"componentWillUnmount",value:function(){this.refs.ddl.removeEventListener("change",this.onChange)}},{key:"render",value:function(){var e=this.props.title,t=u.default.listToOptions(this.props.options,this.state.value);return f.default.createElement("div",{className:"ui_component"},f.default.createElement("div",{className:"ui_component_label"},e),f.default.createElement("div",{className:"ui-component-select"},f.default.createElement("select",{ref:"ddl",className:"select",value:this.state.value,onChange:this.onChange.bind(this)},t)))}}]),t}(f.default.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:e.value||""},n.onChange=n.onChange.bind(n),n.rerender=function(){this.render()},n}return o(t,e),s(t,[{key:"onChange",value:function(e){this.props.onChange&&this.props.onChange(e)}},{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"shouldComponentUpdate",value:function(){return!0}},{key:"getInputClass",value:function(){return"calc"}},{key:"render",value:function(){var e=this,t=this.getInputClass();return u.default.createElement("input",{ref:function(t){e.textInput=t},value:this.state.value,type:this.props.type||"text",className:this.props.type||t,placeholder:this.props.placeholder,onChange:this.onChange.bind(this),style:this.props.style})}}]),t}(u.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(2),d=(r(f),n(144)),p=r(d),h=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n.propsToState(e),n.delayTimer,n}return o(t,e),l(t,[{key:"propsToState",value:function(e){return{min:e.min||0,max:e.max||100,range:"undefined"!=typeof e.range?e.range:0,defaultValue:e.defaultValue||(e.range?[e.min,e.max]:0),marks:e.marks||null,step:e.step||null,style:e.style||{width:e.width||400,margin:"24px 16px 8px 10px"},allowCross:e.allowCross||!1,
prefix:e.prefix||"",suffix:e.suffix||"",title:e.title||"",inverted:e.inverted||!1,handleStyle:e.handleStyle||null,value:e.defaultValue||(e.range?[e.min,e.max]:0),reset:e.reset||!1}}},{key:"onChange",value:function(e){var t=this;1===this.state.range?this.setState({value:[e[0],e[1]]}):this.setState({value:e}),this.delayTimer=setTimeout(function(){t.props.onChange&&t.props.onChange(e)},700)}},{key:"componentWillReceiveProps",value:function(e){this.setState(this.propsToState(e))}},{key:"render",value:function(){return c.default.createElement("div",{className:"ui_component"},this.state.title?c.default.createElement("div",{className:"ui_component_label"},this.state.title,":"):null,c.default.createElement("div",{style:this.state.style},c.default.createElement(p.default,s({range:this.state.range,allowCross:this.state.allowCross,inverted:this.state.inverted,step:this.state.step,marks:this.state.marks,handle:c.default.createElement(y,{range:this.state.range,style:this.state.handleStyle,prefix:this.state.prefix,suffix:this.state.suffix}),onChange:this.onChange.bind(this)},this.state.reset?{value:this.state.value}:{},{defaultValue:this.state.defaultValue,min:this.state.min,max:this.state.max}))))}}]),t}(c.default.Component),m={position:"absolute",transform:"translate(-50%, -50%)",cursor:"pointer",padding:"5px",backgroundColor:"#fff",color:"#4787ed",borderRadius:"3px",fontSize:"14px",textAlign:"center",zIndex:"1",boxShadow:"#4787ed 0px 0px 1px 2px;",border:"solid"},y=c.default.createClass({displayName:"CustomHandle",propTypes:{value:c.default.PropTypes.any,offset:c.default.PropTypes.number},render:function(){var e=this.props,t=Object.assign({left:e.offset+"%"},e.style||m);return c.default.createElement("div",{style:t},e.prefix+e.value+e.suffix)}});t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(2),f=(r(c),n(6)),d=r(f);n(111);var p=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"componentDidMount",value:function(){(0,d.default)(this.refs.sortable).sortable({handle:"."+this.props.component.getSelectable(),stop:this.stopLayerOrder.bind(this)})}},{key:"componentWillUnmount",value:function(){(0,d.default)(this.refs.sortable).sortable("destroy")}},{key:"stopLayerOrder",value:function(e,t){var n=(0,d.default)(this.refs.sortable),r=n.sortable("toArray",{attribute:"data-react-sortable-pos"});n.sortable("cancel"),this.props.onUpdate(r)}},{key:"itemsToComponents",value:function(e,t){return t.map(function(t,n){return u.default.createElement(e,{key:t.getName(),item:t,reactSortablePos:n})})}},{key:"render",value:function(){var e=this.itemsToComponents(this.props.component,this.props.items);return u.default.createElement("ul",{ref:"sortable",className:"sl-wrapper"},e)}}]),t}(u.default.Component);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(16),u=(r(l),n(1)),c=r(u),f=n(51),d=r(f),p=n(100),h=r(p),m=n(2),y=r(m),g=n(13),v=r(g),_=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={oldPassword:"",newPassword:"",confirmPassword:"",status:""},n.onOldPasswordChange=n.onOldPasswordChange.bind(n),n.onNewPasswordChange=n.onNewPasswordChange.bind(n),n.onConfirmPasswordChange=n.onConfirmPasswordChange.bind(n),n}return o(t,e),s(t,[{key:"componentDidMount",value:function(){v.default.findDOMNode(this.refs.oldPassword).addEventListener("change",this.onOldPasswordChange),v.default.findDOMNode(this.refs.newPassword).addEventListener("change",this.onNewPasswordChange),v.default.findDOMNode(this.refs.confirmPassword).addEventListener("change",this.onConfirmPasswordChange)}},{key:"componentWillUnmount",value:function(){v.default.findDOMNode(this.refs.oldPassword).removeEventListener("change",this.onOldPasswordChange),v.default.findDOMNode(this.refs.newPassword).removeEventListener("change",this.onNewPasswordChange),v.default.findDOMNode(this.refs.confirmPassword).removeEventListener("change",this.onConfirmPasswordChange)}},{key:"onOldPasswordChange",value:function(e){this.setState({oldPassword:e.target.value})}},{key:"onNewPasswordChange",value:function(e){this.setState({newPassword:e.target.value})}},{key:"onConfirmPasswordChange",value:function(e){this.setState({confirmPassword:e.target.value})}},{key:"validatePassword",value:function(e,t,n){var r=!0;return""===e?(this.setState({status:"Please enter your old password."}),!1):""===t?(this.setState({status:"Please enter your new password."}),!1):""===n?(this.setState({status:"Please confirm your new password."}),!1):t.length<8?(this.setState({status:"New password must be at least 8 characters."}),!1):e===t?(this.setState({status:"Your new and old password can not be the same."}),!1):n!==t?(this.setState({status:"Your confirm and new password does not match."}),!1):r}},{key:"render",value:function(){var e=this,t=function(e){y.default.hideModal()},n=function(t){var n=e.state.oldPassword,r=e.state.newPassword,a=e.state.confirmPassword;e.validatePassword(n,r,a)&&y.default.changePassword(n,r,a)};return c.default.createElement("div",null,c.default.createElement("div",{className:"change-pw-title"},"Change Password"),c.default.createElement("table",null,c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",{className:"change-pw-td"},c.default.createElement("label",null,"Old Password")),c.default.createElement("td",null,c.default.createElement(h.default,{ref:"oldPassword",className:"input change-pw-input",type:"password",value:this.state.oldPassword,onChange:this.onOldPasswordChange.bind(this)}))),c.default.createElement("tr",null,c.default.createElement("td",{className:"change-pw-td"},c.default.createElement("label",null,"New Password")),c.default.createElement("td",null,c.default.createElement(h.default,{ref:"newPassword",className:"input change-pw-input",type:"password",value:this.state.newPassword,onChange:this.onNewPasswordChange.bind(this)}))),c.default.createElement("tr",null,c.default.createElement("td",{className:"change-pw-td"},c.default.createElement("label",null,"Confirm New Password")),c.default.createElement("td",null,c.default.createElement(h.default,{ref:"confirmPassword",className:"input change-pw-input",type:"password",value:this.state.confirmPassword,onChange:this.onConfirmPasswordChange.bind(this)}))),c.default.createElement("tr",null,c.default.createElement("td",null),c.default.createElement("td",{id:"change-pw-warning"},this.state.status)),c.default.createElement("tr",null,c.default.createElement("td",null),c.default.createElement("td",null,c.default.createElement(d.default,{text:"Change",onClick:n}),c.default.createElement(d.default,{text:"Cancel",onClick:t}))))))}}]),t}(c.default.Component);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(16),u=(r(l),n(1)),c=r(u),f=n(51),d=(r(f),n(103)),p=r(d),h=n(2),m=r(h),y=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={oldPassword:"",newPassword:"",confirmPassword:""},n}return o(t,e),s(t,[{key:"changePasswordFunc",value:function(e){var t={};t.content=c.default.createElement(p.default,null),t.embedded=!0,m.default.showModal(t)}},{key:"render",value:function(){return c.default.createElement("div",{id:"userinfo",className:"userinfo-color"},c.default.createElement("div",{className:"si-title-wrapper si-title-color"},c.default.createElement("span",{className:"si-title"},"User Profile"),c.default.createElement("span",{id:"profile-title-close",className:"right-close-btn right-close-btn-color",onClick:this.props.onClose},c.default.createElement("i",{className:"icon-cancel-circled"}))),c.default.createElement("div",{className:"userinfo-wrapper"},c.default.createElement("div",{className:"si-title-wrapper ui-title-color"},c.default.createElement("span",{id:"userdisplay",className:"userdisplay-color"},"Welcome, ",this.props.username)),this.props.extranet?c.default.createElement("div",{className:"si-title-wrapper ui-title-color helpspan",onClick:this.changePasswordFunc.bind(this)},c.default.createElement("span",{id:"change-pw"},"Change Password")):null,c.default.createElement("div",{className:"si-title-wrapper ui-title-color helpspan"},c.default.createElement("form",{id:"logout-form",action:"/Account/Logout",method:"GET"}," ",c.default.createElement("span",null,c.default.createElement("button",{id:"logout-btn",type:"submit"},"Log Out"))))))}}]),t}(c.default.Component);t.default=y},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PlanningArea={AngMoKio:"ANG MO KIO",Bedok:"BEDOK",Bishan:"BISHAN",BoonLay:"BOON LAY",BukitBatok:"BUKIT BATOK",BukitMerah:"BUKIT MERAH",BukitPanjang:"BUKIT PANJANG",BukitTimah:"BUKIT TIMAH",CentralWaterCatchment:"CENTRAL WATER CATCHMENT",ChangiBay:"CHANGI BAY",Changi:"CHANGI",ChoaChuKang:"CHOA CHU KANG",Clementi:"CLEMENTI",DowntownCore:"DOWNTOWN CORE",Geylang:"GEYLANG",Hougang:"HOUGANG",JurongEast:"JURONG EAST",JurongWest:"JURONG WEST",Kallang:"KALLANG",LimChuKang:"LIM CHU KANG",Mandai:"MANDAI",MarinaEast:"MARINA EAST",MarinaSouth:"MARINA SOUTH",MarineParade:"MARINE PARADE",Museum:"MUSEUM",Newton:"NEWTON",NorthEasternIslands:"NORTH-EASTERN ISLANDS",Novena:"NOVENA",Orchard:"ORCHARD",Outram:"OUTRAM",PasirRis:"PASIR RIS",PayaLebar:"PAYA LEBAR",Pioneer:"PIONEER",Punggol:"PUNGGOL",Queenstown:"QUEENSTOWN",RiverValley:"RIVER VALLEY",Rochor:"ROCHOR",Seletar:"SELETAR",Sembawang:"SEMBAWANG",Sengkang:"SENGKANG",Serangoon:"SERANGOON",Simpang:"SIMPANG",SingaporeRiver:"SINGAPORE RIVER",SouthernIslands:"SOUTHERN ISLANDS",StraitsView:"STRAITS VIEW",SungeiKadut:"SUNGEI KADUT",Tampines:"TAMPINES",Tanglin:"TANGLIN",Tengah:"TENGAH",ToaPayoh:"TOA PAYOH",Tuas:"TUAS",WesternIslands:"WESTERN ISLANDS",WesternWaterCatchment:"WESTERN WATER CATCHMENT",Woodlands:"WOODLANDS",Yishun:"YISHUN"},t.LandUseType={Agriculture:"AGRICULTURE",BeachArea:"BEACH AREA",Business1:"BUSINESS 1",Business1White:"BUSINESS 1 - WHITE",Business2:"BUSINESS 2",Business2White:"BUSINESS 2 - WHITE",BusinessPark:"BUSINESS PARK",BusinessParkWhite:"BUSINESS PARK - WHITE",Cemetery:"CEMETERY",CivicNCommunityInstitution:"CIVIC & COMMUNITY INSTITUTION",Commercial:"COMMERCIAL",CommercialNResidential:"COMMERCIAL & RESIDENTIAL",CommercialOrInstitution:"COMMERCIAL / INSTITUTION",EducationalInstitution:"EDUCATIONAL INSTITUTION",HealthNMedicalCare:"HEALTH & MEDICAL CARE",Hotel:"HOTEL",LightRapidTransit:"LIGHT RAPID TRANSIT",MassRapidTransit:"MASS RAPID TRANSIT",OpenSpace:"OPEN SPACE",Park:"PARK",PlaceOfWorship:"PLACE OF WORSHIP",PortOrAirport:"PORT / AIRPORT",ReserveSite:"RESERVE SITE",Residential:"RESIDENTIAL",ResidentialOrInstitution:"RESIDENTIAL / INSTITUTION",ResidentialWithCommercialAt1stStorey:"RESIDENTIAL WITH COMMERCIAL AT 1ST STOREY",Road:"ROAD",SpecialUse:"SPECIAL USE",SportsNRecreation:"SPORTS & RECREATION",TransportFacilities:"TRANSPORT FACILITIES",Utility:"UTILITY",Waterbody:"WATERBODY",White:"WHITE"},t.Subzone={features:[{SUBZONE_N:"SUDONG"},{SUBZONE_N:"SEMAKAU"},{SUBZONE_N:"SOUTHERN GROUP"},{SUBZONE_N:"SENTOSA"},{SUBZONE_N:"CITY TERMINALS"},{SUBZONE_N:"ANSON"},{SUBZONE_N:"STRAITS VIEW"},{SUBZONE_N:"MARITIME SQUARE"},{SUBZONE_N:"TELOK BLANGAH RISE"},{SUBZONE_N:"TANJONG PAGAR"},{SUBZONE_N:"EVERTON PARK"},{SUBZONE_N:"TELOK BLANGAH WAY"},{SUBZONE_N:"MAXWELL"},{SUBZONE_N:"CECIL"},{SUBZONE_N:"KAMPONG TIONG BAHRU"},{SUBZONE_N:"TELOK BLANGAH DRIVE"},{SUBZONE_N:"PASIR PANJANG 2"},{SUBZONE_N:"CENTRAL SUBZONE"},{SUBZONE_N:"SINGAPORE GENERAL HOSPITAL"},{SUBZONE_N:"DEPOT ROAD"},{SUBZONE_N:"PEOPLE'S PARK"},{SUBZONE_N:"BUKIT MERAH"},{SUBZONE_N:"CHINATOWN"},{SUBZONE_N:"PHILLIP"},{SUBZONE_N:"RAFFLES PLACE"},{SUBZONE_N:"CHINA SQUARE"},{SUBZONE_N:"TIONG BAHRU"},{SUBZONE_N:"BAYFRONT SUBZONE"},{SUBZONE_N:"TIONG BAHRU STATION"},{SUBZONE_N:"CLIFFORD PIER"},{SUBZONE_N:"MARINA SOUTH"},{SUBZONE_N:"PEARL'S HILL"},{SUBZONE_N:"BOAT QUAY"},{SUBZONE_N:"HENDERSON HILL"},{SUBZONE_N:"REDHILL"},{SUBZONE_N:"ALEXANDRA HILL"},{SUBZONE_N:"BUKIT HO SWEE"},{SUBZONE_N:"CLARKE QUAY"},{SUBZONE_N:"PASIR PANJANG 1"},{SUBZONE_N:"QUEENSWAY"},{SUBZONE_N:"KENT RIDGE"},{SUBZONE_N:"ALEXANDRA NORTH"},{SUBZONE_N:"MARINA EAST"},{SUBZONE_N:"INSTITUTION HILL"},{SUBZONE_N:"ROBERTSON QUAY"},{SUBZONE_N:"JURONG ISLAND AND BUKOM"},{SUBZONE_N:"FORT CANNING"},{SUBZONE_N:"MARINA EAST (MP)"},{SUBZONE_N:"MARINA CENTRE"},{SUBZONE_N:"BRAS BASAH"},{SUBZONE_N:"OXLEY"},{SUBZONE_N:"CITY HALL"},{SUBZONE_N:"MEI CHIN"},{SUBZONE_N:"LEONIE HILL"},{SUBZONE_N:"PORT"},{SUBZONE_N:"DHOBY GHAUT"},{SUBZONE_N:"BUGIS"},{SUBZONE_N:"VICTORIA"},{SUBZONE_N:"PATERSON"},{SUBZONE_N:"EAST COAST"},{SUBZONE_N:"NATIONAL UNIVERSITY OF S'PORE"},{SUBZONE_N:"ONE TREE HILL"},{SUBZONE_N:"SOMERSET"},{SUBZONE_N:"BENCOOLEN"},{SUBZONE_N:"CHATSWORTH"},{SUBZONE_N:"KAMPONG GLAM"},{SUBZONE_N:"SELEGIE"},{SUBZONE_N:"MOUNT EMILY"},{SUBZONE_N:"ROCHOR CANAL"},{SUBZONE_N:"CRAWFORD"},{SUBZONE_N:"MARGARET DRIVE"},{SUBZONE_N:"TANGLIN"},{SUBZONE_N:"MARINE PARADE"},{SUBZONE_N:"TANGLIN HALT"},{SUBZONE_N:"MACKENZIE"},{SUBZONE_N:"SUNGEI ROAD"},{SUBZONE_N:"ONE NORTH"},{SUBZONE_N:"TANJONG RHU"},{SUBZONE_N:"MOUNTBATTEN"},{SUBZONE_N:"COMMONWEALTH"},{SUBZONE_N:"DOVER"},{SUBZONE_N:"BOULEVARD"},{SUBZONE_N:"ISTANA NEGARA"},{SUBZONE_N:"LITTLE INDIA"},{SUBZONE_N:"GUL BASIN"},{SUBZONE_N:"RIDOUT"},{SUBZONE_N:"CAIRNHILL"},{SUBZONE_N:"CLEMENTI WEST"},{SUBZONE_N:"TUAS VIEW EXTENSION"},{SUBZONE_N:"MONK'S HILL"},{SUBZONE_N:"SIGLAP"},{SUBZONE_N:"CLEMENTI WOODS"},{SUBZONE_N:"PIONEER SECTOR"},{SUBZONE_N:"PENJURU CRESCENT"},{SUBZONE_N:"ORANGE GROVE"},{SUBZONE_N:"KAMPONG BUGIS"},{SUBZONE_N:"KATONG"},{SUBZONE_N:"HOLLAND DRIVE"},{SUBZONE_N:"FARRER PARK"},{SUBZONE_N:"NEWTON CIRCUS"},{SUBZONE_N:"JURONG PORT"},{SUBZONE_N:"SAMULUN"},{SUBZONE_N:"SHIPYARD"},{SUBZONE_N:"GHIM MOH"},{SUBZONE_N:"LAVENDER"},{SUBZONE_N:"GOODWOOD PARK"},{SUBZONE_N:"PANDAN"},{SUBZONE_N:"SINGAPORE POLYTECHNIC"},{SUBZONE_N:"CLEMENTI CENTRAL"},{SUBZONE_N:"KAMPONG JAVA"},{SUBZONE_N:"BOON KENG"},{SUBZONE_N:"KALLANG BAHRU"},{SUBZONE_N:"ULU PANDAN"},{SUBZONE_N:"FARRER COURT"},{SUBZONE_N:"TUAS VIEW"},{SUBZONE_N:"NASSIM"},{SUBZONE_N:"WEST COAST"},{SUBZONE_N:"BAYSHORE"},{SUBZONE_N:"BENOI SECTOR"},{SUBZONE_N:"GUL CIRCLE"},{SUBZONE_N:"ALJUNIED"},{SUBZONE_N:"TYERSALL"},{SUBZONE_N:"MOULMEIN"},{SUBZONE_N:"LIU FANG"},{SUBZONE_N:"FRANKEL"},{SUBZONE_N:"CLEMENTI NORTH"},{SUBZONE_N:"LEEDON PARK"},{SUBZONE_N:"GEYLANG EAST"},{SUBZONE_N:"TEBAN GARDENS"},{SUBZONE_N:"JURONG RIVER"},{SUBZONE_N:"GEYLANG BAHRU"},{SUBZONE_N:"FABER"},{SUBZONE_N:"MALCOLM"},{SUBZONE_N:"BEDOK SOUTH"},{SUBZONE_N:"BENDEMEER"},{SUBZONE_N:"BALESTIER"},{SUBZONE_N:"TUAS BAY"},{SUBZONE_N:"JOO KOON"},{SUBZONE_N:"KALLANG WAY"},{SUBZONE_N:"INTERNATIONAL BUSINESS PARK"},{SUBZONE_N:"TUKANG"},{SUBZONE_N:"CORONATION ROAD"},{SUBZONE_N:"KEMBANGAN"},{SUBZONE_N:"DUNEARN"},{SUBZONE_N:"SUNSET WAY"},{SUBZONE_N:"MACPHERSON"},{SUBZONE_N:"KIM KEAT"},{SUBZONE_N:"BEDOK NORTH"},{SUBZONE_N:"TOA PAYOH CENTRAL"},{SUBZONE_N:"JURONG GATEWAY"},{SUBZONE_N:"HOLLAND ROAD"},{SUBZONE_N:"KAMPONG UBI"},{SUBZONE_N:"SENNETT"},{SUBZONE_N:"POTONG PASIR"},{SUBZONE_N:"TUAS NORTH"},{SUBZONE_N:"PEI CHUN"},{SUBZONE_N:"BOON TECK"},{SUBZONE_N:"KIAN TECK"},{SUBZONE_N:"SAFTI"},{SUBZONE_N:"TOH TUCK"},{SUBZONE_N:"MOUNT PLEASANT"},{SUBZONE_N:"HILLCREST"},{SUBZONE_N:"JOO SENG"},{SUBZONE_N:"CHIN BEE"},{SUBZONE_N:"LORONG 8 TOA PAYOH"},{SUBZONE_N:"TOH GUAN"},{SUBZONE_N:"BRADDELL"},{SUBZONE_N:"BIDADARI"},{SUBZONE_N:"WOODLEIGH"},{SUBZONE_N:"TAMAN JURONG"},{SUBZONE_N:"LAKESIDE"},{SUBZONE_N:"TOA PAYOH WEST"},{SUBZONE_N:"KAKI BUKIT"},{SUBZONE_N:"YUHUA EAST"},{SUBZONE_N:"BUKIT BATOK SOUTH"},{SUBZONE_N:"JURONG WEST CENTRAL"},{SUBZONE_N:"BEDOK RESERVOIR"},{SUBZONE_N:"ANAK BUKIT"},{SUBZONE_N:"SWISS CLUB"},{SUBZONE_N:"XILIN"},{SUBZONE_N:"SIMEI"},{SUBZONE_N:"BOON LAY PLACE"},{SUBZONE_N:"BUKIT BATOK EAST"},{SUBZONE_N:"BUKIT BATOK WEST"},{SUBZONE_N:"BUKIT BATOK CENTRAL"},{SUBZONE_N:"UPPER PAYA LEBAR"},{SUBZONE_N:"TAI SENG"},{SUBZONE_N:"TENGEH"},{SUBZONE_N:"YUHUA WEST"},{SUBZONE_N:"YUNNAN"},{SUBZONE_N:"LORONG CHUAN"},{SUBZONE_N:"HONG KAH"},{SUBZONE_N:"TUAS PROMENADE"},{SUBZONE_N:"AIRPORT ROAD"},{SUBZONE_N:"SERANGOON CENTRAL"},{SUBZONE_N:"BISHAN EAST"},{SUBZONE_N:"TAMPINES WEST"},{SUBZONE_N:"BRICKWORKS"},{SUBZONE_N:"DEFU INDUSTRIAL PARK"},{SUBZONE_N:"GUILIN"},{SUBZONE_N:"MARYMOUNT"},{SUBZONE_N:"WENYA"},{SUBZONE_N:"NATURE RESERVE"},{SUBZONE_N:"TAMPINES EAST"},{SUBZONE_N:"LORONG AH SOO"},{SUBZONE_N:"FLORA DRIVE"},{SUBZONE_N:"HILLVIEW"},{SUBZONE_N:"CHANGI BAY"},{SUBZONE_N:"PAYA LEBAR EAST"},{SUBZONE_N:"UPPER THOMSON"},{SUBZONE_N:"HONG KAH NORTH"},{SUBZONE_N:"TOWNSVILLE"},{SUBZONE_N:"KOVAN"},{SUBZONE_N:"CHONG BOON"},{SUBZONE_N:"SHANGRI-LA"},{SUBZONE_N:"SERANGOON GARDEN"},{SUBZONE_N:"HOUGANG CENTRAL"},{SUBZONE_N:"LOYANG EAST"},{SUBZONE_N:"DAIRY FARM"},{SUBZONE_N:"PASIR RIS DRIVE"},{SUBZONE_N:"TAMPINES NORTH"},{SUBZONE_N:"CHENG SAN"},{SUBZONE_N:"ANG MO KIO TOWN CENTRE"},{SUBZONE_N:"KEBUN BAHRU"},{SUBZONE_N:"SERANGOON NORTH IND ESTATE"},{SUBZONE_N:"TENGAH"},{SUBZONE_N:"SERANGOON NORTH"},{SUBZONE_N:"PASIR RIS CENTRAL"},{SUBZONE_N:"GOMBAK"},{SUBZONE_N:"PLAB"},{SUBZONE_N:"PAYA LEBAR NORTH"},{SUBZONE_N:"HOUGANG EAST"},{SUBZONE_N:"LORONG HALUS"},{SUBZONE_N:"KANGKAR"},{SUBZONE_N:"SEMBAWANG HILLS"},{SUBZONE_N:"JELEBU"},{SUBZONE_N:"KEAT HONG"},{SUBZONE_N:"HOUGANG WEST"},{SUBZONE_N:"PAYA LEBAR WEST"},{SUBZONE_N:"BANGKIT"},{SUBZONE_N:"LORONG HALUS NORTH"},{SUBZONE_N:"PENG SIANG"},{SUBZONE_N:"PASIR RIS WEST"},{SUBZONE_N:"YIO CHU KANG WEST"},{SUBZONE_N:"TRAFALGAR"},{SUBZONE_N:"TECK WHYE"},{SUBZONE_N:"CHOA CHU KANG CENTRAL"},{SUBZONE_N:"CHANGI WEST"},{SUBZONE_N:"FAJAR"},{SUBZONE_N:"SENJA"},{SUBZONE_N:"SAUJANA"},{SUBZONE_N:"SELETAR HILLS"},{SUBZONE_N:"COMPASSVALE"},{SUBZONE_N:"YIO CHU KANG EAST"},{SUBZONE_N:"YIO CHU KANG"},{SUBZONE_N:"LOYANG WEST"},{SUBZONE_N:"TAGORE"},{SUBZONE_N:"PASIR RIS PARK"},{SUBZONE_N:"CHOA CHU KANG NORTH"},{SUBZONE_N:"RIVERVALE"},{SUBZONE_N:"CHANGI AIRPORT"},{SUBZONE_N:"YIO CHU KANG NORTH"},{SUBZONE_N:"CHANGI POINT"},{SUBZONE_N:"SENGKANG TOWN CENTRE"},{SUBZONE_N:"ANCHORVALE"},{SUBZONE_N:"SENGKANG WEST"},{SUBZONE_N:"FERNVALE"},{SUBZONE_N:"PUNGGOL FIELD"},{SUBZONE_N:"YEW TEE"},{SUBZONE_N:"PASIR RIS WAFER FAB PARK"},{SUBZONE_N:"MATILDA"},{SUBZONE_N:"WATERWAY EAST"},{SUBZONE_N:"GALI BATU"},{SUBZONE_N:"SPRINGLEAF"},{SUBZONE_N:"PUNGGOL TOWN CENTRE"},{SUBZONE_N:"NEE SOON"},{SUBZONE_N:"PUNGGOL CANAL"},{SUBZONE_N:"CENTRAL WATER CATCHMENT"},{SUBZONE_N:"SELETAR"},{SUBZONE_N:"PANG SUA"},{SUBZONE_N:"SELETAR AEROSPACE PARK"},{SUBZONE_N:"KHATIB"},{SUBZONE_N:"MANDAI WEST"},{SUBZONE_N:"CONEY ISLAND"},{SUBZONE_N:"YISHUN SOUTH"},{SUBZONE_N:"LOWER SELETAR"},{SUBZONE_N:"NORTHSHORE"},{SUBZONE_N:"MANDAI ESTATE"},{SUBZONE_N:"YISHUN CENTRAL"},{SUBZONE_N:"PULAU PUNGGOL TIMOR"},{SUBZONE_N:"TURF CLUB"},{SUBZONE_N:"WOODLANDS SOUTH"},{SUBZONE_N:"WOODGROVE"},{SUBZONE_N:"YISHUN EAST"},{SUBZONE_N:"WESTERN WATER CATCHMENT"},{SUBZONE_N:"PULAU PUNGGOL BARAT"},{SUBZONE_N:"YISHUN WEST"},{SUBZONE_N:"WOODLANDS REGIONAL CENTRE"},{SUBZONE_N:"NORTH-EASTERN ISLANDS"},{SUBZONE_N:"MANDAI EAST"},{SUBZONE_N:"SIMPANG SOUTH"},{SUBZONE_N:"NORTHLAND"},{SUBZONE_N:"MIDVIEW"},{SUBZONE_N:"WOODLANDS WEST"},{SUBZONE_N:"SEMBAWANG SPRINGS"},{SUBZONE_N:"KRANJI"},{SUBZONE_N:"RESERVOIR VIEW"},{SUBZONE_N:"WOODLANDS EAST"},{SUBZONE_N:"SEMBAWANG CENTRAL"},{SUBZONE_N:"GREENWOOD PARK"},{SUBZONE_N:"SEMBAWANG EAST"},{SUBZONE_N:"SENOKO WEST"},{SUBZONE_N:"PULAU SELETAR"},{SUBZONE_N:"ADMIRALTY"},{SUBZONE_N:"LIM CHU KANG"},{SUBZONE_N:"SIMPANG NORTH"},{SUBZONE_N:"SENOKO SOUTH"},{SUBZONE_N:"SEMBAWANG NORTH"},{SUBZONE_N:"TANJONG IRAU"},{SUBZONE_N:"NORTH COAST"},{SUBZONE_N:"SEMBAWANG STRAITS"},{SUBZONE_N:"THE WHARVES"},{SUBZONE_N:"SENOKO NORTH"}]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ChartOrientation={Vertical:0,Horizontal:1},t.ChartPropOptPairs=[{prop:"chartSize",opt:"size"},{prop:"chartTooltip",opt:"tooltip"},{prop:"chartPadding",opt:"padding"},{prop:"chartColor",opt:"color"},{prop:"chartLegend",opt:"legend"},{prop:"chartBar",opt:"bar"}],t.ChartColors={Theme:"#4787ed",Red:"#FF0000",DeepPink:"#FA5882",Pink:"#ED99A0",Green:"#04B404",Blue:"#0000FF",DodgerBlue:"#2E9AFE",Orange:"#FFBF00",LightOrange:"#FCE649",Yellow:"#FFFF00",Grey:"#D8D9D7",Purple:"#CB00F5",LightPurple:"#B8B8FF",LightGrey:"#909090",DarkGreen:"#2CA02C",DarkOrange:"#FF7F0E",DarkBlue:"#1F77B4",DeepBlue:"#1A6CE8",DeepGreen:"#74B374",Dark:"#000"},t.ExistingLandUseColors={pattern:["#F0E68C","#939A9C","#F0E68C","#D6B3C9","#E88184","#F0E68C","#FFFF7D","#CD001F","#4F6600","#A9B300","#33ACE5","#FFECBF","#9F8800","#8C875B","#A3D39C","#CD001F","#007BA0","#1F519A","#F19C33","#F2F2C1","#00A33A","#D6B3C9","#CD001F","#939A9C","#D1D1D1","#F0E68E","#FAF8C9","#AAA3C9","#F1E794"]},t.GazettedLandUseColors={pattern:["#F19C33","#B10066","#F5BA82","#00A33A","#4F6600","#FFF36F","#A3D39C","#F5F3F3","#CD001F","#939A9C","#CD001F","#BFDEF5","#8C875B","#D5ACC8","#CD001F","#1F519A","#33ACE5","#9F8800","#939A9C","#007BA0","#007BA0","#F0E68C","#A59FC6","#F0E68C","#D1D1D1","#FAF8C9","#D5ACC8","#F3BCBD","#A9B301","#1C89AA","#F2F2C4","#B91A75","#F6C07E"]}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SUPERSCRIPT_TWO:"",SUPERSCRIPT_THREE:""}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(12),s=r(o),l=function(){function e(t){a(this,e),this.map=t,this.icon=s.default.icon({iconUrl:"Content/img/green-dot.png",iconAnchor:[16,37]});var n=function(e){if(this._markers&&this._markers.length){var t=this._markers.length;t>0&&(e=e||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[t-1].getLatLng()),e))}};s.default.Draw.Polyline=s.default.Draw.Polyline.extend({_updateGuide:n}),s.default.Draw.Polygon=s.default.Draw.Polygon.extend({_updateGuide:n}),this.drawnItems=new s.default.featureGroup}return i(e,[{key:"initialize",value:function(){var e=this.drawnItems;this.map.addLayer(e)}}]),e}();t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(29),u=r(l),c=n(3),f=r(c),d=n(1),p=r(d),h=n(2),m=r(h),y=function(){function e(){i(this,e),this.funcs={},this.funcs[e.ParseInt]=f.default.parseInt,this.funcs[e.Numeric]=f.default.niceNumberFormat,this.funcs[e.Empty]=f.default.checkFeatureNullValue,this.funcs[e.Capitalize]=f.default.capitalizeFirstLetter,this.funcs[e.Price]=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"$"+f.default.niceNumberFormat(e,t)},this.funcs[e.AddressFormatter]=function(e){return f.default.addressFormatter.apply(f.default,a(e))},this.funcs[e.Url]=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"N/A",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"More Info";return e===t?e:p.default.createElement(u.default,{text:n,url:e})}}return s(e,[{key:"format",value:function(e,t){var n=void 0,r=void 0,i=void 0;try{var s=this.parse(t),l=o(s,2);n=l[0],r=l[1]}catch(e){m.default.displayMessage("Error occur while parsing layer column function.")}return i=this.funcs[n],i||m.default.displayMessage("Invalid column function."),i?i.apply(void 0,[e].concat(a(r))):e}},{key:"parse",value:function(e){var t=e,n=[],r=t.indexOf("("),a=t.indexOf(")"),i=t.slice(r+1,a);return r>0&&a>0&&(t=t.slice(0,r),""!==i&&(n=i.split(",").map(function(e){return e.trim()}))),[t,n]}}]),e}();y.ParseInt="parseInt",y.Numeric="numeric",y.Empty="empty",y.Capitalize="capitalize",y.Price="price",y.AddressFormatter="addressFormatter",y.Url="url",t.default=new y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(107),i=(r(a),[{category:"Maps",image:"icon-underground",layers:[{name:"Parks & Waterbodies Plan",src:"https://wuat.ura.gov.sg/ArcGis/rest/services/maps2/MP14_PW_gaz_maps/MapServer",layers:[0],identifyid:[0]},{name:"Master Plan (Approved Amendments Incorporated)",src:"https://wuat.ura.gov.sg/ArcGis/rest/services/maps2/Updated_Gaz_MP14_Land_Use_Maps/MapServer",layers:[0],identifyid:[0],legend:[0,1,2]},{name:"Master Plan 2014",src:"https://wuat.ura.gov.sg/ArcGis/rest/services/maps2/MP14_Land_Use_gaz_maps/MapServer",layers:[0,1,2],identifyid:[0,1,2],layerinfo:"Currently showing all water network except for treated water type. Zoom in to view treated water network</a>",legend:[0,1]},{name:"Landed Housing Areas Plan",src:"https://wuat.ura.gov.sg/ArcGis/rest/services/maps2/MP14_LHA_gaz_maps/MapServer",layers:[0,1,2],identifyid:[0,1,2],layerinfo:"Currently showing all water network except for treated water type. Zoom in to view treated water network</a>",legend:[0,1]},{name:"Building Height Plan",src:"https://wuat.ura.gov.sg/ArcGis/rest/services/maps2/MP14_BLDG_HT_gaz_maps/MapServer",layers:[0,1,2],identifyid:[0,1,2],layerinfo:"Currently showing all water network except for treated water type. Zoom in to view treated water network</a>",legend:[0,1]},{name:"Activity Generating Uses Plan",src:"https://wuat.ura.gov.sg/ArcGis/rest/services/maps2/MP14_AGU_gaz_maps/MapServer",layers:[0,1,2],identifyid:[0,1,2],layerinfo:"Currently showing all water network except for treated water type. Zoom in to view treated water network</a>",legend:[0,1]},{name:"Street Block,Urban Design Area,Conservation & Monuments Plan",src:"https://wuat.ura.gov.sg/ArcGis/rest/services/maps2/MP14_SBUD_gaz_maps/MapServer",layers:[0,1,2],identifyid:[0,1,2],layerinfo:"Currently showing all water network except for treated water type. Zoom in to view treated water network</a>",legend:[0,1]}]}]);t.default=i},function(e,t,n){var r,a,i;/*! jQuery UI - v1.12.0 - 2016-07-25
	* http://jqueryui.com
	* Includes: widget.js, data.js, scroll-parent.js, widgets/sortable.js, widgets/mouse.js
	* Copyright jQuery Foundation and other contributors; Licensed MIT */
!function(o){a=[n(6)],r=o,i="function"==typeof r?r.apply(t,a):r,!(void 0!==i&&(e.exports=i))}(function(e){e.ui=e.ui||{},e.ui.version="1.12.0";var t=0,n=Array.prototype.slice;e.cleanData=function(t){return function(n){var r,a,i;for(i=0;null!=(a=n[i]);i++)try{r=e._data(a,"events"),r&&r.remove&&e(a).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,r){var a,i,o,s={},l=t.split(".")[0];t=t.split(".")[1];var u=l+"-"+t;return r||(r=n,n=e.Widget),e.isArray(r)&&(r=e.extend.apply(null,[{}].concat(r))),e.expr[":"][u.toLowerCase()]=function(t){return!!e.data(t,u)},e[l]=e[l]||{},a=e[l][t],i=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new i(e,t)},e.extend(i,a,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),o=new n,o.options=e.widget.extend({},o.options),e.each(r,function(t,r){return e.isFunction(r)?void(s[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function a(e){return n.prototype[t].apply(this,e)}return function(){var t,n=this._super,i=this._superApply;return this._super=e,this._superApply=a,t=r.apply(this,arguments),this._super=n,this._superApply=i,t}}()):void(s[t]=r)}),i.prototype=e.widget.extend(o,{widgetEventPrefix:a?o.widgetEventPrefix||t:t},s,{constructor:i,namespace:l,widgetName:t,widgetFullName:u}),a?(e.each(a._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,i,n._proto)}),delete a._childConstructors):n._childConstructors.push(i),e.widget.bridge(t,i),i},e.widget.extend=function(t){for(var r,a,i=n.call(arguments,1),o=0,s=i.length;s>o;o++)for(r in i[o])a=i[o][r],i[o].hasOwnProperty(r)&&void 0!==a&&(t[r]=e.isPlainObject(a)?e.isPlainObject(t[r])?e.widget.extend({},t[r],a):e.widget.extend({},a):a);return t},e.widget.bridge=function(t,r){var a=r.prototype.widgetFullName||t;e.fn[t]=function(i){var o="string"==typeof i,s=n.call(arguments,1),l=this;return o?this.each(function(){var n,r=e.data(this,a);return"instance"===i?(l=r,!1):r?e.isFunction(r[i])&&"_"!==i.charAt(0)?(n=r[i].apply(r,s),n!==r&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+i+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+i+"'")}):(s.length&&(i=e.widget.extend.apply(null,[i].concat(s))),this.each(function(){var t=e.data(this,a);t?(t.option(i||{}),t._init&&t._init()):e.data(this,a,new r(i,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(n,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,a,i,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},r=t.split("."),t=r.shift(),r.length){for(a=o[t]=e.widget.extend({},this.options[t]),i=0;r.length-1>i;i++)a[r[i]]=a[r[i]]||{},a=a[r[i]];if(t=r.pop(),1===arguments.length)return void 0===a[t]?null:a[t];a[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=n}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,r,a;for(n in t)a=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&a&&a.length&&(r=e(a.get()),this._removeClass(a,n),r.addClass(this._classes({element:r,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function n(n,i){var o,s;for(s=0;n.length>s;s++)o=a.classesElementLookup[n[s]]||e(),o=e(t.add?e.unique(o.get().concat(t.element.get())):o.not(t.element).get()),a.classesElementLookup[n[s]]=o,r.push(n[s]),i&&t.classes[n[s]]&&r.push(t.classes[n[s]])}var r=[],a=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),t.keys&&n(t.keys.match(/\S+/g)||[],!0),t.extra&&n(t.extra.match(/\S+/g)||[]),r.join(" ")},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,r){r="boolean"==typeof r?r:n;var a="string"==typeof e||null===e,i={extra:a?t:n,keys:a?e:t,element:a?this.element:e,add:r};return i.element.toggleClass(this._classes(i),r),this},_on:function(t,n,r){var a,i=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=a=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,a=this.widget()),e.each(r,function(r,o){function s(){return t||i.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?i[o]:o).apply(i,arguments):void 0}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||e.guid++);var l=r.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+i.eventNamespace,c=l[2];c?a.on(u,c,s):n.on(u,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,r){var a,i,o=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],i=n.originalEvent)for(a in i)a in n||(n[a]=i[a]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,a,i){"string"==typeof a&&(a={effect:a});var o,s=a?a===!0||"number"==typeof a?n:a.effect||n:t;a=a||{},"number"==typeof a&&(a={duration:a}),o=!e.isEmptyObject(a),a.complete=i,a.delay&&r.delay(a.delay),o&&e.effects&&e.effects.effect[s]?r[t](a):s!==t&&r[s]?r[s](a.duration,a.easing,i):r.queue(function(n){e(this)[t](),i&&i.call(r[0]),n()})}}),e.widget,e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])}}),e.fn.scrollParent=function(t){var n=this.css("position"),r="absolute"===n,a=t?/(auto|scroll|hidden)/:/(auto|scroll)/,i=this.parents().filter(function(){var t=e(this);return(!r||"static"!==t.css("position"))&&a.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:e(this[0].ownerDocument||document)},e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var r=!1;e(document).on("mouseup",function(){r=!1}),e.widget("ui.mouse",{version:"1.12.0",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!r){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,a=1===t.which,i=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(a&&!i&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),r=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,r=!1,t.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.12.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&t+n>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var r=null,a=!1,i=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,i.widgetName+"-item")===i?(r=e(this),!1):void 0}),e.data(t.target,i.widgetName+"-item")===i&&(r=e(t.target)),!!r&&(!(this.options.handle&&!n&&(e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(a=!0)}),!a))&&(this.currentItem=r,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,r){var a,i,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(i=this.document.find("body"),this.storedCursor=i.css("cursor"),i.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(i)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,a,i,o=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),s!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=this.items[n],a=r.item[0],i=this._intersectsWithPointer(r),i&&r.instance===this.currentContainer&&a!==this.currentItem[0]&&this.placeholder[1===i?"next":"prev"]()[0]!==a&&!e.contains(this.placeholder[0],a)&&("semi-dynamic"!==this.options.type||!e.contains(this.element[0],a))){if(this.direction=1===i?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,a=this.placeholder.offset(),i=this.options.axis,o={};i&&"x"!==i||(o.left=a.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),i&&"y"!==i||(o.top=a.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,a=r+this.helperProportions.height,i=e.left,o=i+e.width,s=e.top,l=s+e.height,u=this.offset.click.top,c=this.offset.click.left,f="x"===this.options.axis||r+u>s&&l>r+u,d="y"===this.options.axis||t+c>i&&o>t+c,p=f&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>i&&o>n-this.helperProportions.width/2&&r+this.helperProportions.height/2>s&&l>a-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t,n,r="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),a="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=r&&a;return!!i&&(t=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"===a&&n||"left"===a&&!n:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){s.push(this)}var r,a,i,o,s=[],l=[],u=this._connectWith();if(u&&t)for(r=u.length-1;r>=0;r--)for(i=e(u[r],this.document[0]),a=i.length-1;a>=0;a--)o=e.data(i[a],this.widgetFullName),o&&o!==this&&!o.options.disabled&&l.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=l.length-1;r>=0;r--)l[r][0].each(n);return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;t.length>n;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,a,i,o,s,l,u,c=this.items,f=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(a=e(d[n],this.document[0]),r=a.length-1;r>=0;r--)i=e.data(a[r],this.widgetFullName),i&&i!==this&&!i.options.disabled&&(f.push([e.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):e(i.options.items,i.element),i]),this.containers.push(i));for(n=f.length-1;n>=0;n--)for(o=f[n][1],s=f[n][0],r=0,u=s.length;u>r;r++)l=e(s[r]),l.data(this.widgetName+"-item",o),c.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,r,a,i;for(n=this.items.length-1;n>=0;n--)r=this.items[n],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(a=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=a.outerWidth(),r.height=a.outerHeight()),i=a.offset(),r.left=i.left,r.top=i.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)i=this.containers[n].element.offset(),this.containers[n].containerCache.left=i.left,this.containers[n].containerCache.top=i.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,r=t.options;r.placeholder&&r.placeholder.constructor!==String||(n=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),a=e("<"+r+">",t.document[0]);return t._addClass(a,"ui-sortable-placeholder",n||t.currentItem[0].className)._removeClass(a,"ui-sortable-helper"),"tbody"===r?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(a)):"tr"===r?t._createTrPlaceholder(t.currentItem,a):"img"===r&&a.attr("src",t.currentItem.attr("src")),n||a.css("visibility","hidden"),a},update:function(e,a){(!n||r.forcePlaceholderSize)&&(a.height()||a.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),a.width()||a.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var r=this;t.children().each(function(){e("<td>&#160;</td>",r.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,r,a,i,o,s,l,u,c,f,d=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&e.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(a=1e4,i=null,c=d.floating||this._isFloating(this.currentItem),o=c?"left":"top",s=c?"width":"height",f=c?"pageX":"pageY",r=this.items.length-1;r>=0;r--)e.contains(this.containers[p].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(l=this.items[r].item.offset()[o],u=!1,t[f]-l>this.items[r][s]/2&&(u=!0),a>Math.abs(t[f]-l)&&(a=Math.abs(t[f]-l),i=this.items[r],this.direction=u?"up":"down"));if(!i&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));i?this._rearrange(t,i,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(!r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,a=this.options;"parent"===a.containment&&(a.containment=this.helper[0].parentNode),("document"===a.containment||"window"===a.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===a.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===a.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(a.containment)||(t=e(a.containment)[0],n=e(a.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(a[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:a.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:a.scrollLeft())*r}},_generatePosition:function(t){var n,r,a=this.options,i=t.pageX,o=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);
return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(i=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(i=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),a.grid&&(n=this.originalPageY+Math.round((o-this.originalPageY)/a.grid[1])*a.grid[1],o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-a.grid[1]:n+a.grid[1]:n,r=this.originalPageX+Math.round((i-this.originalPageX)/a.grid[0])*a.grid[0],i=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-a.grid[0]:r+a.grid[0]:r)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var a=this.counter;this._delay(function(){a===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){function n(e,t,n){return function(r){n._trigger(e,r,t._uiHash(t))}}this.reverting=!1;var r,a=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(r in this._storedCSS)("auto"===this._storedCSS[r]||"static"===this._storedCSS[r])&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&a.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||a.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(a.push(function(e){this._trigger("remove",e,this._uiHash())}),a.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),a.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),r=this.containers.length-1;r>=0;r--)t||a.push(n("deactivate",this,this.containers[r])),this.containers[r].containerCache.over&&(a.push(n("out",this,this.containers[r])),this.containers[r].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(r=0;a.length>r;r++)a[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(6);r(a);!function(e,t,n){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{},enablePhotoClusterMode:!1,photoZoomWidth:350,photoGalleryWidth:500,photoIconCreateFunction:null,extractPhotoUrl:null},initialize:function(e){L.Util.setOptions(this,e),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this.options.enablePhotoClusterMode&&(this.options.iconCreateFunction=this.options.photoIconCreateFunction?this.options.photoIconCreateFunction:this._defaultPhotoIconCreateFunction,this.options.singleMarkerMode=!0,this.options.spiderfyOnMaxZoom=!1,this.options.extractPhotoUrl=this._extractPhotoUrl),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var t=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,t?this._withAnimation:this._noAnimation),this._markerCluster=t?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(e){if(e instanceof L.LayerGroup)return this.addLayers([e]);if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this.fire("layeradd",{layer:e}),this;if(!this._map)return this._needsClustering.push(e),this.fire("layeradd",{layer:e}),this;if(this.hasLayer(e))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(e,this._maxZoom),this.fire("layeradd",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var t=e,n=this._zoom;if(e.__parent)for(;t.__parent._zoom>=n;)t=t.__parent;return this._currentShownBounds.contains(t.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(e,t):this._animationAddLayerNonAnimated(e,t)),this},removeLayer:function(e){return e instanceof L.LayerGroup?this.removeLayers([e]):e.getLatLng?this._map?e.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(e)),this._removeLayer(e,!0),this.fire("layerremove",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),e.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(e)&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,e)&&this.hasLayer(e)&&this._needsRemoving.push({layer:e,latlng:e._latlng}),this.fire("layerremove",{layer:e}),this):(this._nonPointGroup.removeLayer(e),this.fire("layerremove",{layer:e}),this)},addLayers:function(e,t){if(!L.Util.isArray(e))return this.addLayer(e);var n,r=this._featureGroup,a=this._nonPointGroup,i=this.options.chunkedLoading,o=this.options.chunkInterval,s=this.options.chunkProgress,l=e.length,u=0,c=!0;if(this._map){var f=(new Date).getTime(),d=L.bind(function(){for(var p=(new Date).getTime();u<l;u++){if(i&&u%200===0){var h=(new Date).getTime()-p;if(h>o)break}if(n=e[u],n instanceof L.LayerGroup)c&&(e=e.slice(),c=!1),this._extractNonGroupLayers(n,e),l=e.length;else if(n.getLatLng){if(!this.hasLayer(n)&&(this._addLayer(n,this._maxZoom),t||this.fire("layeradd",{layer:n}),n.__parent&&2===n.__parent.getChildCount())){var m=n.__parent.getAllChildMarkers(),y=m[0]===n?m[1]:m[0];r.removeLayer(y)}}else a.addLayer(n),t||this.fire("layeradd",{layer:n})}s&&s(u,l,(new Date).getTime()-f),u===l?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(d,this.options.chunkDelay)},this);d()}else for(var p=this._needsClustering;u<l;u++)n=e[u],n instanceof L.LayerGroup?(c&&(e=e.slice(),c=!1),this._extractNonGroupLayers(n,e),l=e.length):n.getLatLng?this.hasLayer(n)||p.push(n):a.addLayer(n);return this},removeLayers:function(e){var t,n,r=e.length,a=this._featureGroup,i=this._nonPointGroup,o=!0;if(!this._map){for(t=0;t<r;t++)n=e[t],n instanceof L.LayerGroup?(o&&(e=e.slice(),o=!1),this._extractNonGroupLayers(n,e),r=e.length):(this._arraySplice(this._needsClustering,n),i.removeLayer(n),this.hasLayer(n)&&this._needsRemoving.push({layer:n,latlng:n._latlng}),this.fire("layerremove",{layer:n}));return this}if(this._unspiderfy){this._unspiderfy();var s=e.slice(),l=r;for(t=0;t<l;t++)n=s[t],n instanceof L.LayerGroup?(this._extractNonGroupLayers(n,s),l=s.length):this._unspiderfyLayer(n)}for(t=0;t<r;t++)n=e[t],n instanceof L.LayerGroup?(o&&(e=e.slice(),o=!1),this._extractNonGroupLayers(n,e),r=e.length):n.__parent?(this._removeLayer(n,!0,!0),this.fire("layerremove",{layer:n}),a.hasLayer(n)&&(a.removeLayer(n),n.clusterShow&&n.clusterShow())):(i.removeLayer(n),this.fire("layerremove",{layer:n}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(e){e.off(this._childMarkerEventHandlers,this),delete e.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var e=new L.LatLngBounds;this._topClusterLevel&&e.extend(this._topClusterLevel._bounds);for(var t=this._needsClustering.length-1;t>=0;t--)e.extend(this._needsClustering[t].getLatLng());return e.extend(this._nonPointGroup.getBounds()),e},eachLayer:function(e,t){var n,r,a,i=this._needsClustering.slice(),o=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(i),r=i.length-1;r>=0;r--){for(n=!0,a=o.length-1;a>=0;a--)if(o[a].layer===i[r]){n=!1;break}n&&e.call(t,i[r])}this._nonPointGroup.eachLayer(e,t)},getLayers:function(){var e=[];return this.eachLayer(function(t){e.push(t)}),e},getLayer:function(e){var t=null;return e=parseInt(e,10),this.eachLayer(function(n){L.stamp(n)===e&&(t=n)}),t},hasLayer:function(e){if(!e)return!1;var t,n=this._needsClustering;for(t=n.length-1;t>=0;t--)if(n[t]===e)return!0;for(n=this._needsRemoving,t=n.length-1;t>=0;t--)if(n[t].layer===e)return!1;return!(!e.__parent||e.__parent._group!==this)||this._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,t){"function"!=typeof t&&(t=function(){});var n=function n(){!e._icon&&!e.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",n,this),this.off("animationend",n,this),e._icon?t():e.__parent._icon&&(this.once("spiderfied",t,this),e.__parent.spiderfy()))};e._icon&&this._map.getBounds().contains(e.getLatLng())?t():e.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",n,this),this._map.panTo(e.getLatLng())):(this._map.on("moveend",n,this),this.on("animationend",n,this),e.__parent.zoomToBounds())},onAdd:function(e){this._map=e;var t,n,r;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(e),this._nonPointGroup.addTo(e),this._gridClusters||this._generateInitialClusters(),this._maxLat=e.options.crs.projection.MAX_LATITUDE,t=0,n=this._needsRemoving.length;t<n;t++)r=this._needsRemoving[t],r.newlatlng=r.layer._latlng,r.layer._latlng=r.latlng;for(t=0,n=this._needsRemoving.length;t<n;t++)r=this._needsRemoving[t],this._removeLayer(r.layer,!0),r.layer._latlng=r.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),n=this._needsClustering,this._needsClustering=[],this.addLayers(n,!0)},onRemove:function(e){e.off("zoomend",this._zoomEnd,this),e.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(e){for(var t=e;t&&!t._icon;)t=t.__parent;return t||null},_arraySplice:function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return e.splice(n,1),!0},_removeFromGridUnclustered:function(e,t){for(var n=this._map,r=this._gridUnclustered,a=this._map.getMinZoom();t>=a&&r[t].removeObject(e,n.project(e.getLatLng(),t));t--);},_childMarkerDragStart:function(e){e.target.__dragStart=e.target._latlng},_childMarkerMoved:function(e){if(!this._ignoreMove&&!e.target.__dragStart){var t=e.target._popup&&e.target._popup.isOpen();this._moveChild(e.target,e.oldLatLng,e.latlng),t&&e.target.openPopup()}},_moveChild:function(e,t,n){e._latlng=t,this.removeLayer(e),e._latlng=n,this.addLayer(e)},_childMarkerDragEnd:function(e){e.target.__dragStart&&this._moveChild(e.target,e.target.__dragStart,e.target._latlng),delete e.target.__dragStart},_removeLayer:function(e,t,n){var r=this._gridClusters,a=this._gridUnclustered,i=this._featureGroup,o=this._map,s=this._map.getMinZoom();t&&this._removeFromGridUnclustered(e,this._maxZoom);var l,u=e.__parent,c=u._markers;for(this._arraySplice(c,e);u&&(u._childCount--,u._boundsNeedUpdate=!0,!(u._zoom<s));)t&&u._childCount<=1?(l=u._markers[0]===e?u._markers[1]:u._markers[0],r[u._zoom].removeObject(u,o.project(u._cLatLng,u._zoom)),a[u._zoom].addObject(l,o.project(l.getLatLng(),u._zoom)),this._arraySplice(u.__parent._childClusters,u),u.__parent._markers.push(l),l.__parent=u.__parent,u._icon&&(i.removeLayer(u),n||i.addLayer(l))):u._iconNeedsUpdate=!0,u=u.__parent;delete e.__parent},_isOrIsParent:function(e,t){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},fire:function(e,t,n){if(t&&t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;e="cluster"+e}L.FeatureGroup.prototype.fire.call(this,e,t,n)},listens:function(e,t){return L.FeatureGroup.prototype.listens.call(this,e,t)||L.FeatureGroup.prototype.listens.call(this,"cluster"+e,t)},_defaultIconCreateFunction:function(e){var t=e.getChildCount(),n=" marker-cluster-";return n+=t<10?"small":t<100?"medium":"large",new L.DivIcon({html:"<div><span>"+t+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_extractPhotoUrl:function(e){return"undefined"!=typeof e.feature&&"undefined"!=typeof e.feature.properties.photo_url?e.feature.properties.photo_url:"undefined"!=typeof e.options&&"undefined"!=typeof e.options.photo_url?e.options.photo_url:"http://placehold.it/50x50"},_defaultPhotoIconCreateFunction:function(e){var t=e.getChildCount(),n=e.getAllChildMarkers(),r="";r+='<div class="leaflet-marker-photo"><img style="height:40px;margin-bottom:-5px" src="'+this.extractPhotoUrl(n[0])+'" /></div>';var a='<span class="photo-cluster photo-cluster-count-'+t+'">'+r+"<strong>"+t+"</strong></span>",i=new L.DivIcon({html:a});return i},_bindEvents:function(){var e=this._map,t=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,r=this.options.zoomToBoundsOnClick,a=this.options.enablePhotoClusterMode;(t||r)&&this.on("clusterclick",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),e.on("zoomend",this._hideCoverage,this)),a&&this.on("clusterclick",this._photoGallery,this)},_photoGallery:function(e){var t=this._map;t.getMaxZoom()===t.getZoom()&&e.layer.spiderfy()},_photoPopup:function(e){},_zoomOrSpiderfy:function(e){for(var t=e.layer,n=t;1===n._childClusters.length;)n=n._childClusters[0];n._zoom===this._maxZoom&&n._childCount===t._childCount&&this.options.spiderfyOnMaxZoom?t.spiderfy():this.options.zoomToBoundsOnClick&&t.zoomToBounds(),e.originalEvent&&13===e.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(e){var t=this._map;this._inZoomAnimation||(this._shownPolygon&&t.removeLayer(this._shownPolygon),e.layer.getChildCount()>2&&e.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),t.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var e=this.options.spiderfyOnMaxZoom,t=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,r=this._map;(e||n)&&this.off("clusterclick",this._zoomOrSpiderfy,this),t&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),r.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var e=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),e),this._currentShownBounds=e}},_generateInitialClusters:function(){var e=this._map.getMaxZoom(),t=this._map.getMinZoom(),n=this.options.maxClusterRadius,r=n;"function"!=typeof n&&(r=function(){return n}),this.options.disableClusteringAtZoom&&(e=this.options.disableClusteringAtZoom-1),this._maxZoom=e,this._gridClusters={},this._gridUnclustered={};for(var a=e;a>=t;a--)this._gridClusters[a]=new L.DistanceGrid(r(a)),this._gridUnclustered[a]=new L.DistanceGrid(r(a));this._topClusterLevel=new this._markerCluster(this,t-1)},_addLayer:function(e,t){var n,r,a=this._gridClusters,i=this._gridUnclustered,o=this._map.getMinZoom();for(this.options.singleMarkerMode&&this._overrideMarkerIcon(e),e.on(this._childMarkerEventHandlers,this);t>=o;t--){n=this._map.project(e.getLatLng(),t);var s=a[t].getNearObject(n);if(s)return s._addChild(e),void(e.__parent=s);if(s=i[t].getNearObject(n)){var l=s.__parent;l&&this._removeLayer(s,!1);var u=new this._markerCluster(this,t,s,e);a[t].addObject(u,this._map.project(u._cLatLng,t)),s.__parent=u,e.__parent=u;var c=u;for(r=t-1;r>l._zoom;r--)c=new this._markerCluster(this,r,c),a[r].addObject(c,this._map.project(s.getLatLng(),r));return l._addChild(c),void this._removeFromGridUnclustered(s,t)}i[t].addObject(e,n)}this._topClusterLevel._addChild(e),e.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(e){e instanceof L.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()})},_enqueue:function(e){this._queue.push(e),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var e=0;e<this._queue.length;e++)this._queue[e].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var e=Math.round(this._map._zoom);this._processQueue(),this._zoom<e&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,e)):this._zoom>e?(this._animationStart(),this._animationZoomOut(this._zoom,e)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(e){var t=this._maxLat;return t!==n&&(e.getNorth()>=t&&(e._northEast.lat=1/0),e.getSouth()<=-t&&(e._southWest.lat=-(1/0))),e},_animationAddLayerNonAnimated:function(e,t){if(t===e)this._featureGroup.addLayer(e);else if(2===t._childCount){t._addToMap();var n=t.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else t._updateIcon()},_extractNonGroupLayers:function(e,t){var n,r=e.getLayers(),a=0;for(t=t||[];a<r.length;a++)n=r[a],n instanceof L.LayerGroup?this._extractNonGroupLayers(n,t):t.push(n);return t},_overrideMarkerIcon:function(e){var t=e.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[e]}});return t}}),L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-(1/0),-(1/0)),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(e,t){this._animationAddLayerNonAnimated(e,t)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(e,t){var n,r=this._getExpandedVisibleBounds(),a=this._featureGroup,i=this._map.getMinZoom();this._ignoreMove=!0,this._topClusterLevel._recursively(r,e,i,function(i){var o,s=i._latlng,l=i._markers;for(r.contains(s)||(s=null),i._isSingleParent()&&e+1===t?(a.removeLayer(i),i._recursivelyAddChildrenToMap(null,t,r)):(i.clusterHide(),i._recursivelyAddChildrenToMap(s,t,r)),n=l.length-1;n>=0;n--)o=l[n],r.contains(o._latlng)||a.removeLayer(o)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(r,t),a.eachLayer(function(e){e instanceof L.MarkerCluster||!e._icon||e.clusterShow()}),this._topClusterLevel._recursively(r,e,t,function(e){e._recursivelyRestoreChildPositions(t)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(r,e,i,function(e){a.removeLayer(e),e.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(e,t){this._animationZoomOutSingle(this._topClusterLevel,e-1,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,e,this._getExpandedVisibleBounds())},_animationAddLayer:function(e,t){var n=this,r=this._featureGroup;r.addLayer(e),t!==e&&(t._childCount>2?(t._updateIcon(),this._forceLayout(),this._animationStart(),e._setPos(this._map.latLngToLayerPoint(t.getLatLng())),e.clusterHide(),this._enqueue(function(){r.removeLayer(e),e.clusterShow(),n._animationEnd()})):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(t,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(e,t,n){var r=this._getExpandedVisibleBounds(),a=this._map.getMinZoom();e._recursivelyAnimateChildrenInAndAddSelfToMap(r,t+1,n);var i=this;this._forceLayout(),e._recursivelyBecomeVisible(r,n),this._enqueue(function(){if(1===e._childCount){var o=e._markers[0];this._ignoreMove=!0,o.setLatLng(o.getLatLng()),this._ignoreMove=!1,o.clusterShow&&o.clusterShow()}else e._recursively(r,n,a,function(e){e._recursivelyRemoveChildrenFromMap(r,t+1)});i._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(t.body.offsetWidth)}}),L.markerClusterGroup=function(e){return new L.MarkerClusterGroup(e)},L.MarkerCluster=L.Marker.extend({initialize:function(e,t,n,r){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=e,this._zoom=t,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),r&&this._addChild(r)},getAllChildMarkers:function(e){e=e||[];for(var t=this._childClusters.length-1;t>=0;t--)this._childClusters[t].getAllChildMarkers(e);for(var n=this._markers.length-1;n>=0;n--)e.push(this._markers[n]);return e},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var e,t=this._childClusters.slice(),n=this._group._map,r=n.getBoundsZoom(this._bounds),a=this._zoom+1,i=n.getZoom();t.length>0&&r>a;){a++;var o=[];for(e=0;e<t.length;e++)o=o.concat(t[e]._childClusters);t=o}r>a?this._group._map.setView(this._latlng,a):r<=i?this._group._map.setView(this._latlng,i+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var e=new L.LatLngBounds;return e.extend(this._bounds),e},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,t){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(e),e instanceof L.MarkerCluster?(t||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(t||this._markers.push(e),this._childCount++),this.__parent&&this.__parent._addChild(e,!0)},_setClusterCenter:function(e){this._cLatLng||(this._cLatLng=e._cLatLng||e._latlng)},_resetBounds:function(){var e=this._bounds;e._southWest&&(e._southWest.lat=1/0,e._southWest.lng=1/0),e._northEast&&(e._northEast.lat=-(1/0),e._northEast.lng=-(1/0))},_recalculateBounds:function(){var e,t,n,r,a=this._markers,i=this._childClusters,o=0,s=0,l=this._childCount;if(0!==l){for(this._resetBounds(),e=0;e<a.length;e++)n=a[e]._latlng,this._bounds.extend(n),o+=n.lat,s+=n.lng;for(e=0;e<i.length;e++)t=i[e],t._boundsNeedUpdate&&t._recalculateBounds(),this._bounds.extend(t._bounds),n=t._wLatLng,r=t._childCount,o+=n.lat*r,s+=n.lng*r;this._latlng=this._wLatLng=new L.LatLng(o/l,s/l),this._boundsNeedUpdate=!1}},_addToMap:function(e){e&&(this._backupLatlng=this._latlng,this.setLatLng(e)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(e,t,n){this._recursively(e,this._group._map.getMinZoom(),n-1,function(e){var n,r,a=e._markers;for(n=a.length-1;n>=0;n--)r=a[n],r._icon&&(r._setPos(t),r.clusterHide())},function(e){var n,r,a=e._childClusters;for(n=a.length-1;n>=0;n--)r=a[n],r._icon&&(r._setPos(t),r.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,t,n){this._recursively(e,n,this._group._map.getMinZoom(),function(r){r._recursivelyAnimateChildrenIn(e,r._group._map.latLngToLayerPoint(r.getLatLng()).round(),t),r._isSingleParent()&&t-1===n?(r.clusterShow(),r._recursivelyRemoveChildrenFromMap(e,t)):r.clusterHide(),r._addToMap()})},_recursivelyBecomeVisible:function(e,t){this._recursively(e,this._group._map.getMinZoom(),t,null,function(e){e.clusterShow()})},_recursivelyAddChildrenToMap:function(e,t,n){this._recursively(n,this._group._map.getMinZoom()-1,t,function(r){if(t!==r._zoom)for(var a=r._markers.length-1;a>=0;a--){var i=r._markers[a];n.contains(i._latlng)&&(e&&(i._backupLatlng=i.getLatLng(),i.setLatLng(e),i.clusterHide&&i.clusterHide()),r._group._featureGroup.addLayer(i))}},function(t){t._addToMap(e)})},_recursivelyRestoreChildPositions:function(e){for(var t=this._markers.length-1;t>=0;t--){var n=this._markers[t];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(e-1===this._zoom)for(var r=this._childClusters.length-1;r>=0;r--)this._childClusters[r]._restorePosition();else for(var a=this._childClusters.length-1;a>=0;a--)this._childClusters[a]._recursivelyRestoreChildPositions(e)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(e,t,n){var r,a;this._recursively(e,this._group._map.getMinZoom()-1,t-1,function(e){for(a=e._markers.length-1;a>=0;a--)r=e._markers[a],n&&n.contains(r._latlng)||(e._group._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow())},function(e){for(a=e._childClusters.length-1;a>=0;a--)r=e._childClusters[a],n&&n.contains(r._latlng)||(e._group._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow())})},_recursively:function(e,t,n,r,a){var i,o,s=this._childClusters,l=this._zoom;if(t<=l&&(r&&r(this),a&&l===n&&a(this)),l<t||l<n)for(i=s.length-1;i>=0;i--)o=s[i],e.intersects(o._bounds)&&o._recursively(e,t,n,r,a)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.Marker.include({clusterHide:function(){return this.options.opacityWhenUnclustered=this.options.opacity||1,this.setOpacity(0)},clusterShow:function(){var e=this.setOpacity(this.options.opacity||this.options.opacityWhenUnclustered);return delete this.options.opacityWhenUnclustered,e}}),L.DistanceGrid=function(e){this._cellSize=e,this._sqCellSize=e*e,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(e,t){var n=this._getCoord(t.x),r=this._getCoord(t.y),a=this._grid,i=a[r]=a[r]||{},o=i[n]=i[n]||[],s=L.Util.stamp(e);this._objectPoint[s]=t,o.push(e)},updateObject:function(e,t){this.removeObject(e),this.addObject(e,t)},removeObject:function(e,t){var n,r,a=this._getCoord(t.x),i=this._getCoord(t.y),o=this._grid,s=o[i]=o[i]||{},l=s[a]=s[a]||[];for(delete this._objectPoint[L.Util.stamp(e)],n=0,r=l.length;n<r;n++)if(l[n]===e)return l.splice(n,1),1===r&&delete s[a],!0},eachObject:function(e,t){var n,r,a,i,o,s,l,u=this._grid;for(n in u){o=u[n];for(r in o)for(s=o[r],a=0,i=s.length;a<i;a++)l=e.call(t,s[a]),l&&(a--,i--)}},getNearObject:function(e){var t,n,r,a,i,o,s,l,u=this._getCoord(e.x),c=this._getCoord(e.y),f=this._objectPoint,d=this._sqCellSize,p=null;for(t=c-1;t<=c+1;t++)if(a=this._grid[t])for(n=u-1;n<=u+1;n++)if(i=a[n])for(r=0,o=i.length;r<o;r++)s=i[r],l=this._sqDist(f[L.Util.stamp(s)],e),l<d&&(d=l,p=s);return p},_getCoord:function(e){return Math.floor(e/this._cellSize)},_sqDist:function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}},function(){L.QuickHull={getDistant:function(e,t){var n=t[1].lat-t[0].lat,r=t[0].lng-t[1].lng;return r*(e.lat-t[0].lat)+n*(e.lng-t[0].lng)},findMostDistantPointFromBaseLine:function(e,t){var n,r,a,i=0,o=null,s=[];for(n=t.length-1;n>=0;n--)r=t[n],a=this.getDistant(r,e),a>0&&(s.push(r),a>i&&(i=a,o=r));return{maxPoint:o,newPoints:s}},buildConvexHull:function(e,t){var n=[],r=this.findMostDistantPointFromBaseLine(e,t);return r.maxPoint?(n=n.concat(this.buildConvexHull([e[0],r.maxPoint],r.newPoints)),n=n.concat(this.buildConvexHull([r.maxPoint,e[1]],r.newPoints))):[e[0]]},getConvexHull:function(e){var t,n=!1,r=!1,a=!1,i=!1,o=null,s=null,l=null,u=null,c=null,f=null;for(t=e.length-1;t>=0;t--){var d=e[t];(n===!1||d.lat>n)&&(o=d,n=d.lat),(r===!1||d.lat<r)&&(s=d,r=d.lat),(a===!1||d.lng>a)&&(l=d,a=d.lng),(i===!1||d.lng<i)&&(u=d,i=d.lng)}r!==n?(f=s,c=o):(f=u,c=l);var p=[].concat(this.buildConvexHull([f,c],e),this.buildConvexHull([c,f],e));return p}}}(),L.MarkerCluster.include({getConvexHull:function(){var e,t,n=this.getAllChildMarkers(),r=[];for(t=n.length-1;t>=0;t--)e=n[t].getLatLng(),r.push(e);return L.QuickHull.getConvexHull(r)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,photoGallery:function(){for(var e=this.getAllChildMarkers(),t=this._group,n=t._map,r="",a=0;a<e.length;++a)r+='<li><img src="'+this._group._extractPhotoUrl(e[a])+'" /></li>';
var i='<div class="photo-cluster-gallery"><ul>'+r+"</ul>";new L.popup({offset:new L.Point(40,150),autoPan:!0,minWidth:this.options.photoGalleryWidth}).setContent(i).setLatLng(this._latlng).openOn(n)},spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var e,t=this.getAllChildMarkers(),n=this._group,r=n._map,a=r.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,t.length>=this._circleSpiralSwitchover?e=this._generatePointsSpiral(t.length,a):(a.y+=10,e=this._generatePointsCircle(t.length,a)),this._animationSpiderfy(t,e)}},unspiderfy:function(e){this._group._inZoomAnimation||(this._animationUnspiderfy(e),this._group._spiderfied=null)},_generatePointsCircle:function(e,t){var n,r,a=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+e),i=a/this._2PI,o=this._2PI/e,s=[];for(s.length=e,n=e-1;n>=0;n--)r=this._circleStartAngle+n*o,s[n]=new L.Point(t.x+i*Math.cos(r),t.y+i*Math.sin(r))._round();return s},_generatePointsSpiral:function(e,t){var n,r=this._group.options.spiderfyDistanceMultiplier,a=r*this._spiralLengthStart,i=r*this._spiralFootSeparation,o=r*this._spiralLengthFactor*this._2PI,s=0,l=[];for(l.length=e,n=e-1;n>=0;n--)s+=i/a+5e-4*n,l[n]=new L.Point(t.x+a*Math.cos(s),t.y+a*Math.sin(s))._round(),a+=o/s;return l},_noanimationUnspiderfy:function(){var e,t,n=this._group,r=n._map,a=n._featureGroup,i=this.getAllChildMarkers();for(n._ignoreMove=!0,this.setOpacity(1),t=i.length-1;t>=0;t--)e=i[t],a.removeLayer(e),e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng),e.setZIndexOffset&&e.setZIndexOffset(0),e._spiderLeg&&(r.removeLayer(e._spiderLeg),delete e._spiderLeg);n.fire("unspiderfied",{cluster:this,markers:i}),n._ignoreMove=!1,n._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(e,t){var n,r,a,i,o=this._group,s=o._map,l=o._featureGroup,u=this._group.options.spiderLegPolylineOptions;for(o._ignoreMove=!0,n=0;n<e.length;n++)i=s.layerPointToLatLng(t[n]),r=e[n],a=new L.Polyline([this._latlng,i],u),s.addLayer(a),r._spiderLeg=a,r._preSpiderfyLatlng=r._latlng,r.setLatLng(i),r.setZIndexOffset&&r.setZIndexOffset(1e6),l.addLayer(r);this.setOpacity(.3),o._ignoreMove=!1,o.fire("spiderfied",{cluster:this,markers:e})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(e,t){var r,a,i,o,s,l,u=this,c=this._group,f=c._map,d=c._featureGroup,p=this._latlng,h=f.latLngToLayerPoint(p),m=L.Path.SVG,y=L.extend({},this._group.options.spiderLegPolylineOptions),g=y.opacity;for(g===n&&(g=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),m?(y.opacity=0,y.className=(y.className||"")+" leaflet-cluster-spider-leg"):y.opacity=g,c._ignoreMove=!0,r=0;r<e.length;r++)a=e[r],l=f.layerPointToLatLng(t[r]),i=new L.Polyline([p,l],y),f.addLayer(i),a._spiderLeg=i,m&&(o=i._path,s=o.getTotalLength()+.1,o.style.strokeDasharray=s,o.style.strokeDashoffset=s),a.setZIndexOffset&&a.setZIndexOffset(1e6),a.clusterHide&&a.clusterHide(),d.addLayer(a),a._setPos&&a._setPos(h);for(c._forceLayout(),c._animationStart(),r=e.length-1;r>=0;r--)l=f.layerPointToLatLng(t[r]),a=e[r],a._preSpiderfyLatlng=a._latlng,a.setLatLng(l),a.clusterShow&&a.clusterShow(),m&&(i=a._spiderLeg,o=i._path,o.style.strokeDashoffset=0,i.setStyle({opacity:g}));this.setOpacity(.3),c._ignoreMove=!1,setTimeout(function(){c._animationEnd(),c.fire("spiderfied",{cluster:u,markers:e})},200)},_animationUnspiderfy:function(e){var t,n,r,a,i,o,s=this,l=this._group,u=l._map,c=l._featureGroup,f=e?u._latLngToNewLayerPoint(this._latlng,e.zoom,e.center):u.latLngToLayerPoint(this._latlng),d=this.getAllChildMarkers(),p=L.Path.SVG;for(l._ignoreMove=!0,l._animationStart(),this.setOpacity(1),n=d.length-1;n>=0;n--)t=d[n],t._preSpiderfyLatlng&&(t.closePopup(),t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng,o=!0,t._setPos&&(t._setPos(f),o=!1),t.clusterHide&&(t.clusterHide(),o=!1),o&&c.removeLayer(t),p&&(r=t._spiderLeg,a=r._path,i=a.getTotalLength()+.1,a.style.strokeDashoffset=i,r.setStyle({opacity:0})));l._ignoreMove=!1,setTimeout(function(){var e=0;for(n=d.length-1;n>=0;n--)t=d[n],t._spiderLeg&&e++;for(n=d.length-1;n>=0;n--)t=d[n],t._spiderLeg&&(t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),e>1&&c.removeLayer(t),u.removeLayer(t._spiderLeg),delete t._spiderLeg);l._animationEnd(),l.fire("unspiderfied",{cluster:s,markers:d})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(e){this._spiderfied&&this._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),this._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(e){return e?e instanceof L.MarkerClusterGroup?e=e._topClusterLevel.getAllChildMarkers():e instanceof L.LayerGroup?e=e._layers:e instanceof L.MarkerCluster?e=e.getAllChildMarkers():e instanceof L.Marker&&(e=[e]):e=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(e),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(e),this},_flagParentsIconsNeedUpdate:function(e){var t,n;for(t in e)for(n=e[t].__parent;n;)n._iconNeedsUpdate=!0,n=n.__parent},_refreshSingleMarkerModeMarkers:function(e){var t,n;for(t in e)n=e[t],this.hasLayer(n)&&n.setIcon(this._overrideMarkerIcon(n))}}),L.Marker.include({refreshIconOptions:function(e,t){var n=this.options.icon;return L.setOptions(n,e),this.setIcon(n),t&&this.__parent&&this.__parent._group.refreshClusters(this),this}})}(window,document)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=document.createElement("input");return e.setAttribute("type","range"),"text"!==e.type}function i(e,t){var n=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)}function o(e,t){return t=t||100,function(){if(!e.debouncing){var n=Array.prototype.slice.apply(arguments);e.lastReturnVal=e.apply(window,n),e.debouncing=!0}return clearTimeout(e.debounceTimeout),e.debounceTimeout=setTimeout(function(){e.debouncing=!1},t),e.lastReturnVal}}function s(e){return e&&(0===e.offsetWidth||0===e.offsetHeight||e.open===!1)}function l(e){for(var t=[],n=e.parentNode;s(n);)t.push(n),n=n.parentNode;return t}function u(e,t){function n(e){"undefined"!=typeof e.open&&(e.open=!e.open)}var r=l(e),a=r.length,i=[],o=e[t];if(a){for(var s=0;s<a;s++)i[s]=r[s].style.cssText,r[s].style.setProperty?r[s].style.setProperty("display","block","important"):r[s].style.cssText+=";display: block !important",r[s].style.height="0",r[s].style.overflow="hidden",r[s].style.visibility="hidden",n(r[s]);o=e[t];for(var u=0;u<a;u++)r[u].style.cssText=i[u],n(r[u])}return o}function c(e,t){var n=parseFloat(e);return Number.isNaN(n)?t:n}function f(e){return e.charAt(0).toUpperCase()+e.substr(1)}function d(e,t){if(this.$window=(0,h.default)(window),this.$document=(0,h.default)(document),this.$element=(0,h.default)(e),this.options=h.default.extend({},v,t),this.polyfill=this.options.polyfill,this.orientation=this.$element[0].getAttribute("data-orientation")||this.options.orientation,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideEnd=this.options.onSlideEnd,this.DIMENSION=_.orientation[this.orientation].dimension,this.DIRECTION=_.orientation[this.orientation].direction,this.DIRECTION_STYLE=_.orientation[this.orientation].directionStyle,this.COORDINATE=_.orientation[this.orientation].coordinate,this.polyfill&&g)return!1;this.identifier="js-"+m+"-"+y++,this.startEvent=this.options.startEvent.join("."+this.identifier+" ")+"."+this.identifier,this.moveEvent=this.options.moveEvent.join("."+this.identifier+" ")+"."+this.identifier,this.endEvent=this.options.endEvent.join("."+this.identifier+" ")+"."+this.identifier,this.toFixed=(this.step+"").replace(".","").length-1,this.$fill=(0,h.default)('<div class="'+this.options.fillClass+'" />'),this.$handle=(0,h.default)('<div class="'+this.options.handleClass+'" />'),this.$range=(0,h.default)('<div class="'+this.options.rangeClass+" "+this.options[this.orientation+"Class"]+'" id="'+this.identifier+'" />').insertAfter(this.$element).prepend(this.$fill,this.$handle),this.$element.css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this.handleDown=h.default.proxy(this.handleDown,this),this.handleMove=h.default.proxy(this.handleMove,this),this.handleEnd=h.default.proxy(this.handleEnd,this),this.init();var n=this;this.$window.on("resize."+this.identifier,o(function(){i(function(){n.update(!1,!1)},300)},20)),this.$document.on(this.startEvent,"#"+this.identifier+":not(."+this.options.disabledClass+")",this.handleDown),this.$element.on("change."+this.identifier,function(e,t){if(!t||t.origin!==n.identifier){var r=e.target.value,a=n.getPositionFromValue(r);n.setPosition(a)}})}Object.defineProperty(t,"__esModule",{value:!0});var p=n(6),h=r(p);/*! rangeslider.js - v2.1.1 | (c) 2016 @andreruffert | MIT license | https://github.com/andreruffert/rangeslider.js */
Number.isNaN=Number.isNaN||function(e){return"number"==typeof e&&e!==e};var m="rangeslider",y=0,g=a(),v={polyfill:!0,orientation:"horizontal",rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",horizontalClass:"rangeslider--horizontal",verticalClass:"rangeslider--vertical",fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"]},_={orientation:{horizontal:{dimension:"width",direction:"left",directionStyle:"left",coordinate:"x"},vertical:{dimension:"height",direction:"top",directionStyle:"bottom",coordinate:"y"}}};d.prototype.init=function(){this.update(!0,!1),this.onInit&&"function"==typeof this.onInit&&this.onInit()},d.prototype.update=function(e,t){e=e||!1,e&&(this.min=c(this.$element[0].getAttribute("min"),0),this.max=c(this.$element[0].getAttribute("max"),100),this.value=c(this.$element[0].value,Math.round(this.min+(this.max-this.min)/2)),this.step=c(this.$element[0].getAttribute("step"),1)),this.handleDimension=u(this.$handle[0],"offset"+f(this.DIMENSION)),this.rangeDimension=u(this.$range[0],"offset"+f(this.DIMENSION)),this.maxHandlePos=this.rangeDimension-this.handleDimension,this.grabPos=this.handleDimension/2,this.position=this.getPositionFromValue(this.value),this.$element[0].disabled?this.$range.addClass(this.options.disabledClass):this.$range.removeClass(this.options.disabledClass),this.setPosition(this.position,t)},d.prototype.handleDown=function(e){if(this.$document.on(this.moveEvent,this.handleMove),this.$document.on(this.endEvent,this.handleEnd),!((" "+e.target.className+" ").replace(/[\n\t]/g," ").indexOf(this.options.handleClass)>-1)){var t=this.getRelativePosition(e),n=this.$range[0].getBoundingClientRect()[this.DIRECTION],r=this.getPositionFromNode(this.$handle[0])-n,a="vertical"===this.orientation?this.maxHandlePos-(t-this.grabPos):t-this.grabPos;this.setPosition(a),t>=r&&t<r+this.handleDimension&&(this.grabPos=t-r)}},d.prototype.handleMove=function(e){e.preventDefault();var t=this.getRelativePosition(e),n="vertical"===this.orientation?this.maxHandlePos-(t-this.grabPos):t-this.grabPos;this.setPosition(n)},d.prototype.handleEnd=function(e){e.preventDefault(),this.$document.off(this.moveEvent,this.handleMove),this.$document.off(this.endEvent,this.handleEnd),this.$element.trigger("change",{origin:this.identifier}),this.onSlideEnd&&"function"==typeof this.onSlideEnd&&this.onSlideEnd(this.position,this.value)},d.prototype.cap=function(e,t,n){return e<t?t:e>n?n:e},d.prototype.setPosition=function(e,t){var n,r;void 0===t&&(t=!0),n=this.getValueFromPosition(this.cap(e,0,this.maxHandlePos)),r=this.getPositionFromValue(n),this.$fill[0].style[this.DIMENSION]=r+this.grabPos+"px",this.$handle[0].style[this.DIRECTION_STYLE]=r+"px",this.setValue(n),this.position=r,this.value=n,t&&this.onSlide&&"function"==typeof this.onSlide&&this.onSlide(r,n)},d.prototype.getPositionFromNode=function(e){for(var t=0;null!==e;)t+=e.offsetLeft,e=e.offsetParent;return t},d.prototype.getRelativePosition=function(e){var t=f(this.COORDINATE),n=this.$range[0].getBoundingClientRect()[this.DIRECTION],r=0;return e.originalEvent.touches&&e.originalEvent.touches[0]&&"undefined"!=typeof e.originalEvent.touches[0]["client"+t]?r=e.originalEvent.touches[0]["client"+t]:"undefined"!=typeof e["page"+t]?r=e["client"+t]:"undefined"!=typeof e.originalEvent["client"+t]?r=e.originalEvent["client"+t]:e.currentPoint&&"undefined"!=typeof e.currentPoint[this.COORDINATE]&&(r=e.currentPoint[this.COORDINATE]),r-n},d.prototype.getPositionFromValue=function(e){var t,n;return t=(e-this.min)/(this.max-this.min),n=Number.isNaN(t)?0:t*this.maxHandlePos},d.prototype.getValueFromPosition=function(e){var t,n;return t=e/(this.maxHandlePos||1),n=this.step*Math.round(t*(this.max-this.min)/this.step)+this.min,Number(n.toFixed(this.toFixed))},d.prototype.setValue=function(e){e===this.value&&""!==this.$element[0].value||this.$element.val(e).trigger("input",{origin:this.identifier})},d.prototype.destroy=function(){this.$document.off("."+this.identifier),this.$window.off("."+this.identifier),this.$element.off("."+this.identifier).removeAttr("style").removeData("plugin_"+m),this.$range&&this.$range.length&&this.$range[0].parentNode.removeChild(this.$range[0])},h.default.fn[m]=function(e){var t=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=(0,h.default)(this),r=n.data("plugin_"+m);r||n.data("plugin_"+m,r=new d(this,e)),"string"==typeof e&&r[e].apply(r,t)})},t.default=h.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(5),l=(r(s),n(10)),u=(r(l),n(18)),c=(r(u),n(34)),f=r(c),d=n(3),p=(r(d),function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),t}(f.default));t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(5),u=r(l),c=n(10),f=r(c),d=n(18),p=(r(d),n(114)),h=r(p),m=n(3),y=r(m),g=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"searchPromise",value:function(){var e=this;this.url=f.default.OneMapSearch;var t=y.default.appendUrlWithParams(this.url,{searchVal:this.searchText,returnGeom:"Y",getAddrDetails:"Y"}),n=function(t){var n=t.results;n=n.map(function(e,t){var n=[parseFloat(e.LATITUDE),parseFloat(e.LONGITUDE)];return{id:t,zoom:17,center:n,display:e.SEARCHVAL+", "+e.ADDRESS,geometry:y.default.toPointObject.apply(y.default,n)}}),e.deferred.resolve(n)},r={url:t,crossDomain:!0,dataType:"json",success:n,error:function(t){e.deferred.resolve([])}};return u.default.call(r),this.deferred.promise()}}]),t}(h.default);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(5),u=(r(l),n(3)),c=r(u),f=n(34),d=r(f),p=n(18),h=(r(p),n(52)),m=(r(h),n(7)),y=r(m),g=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"searchPromise",value:function(){var e=this,t=this.isLayerSearch();if(!t)return this.deferred.resolve([]),this.deferred.promise();var n=void 0,r=void 0,a=/^\[((?!.*\]$)[\/\w\.-]+)$/i;if(n=a.exec(this.searchText)){r=y.default.searchLayer(n[1]);var i=r.map(function(e,t){var n="["+e.getName()+"] ";return{replace:n,display:n}});return this.deferred.resolve(i),this.deferred.promise()}var o=!0;if(a=/^\[(.+)\](.+)$/i,n=a.exec(this.searchText),n&&n[2].trim().length>2){var s=y.default.getLayerByName(n[1]),l="["+s.getName()+"] ",u=n[2];if(s){var f=s.map.find(),d=s.getSearchObj(),p=14,h="OBJECTID";d&&(p=d.zoom||p,d.fields&&(h=d.fields||h,f.fields(h))),f.layers(s.getLayers()).text(u.trim().toUpperCase()).run(function(t,n,r){if(t)return void e.deferred.resolve([]);var a=n.features.map(function(e,t){var n=c.default.reversePolygonLatLng(e.geometry),r=c.default.getFeatureCenter(n);return{id:t,zoom:p,center:[r.lat,r.lng],display:l+e.properties[h],geometry:n}}).slice(0,10);e.deferred.resolve(a)}),o=!1}}return o&&this.deferred.resolve([]),this.deferred.promise()}}]),t}(d.default);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(14),u=r(l),c=n(9),f=r(c),d=n(15),p=(r(d),n(11)),h=r(p),m=n(70),y=r(m),g=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.manager=new y.default,e}return o(t,e),s(t,[{key:"getBookmarks",value:function(){return this.manager.getBookmarks()}},{key:"getBookmark",value:function(e){return this.manager.getBookmark(e)}},{key:"addBookmark",value:function(e,t,n){this.manager.add(e,t,n)}},{key:"removeBookmark",value:function(e){this.manager.remove(e)}},{key:"search",value:function(e){this.manager.search(e)}},{key:"clearSearch",value:function(){this.manager.clearSearch()}}]),t}(u.default),v=new g;v.dispatchToken=h.default.register(function(e){switch(e.actionType){case f.default.AddBookmark:v.addBookmark(e.name,e.center,e.zoom),v.emitChanges();break;case f.default.RemoveBookmark:v.removeBookmark(e.key),v.emitChanges();break;case f.default.SearchBookmark:v.search(e.searchText),v.emitChanges()}}),t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(6),s=r(o),l=n(17),u=r(l),c=n(41),f=r(c),d=n(112),p=(r(d),function(){function e(t){a(this,e),this.map=t,this.clusterLayer=null,this.imageData=[],this.photoList=[],this.markerClusterGroup=new L.MarkerClusterGroup({enablePhotoClusterMode:!0,spiderfyDistanceMultiplier:1.2,showCoverageOnHover:!1,spiderfyOnMaxZoom:!0,maxClusterRadius:140}),this.customDataType="",this.toggleMarker=null,this.tempMarker=null,this.triggerOnce=!0}return i(e,[{key:"initialize",value:function(){(0,f.default)(s.default)}},{key:"clearGeoPhotoLayer",value:function(){this.markerClusterGroup.clearLayers(),this.photoList=[]}},{key:"onClick",value:function(e){(0,s.default)(".fullscreen-photo").fancybox({autoSize:!0,fitToView:!0,openEffect:"none",closeEffect:"none",afterClose:function(){(0,s.default)(".fullscreen-photo").css("display","block")}})}},{key:"showGeoPhotoLayer",value:function(e,t){this.map.options.maxZoom=18,this.customDataType=t;var n=this;if("uat"==this.customDataType){this.markerClusterGroup.clearLayers(),this.photoList=[],this.imageData=e;for(var r=0;r<n.imageData.length;r++){var a=L.marker([n.imageData[r].LatLng.lat,n.imageData[r].LatLng.lng],{photo_url:n.imageData[r].Url}),i=n.imageData[r].DateTime;a.bindPopup(L.Util.template('<div width="auto" href="'+n.imageData[r].Url+'" class="fullscreen-photo" title="'+i+'"><span class="photo-cluster-zoom"><a><img src="'+n.imageData[r].Url+'" /></a></span>'+i+" </div>",this),{className:"leaflet-popup-photo",minWidth:400}).openPopup(),a.on("click",n.onClick),this.markerClusterGroup.addLayer(a),this.photoList.push(a)}this.map.addLayer(this.markerClusterGroup)}else if("custom"==this.customDataType){var n=this;if(1==u.default.getClusterStatus())null!=this.photoList&&this.photoList.map(function(t,r){if(t.options.photo_url==e[0].Url){var a=n.photoList[r];n.markerClusterGroup.zoomToShowLayer(a,function(){a.openPopup(),(0,s.default)(".fullscreen-photo").fancybox({autoSize:!0,fitToView:!0,openEffect:"none",closeEffect:"none",afterClose:function(){(0,s.default)(".fullscreen-photo").css("display","block")}});var e=new L.LatLng(a.getLatLng().lat,a.getLatLng().lng+.002),t=new L.LatLng(a.getLatLng().lat,a.getLatLng().lng),r=new L.LatLngBounds(e,t);n.map.fitBounds(r,{padding:[20,20],animate:!0,duration:.25,easeLinearity:.25})})}});else{this.markerClusterGroup.clearLayers(),this.photoList=[];var a=L.marker([e[0].LatLng.lat,e[0].LatLng.lng],{photo_url:e[0].Url}),i=e[0].DateTime;a.bindPopup(L.Util.template('<div width="auto" href="'+e[0].Url+'" class="fullscreen-photo" title="'+i+'"><span class="photo-cluster-zoom"><a><img src="'+e[0].Url+'" /></a></span>'+i+" </div>",this),{className:"leaflet-popup-photo",minWidth:400}).openPopup(),a.on("click",n.onClick),this.markerClusterGroup.addLayer(a),this.photoList.push(a),this.map.addLayer(this.markerClusterGroup);var o=n.photoList[0];n.markerClusterGroup.zoomToShowLayer(o,function(){o.openPopup(),(0,s.default)(".fullscreen-photo").fancybox({autoSize:!0,fitToView:!0,openEffect:"none",closeEffect:"none",afterClose:function(){(0,s.default)(".fullscreen-photo").css("display","block")}});var e=new L.LatLng(o.getLatLng().lat,o.getLatLng().lng+.002),t=new L.LatLng(o.getLatLng().lat,o.getLatLng().lng),r=new L.LatLngBounds(e,t);n.map.fitBounds(r,{padding:[20,20],animate:!0,duration:.25,easeLinearity:.25})})}}}}]),e}());t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),s=(r(o),n(45)),l=r(s),u=n(5),c=(r(u),n(10),function(){function e(t){a(this,e),this.defaultConfig=l.default.Mapbox.config,this.config={style:this.defaultConfig.style,center:this.defaultConfig.center,zoom:this.defaultConfig.zoom,bearing:this.defaultConfig.bearing,pitch:this.defaultConfig.pitch,maxBounds:this.defaultConfig.maxBounds},this.markers=[],this.map=null,this.layers=[]}return i(e,[{key:"initialize",value:function(){var e=this;this.map=new mapboxgl.Map({container:this.container,style:this.config.style,center:this.config.center,zoom:this.config.zoom,bearing:this.config.bearing,pitch:this.config.pitch,maxBounds:this.config.maxBounds}),this.map.addControl(new mapboxgl.NavigationControl),this.loadingInProgress(),this.map&&(this.map.off("load"),this.map.on("load",function(t){e.loadingComplete()}))}},{key:"reset",value:function(){this.map.remove(),this.config=this.defaultConfig,this.initialize()}},{key:"destroy",value:function(){this.map&&(this.map.remove(),this.map=null),this.loadingComplete()}},{key:"loadingInProgress",value:function(){document.getElementById("loading-div").style.display="block"}},{key:"loadingComplete",value:function(){var e=document.getElementById("loading-div");e&&(e.style.display="none")}},{key:"convertToLngLat",value:function(e){return Array.isArray(e)?e[0]>90?[e[0],e[1]]:[e[1],e[0]]:e}},{key:"isInitialized",value:function(){return!!this.map}},{key:"getMap",value:function(){return this.map}},{key:"flyTo",value:function(e){var t=this.convertToLngLat(e);this.map.flyTo({center:t})}},{key:"panTo",value:function(e){var t=this.convertToLngLat(e);this.map.panTo(t,{duration:0})}},{key:"addLayer",value:function(e){this.map.addLayer(e)}},{key:"getLayer",value:function(e){return this.map.getLayer(e)}},{key:"removeLayer",value:function(e){this.getLayer(e)&&this.map.removeLayer(e)}},{key:"addMarker",value:function(e,t){var n=document.createElement("div");n.className="marker",n.style.backgroundImage="url("+e.icon+")",n.style.width=e.width+"px",n.style.height=e.height+"px";var r=this.convertToLngLat(t);this.markers.push(new mapboxgl.Marker(n,{offset:[-15,-30]}).setLngLat(r).addTo(this.map))}},{key:"removeMarkers",value:function(){this.markers.forEach(function(e){e.remove()})}},{key:"setPopup",value:function(e,t){this.removePopup(),this.popup=new mapboxgl.Popup({closeButton:!0,closeOnClick:!0}),this.popup.setLngLat(e),this.popup.setHTML(t),this.popup.addTo(this.map)}},{key:"removePopup",value:function(){this.popup&&(this.popup.remove(),this.popup=null)}},{key:"setContainer",value:function(e){this.container=e}},{key:"getContainer",value:function(){return this.dom}},{key:"setStyle",value:function(e){this.config.style=e,this.config.center=this.getCenter(),this.config.zoom=this.getZoom(),this.config.bearing=this.getBearing(),this.config.pitch=this.getPitch(),this.map.remove(),this.initialize()}},{key:"getCenter",value:function(){return this.map.getCenter()}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"getBearing",value:function(){return this.map.getBearing()}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getBounds",value:function(){return this.map.getBounds()}}]),e}());t.default=new c},function(e,t,n){function r(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}try{var a=n(57)}catch(e){var a=n(57)}var i=/\s+/,o=Object.prototype.toString;e.exports=function(e){return new r(e)},r.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array(),n=a(t,e);return~n||t.push(e),this.el.className=t.join(" "),this},r.prototype.remove=function(e){if("[object RegExp]"==o.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=a(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},r.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},r.prototype.toggle=function(e,t){return this.list?("undefined"!=typeof t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):("undefined"!=typeof t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},r.prototype.array=function(){var e=this.el.getAttribute("class")||"",t=e.replace(/^\s+|\s+$/g,""),n=t.split(i);return""===n[0]&&n.shift(),n},r.prototype.has=r.prototype.contains=function(e){return this.list?this.list.contains(e):!!~a(this.array(),e)}},function(e,t){"use strict";function n(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete i.animationend.animation,"TransitionEvent"in window||delete i.transitionend.transition;for(var n in i)if(i.hasOwnProperty(n)){var r=i[n];for(var a in r)if(a in t){o.push(r[a]);break}}}function r(e,t,n){e.addEventListener(t,n,!1)}function a(e,t,n){e.removeEventListener(t,n,!1)}Object.defineProperty(t,"__esModule",{value:!0});var i={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},o=[];"undefined"!=typeof window&&"undefined"!=typeof document&&n();var s={addEndEventListener:function(e,t){return 0===o.length?void window.setTimeout(t,0):void o.forEach(function(n){r(e,n,t)})},endEvents:o,removeEndEventListener:function(e,t){0!==o.length&&o.forEach(function(n){a(e,n,t)})}};t.default=s,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=window.getComputedStyle(e,null),r="",a=0;a<h.length&&!(r=n.getPropertyValue(h[a]+t));a++);return r}function i(e){if(d){var t=parseFloat(a(e,"transition-delay"))||0,n=parseFloat(a(e,"transition-duration"))||0,r=parseFloat(a(e,"animation-delay"))||0,i=parseFloat(a(e,"animation-duration"))||0,o=Math.max(n+t,i+r);e.rcEndAnimTimeout=setTimeout(function(){e.rcEndAnimTimeout=null,e.rcEndListener&&e.rcEndListener()},1e3*o+200)}}function o(e){e.rcEndAnimTimeout&&(clearTimeout(e.rcEndAnimTimeout),e.rcEndAnimTimeout=null)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=n(121),u=r(l),c=n(120),f=r(c),d=0!==u.default.endEvents.length,p=["Webkit","Moz","O","ms"],h=["-webkit-","-moz-","-o-","ms-",""],m=function(e,t,n){var r="object"===("undefined"==typeof t?"undefined":s(t)),a=r?t.name:t,l=r?t.active:t+"-active",c=n,d=void 0,p=void 0,h=(0,f.default)(e);return n&&"[object Object]"===Object.prototype.toString.call(n)&&(c=n.end,d=n.start,p=n.active),e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),o(e),h.remove(a),h.remove(l),u.default.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,c&&c())},u.default.addEndEventListener(e,e.rcEndListener),d&&d(),h.add(a),e.rcAnimTimeout=setTimeout(function(){e.rcAnimTimeout=null,h.add(l),p&&setTimeout(p,0),i(e)},30),{stop:function(){e.rcEndListener&&e.rcEndListener()}}};m.style=function(e,t,n){e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),o(e),u.default.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,n&&n())},u.default.addEndEventListener(e,e.rcEndListener),e.rcAnimTimeout=setTimeout(function(){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);e.rcAnimTimeout=null,i(e)},0)},m.setTransition=function(e,t,n){var r=t,a=n;void 0===n&&(a=r,r=""),r=r||"",p.forEach(function(t){e.style[t+"Transition"+r]=a})},m.isCssAnimationSupported=d,t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){var a=o.default.clone(e),i={width:t.width,height:t.height};return r.adjustX&&a.left<n.left&&(a.left=n.left),r.resizeWidth&&a.left>=n.left&&a.left+i.width>n.right&&(i.width-=a.left+i.width-n.right),r.adjustX&&a.left+i.width>n.right&&(a.left=Math.max(n.right-i.width,n.left)),r.adjustY&&a.top<n.top&&(a.top=n.top),r.resizeHeight&&a.top>=n.top&&a.top+i.height>n.bottom&&(i.height-=a.top+i.height-n.bottom),r.adjustY&&a.top+i.height>n.bottom&&(a.top=Math.max(n.bottom-i.height,n.top)),o.default.mix(a,i)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=r(i);t.default=a,e.exports=t.default},function(e,t){"use strict";function n(e,t){var n=t.charAt(0),r=t.charAt(1),a=e.width,i=e.height,o=void 0,s=void 0;return o=e.left,s=e.top,"c"===n?s+=i/2:"b"===n&&(s+=i),"c"===r?o+=a/2:"r"===r&&(o+=a),{left:o,top:s}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,a){var i=void 0,s=void 0,l=void 0,u=void 0;return i={left:e.left,top:e.top},l=(0,o.default)(t,n[1]),u=(0,o.default)(e,n[0]),s=[u.left-l.left,u.top-l.top],{left:i.left-s[0]+r[0]-a[0],top:i.top-s[1]+r[1]-a[1]}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(124),o=r(i);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=void 0,n=void 0,r=void 0;if(o.default.isWindow(e)||9===e.nodeType){var a=o.default.getWindow(e);t={left:o.default.getWindowScrollLeft(a),top:o.default.getWindowScrollTop(a)},n=o.default.viewportWidth(a),r=o.default.viewportHeight(a)}else t=o.default.offset(e),n=o.default.outerWidth(e),r=o.default.outerHeight(e);return t.width=n,t.height=r,t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=r(i);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){for(var t={left:0,right:1/0,top:0,bottom:1/0},n=(0,l.default)(e),r=void 0,a=void 0,i=void 0,s=e.ownerDocument,u=s.defaultView||s.parentWindow,c=s.body,f=s.documentElement;n;){if(navigator.userAgent.indexOf("MSIE")!==-1&&0===n.clientWidth||n===c||n===f||"visible"===o.default.css(n,"overflow")){if(n===c||n===f)break}else{var d=o.default.offset(n);d.left+=n.clientLeft,d.top+=n.clientTop,t.top=Math.max(t.top,d.top),t.right=Math.min(t.right,d.left+n.clientWidth),t.bottom=Math.min(t.bottom,d.top+n.clientHeight),t.left=Math.max(t.left,d.left)}n=(0,l.default)(n)}return r=o.default.getWindowScrollLeft(u),a=o.default.getWindowScrollTop(u),t.left=Math.max(t.left,r),t.top=Math.max(t.top,a),i={width:o.default.viewportWidth(u),height:o.default.viewportHeight(u)},t.right=Math.min(t.right,r+i.width),t.bottom=Math.min(t.bottom,a+i.height),t.top>=0&&t.left>=0&&t.bottom>t.top&&t.right>t.left?t:null}Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=r(i),s=n(58),l=r(s);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return e.left<n.left||e.left+t.width>n.right}function i(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function o(e,t,n){return e.left>n.right||e.left+t.width<n.left}function s(e,t,n){return e.top>n.bottom||e.top+t.height<n.top}function l(e,t,n){var r=[];return h.default.each(e,function(e){r.push(e.replace(t,function(e){return n[e]}))}),r}function u(e,t){return e[t]=-e[t],e}function c(e,t){var n=void 0;return n=/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10),n||0}function f(e,t){e[0]=c(e[0],t.width),e[1]=c(e[1],t.height)}function d(e,t,n){var r=n.points,c=n.offset||[0,0],d=n.targetOffset||[0,0],p=n.overflow,m=n.target||t,y=n.source||e;c=[].concat(c),d=[].concat(d),p=p||{};var g={},_=0,E=(0,v.default)(y),S=(0,w.default)(y),C=(0,w.default)(m);f(c,S),f(d,C);var N=(0,k.default)(S,C,r,c,d),O=h.default.merge(S,N);if(E&&(p.adjustX||p.adjustY)){if(p.adjustX&&a(N,S,E)){var P=l(r,/[lr]/gi,{l:"r",r:"l"}),T=u(c,0),L=u(d,0),M=(0,k.default)(S,C,P,T,L);o(M,S,E)||(_=1,r=P,c=T,d=L)}if(p.adjustY&&i(N,S,E)){var A=l(r,/[tb]/gi,{t:"b",b:"t"}),B=u(c,1),I=u(d,1),D=(0,k.default)(S,C,A,B,I);s(D,S,E)||(_=1,r=A,c=B,d=I)}_&&(N=(0,k.default)(S,C,r,c,d),h.default.mix(O,N)),g.adjustX=p.adjustX&&a(N,S,E),g.adjustY=p.adjustY&&i(N,S,E),(g.adjustX||g.adjustY)&&(O=(0,b.default)(N,S,E,g))}return O.width!==S.width&&h.default.css(y,"width",h.default.width(y)+O.width-S.width),O.height!==S.height&&h.default.css(y,"height",h.default.height(y)+O.height-S.height),h.default.offset(y,{left:O.left,top:O.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform}),{points:r,offset:c,targetOffset:d,overflow:g}}Object.defineProperty(t,"__esModule",{value:!0});var p=n(23),h=r(p),m=n(58),y=r(m),g=n(127),v=r(g),_=n(123),b=r(_),E=n(126),w=r(E),S=n(125),k=r(S);d.__getOffsetParent=y.default,d.__getVisibleRectForElement=v.default,t.default=d,e.exports=t.default},function(e,t){"use strict";function n(){if(void 0!==c)return c;c="";var e=document.createElement("p").style,t="Transform";for(var n in f)n+t in e&&(c=n);return c}function r(){return n()?n()+"TransitionProperty":"transitionProperty"}function a(){return n()?n()+"Transform":"transform"}function i(e,t){var n=r();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function o(e,t){var n=a();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}function s(e){return e.style.transitionProperty||e.style[r()]}function l(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(a());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}function u(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(a());if(r&&"none"!==r){var i=void 0,s=r.match(d);if(s)s=s[1],i=s.split(",").map(function(e){return parseFloat(e,10)}),i[4]=t.x,i[5]=t.y,o(e,"matrix("+i.join(",")+")");else{var l=r.match(p)[1];i=l.split(",").map(function(e){return parseFloat(e,10)}),i[12]=t.x,i[13]=t.y,o(e,"matrix3d("+i.join(",")+")")}}else o(e,"translateX("+t.x+"px) translateY("+t.y+"px) translateZ(0)")}Object.defineProperty(t,"__esModule",{value:!0}),t.getTransformName=a,t.setTransitionProperty=i,t.getTransitionProperty=s,t.getTransformXY=l,t.setTransformXY=u;var c=void 0,f={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"},d=/matrix\((.*)\)/,p=/matrix3d\((.*)\)/},function(e,t,r){var a,i;(function(){function r(e){return!!e.exifdata}function o(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(e),r=n.length,a=new ArrayBuffer(r),i=new Uint8Array(a),o=0;o<r;o++)i[o]=n.charCodeAt(o);return a}function s(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},n.send()}function l(e,t){function n(n){var r=u(n),a=c(n);e.exifdata=r||{},e.iptcdata=a||{},t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src)){var r=o(e.src);n(r)}else if(/^blob\:/i.test(e.src)){var a=new FileReader;a.onload=function(e){n(e.target.result)},s(e.src,function(e){a.readAsArrayBuffer(e)})}else{var i=new XMLHttpRequest;i.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(i.response),i=null},i.open("GET",e.src,!0),i.responseType="arraybuffer",i.send(null)}else if(window.FileReader&&(e instanceof window.Blob||e instanceof window.File)){var a=new FileReader;a.onload=function(e){y&&console.log("Got file of length "+e.target.result.byteLength),n(e.target.result)},a.readAsArrayBuffer(e)}}function u(e){var t=new DataView(e);if(y&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return y&&console.log("Not a valid JPEG"),!1;for(var n,r=2,a=e.byteLength;r<a;){if(255!=t.getUint8(r))return y&&console.log("Not a valid marker at offset "+r+", found: "+t.getUint8(r)),!1;if(n=t.getUint8(r+1),y&&console.log(n),225==n)return y&&console.log("Found 0xFFE1 marker"),m(t,r+4,t.getUint16(r+2)-2);r+=2+t.getUint16(r+2)}}function c(e){var t=new DataView(e);if(y&&console.log("Got file of length "+e.byteLength),
255!=t.getUint8(0)||216!=t.getUint8(1))return y&&console.log("Not a valid JPEG"),!1;for(var n=2,r=e.byteLength,a=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};n<r;){if(a(t,n)){var i=t.getUint8(n+7);i%2!==0&&(i+=1),0===i&&(i=4);var o=n+8+i,s=t.getUint16(n+6+i);return f(e,o,s)}n++}}function f(e,t,n){for(var r,a,i,o,s,l=new DataView(e),u={},c=t;c<t+n;)28===l.getUint8(c)&&2===l.getUint8(c+1)&&(o=l.getUint8(c+2),o in w&&(i=l.getInt16(c+3),s=i+5,a=w[o],r=h(l,c+5,i),u.hasOwnProperty(a)?u[a]instanceof Array?u[a].push(r):u[a]=[u[a],r]:u[a]=r)),c++;return u}function d(e,t,n,r,a){var i,o,s,l=e.getUint16(n,!a),u={};for(s=0;s<l;s++)i=n+12*s+2,o=r[e.getUint16(i,!a)],!o&&y&&console.log("Unknown tag: "+e.getUint16(i,!a)),u[o]=p(e,i,t,n,a);return u}function p(e,t,n,r,a){var i,o,s,l,u,c,f=e.getUint16(t+2,!a),d=e.getUint32(t+4,!a),p=e.getUint32(t+8,!a)+n;switch(f){case 1:case 7:if(1==d)return e.getUint8(t+8,!a);for(i=d>4?p:t+8,o=[],l=0;l<d;l++)o[l]=e.getUint8(i+l);return o;case 2:return i=d>4?p:t+8,h(e,i,d-1);case 3:if(1==d)return e.getUint16(t+8,!a);for(i=d>2?p:t+8,o=[],l=0;l<d;l++)o[l]=e.getUint16(i+2*l,!a);return o;case 4:if(1==d)return e.getUint32(t+8,!a);for(o=[],l=0;l<d;l++)o[l]=e.getUint32(p+4*l,!a);return o;case 5:if(1==d)return u=e.getUint32(p,!a),c=e.getUint32(p+4,!a),s=new Number(u/c),s.numerator=u,s.denominator=c,s;for(o=[],l=0;l<d;l++)u=e.getUint32(p+8*l,!a),c=e.getUint32(p+4+8*l,!a),o[l]=new Number(u/c),o[l].numerator=u,o[l].denominator=c;return o;case 9:if(1==d)return e.getInt32(t+8,!a);for(o=[],l=0;l<d;l++)o[l]=e.getInt32(p+4*l,!a);return o;case 10:if(1==d)return e.getInt32(p,!a)/e.getInt32(p+4,!a);for(o=[],l=0;l<d;l++)o[l]=e.getInt32(p+8*l,!a)/e.getInt32(p+4+8*l,!a);return o}}function h(e,t,r){var a="";for(n=t;n<t+r;n++)a+=String.fromCharCode(e.getUint8(n));return a}function m(e,t){if("Exif"!=h(e,t,4))return y&&console.log("Not valid EXIF data! "+h(e,t,4)),!1;var n,r,a,i,o,s=t+6;if(18761==e.getUint16(s))n=!1;else{if(19789!=e.getUint16(s))return y&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getUint16(s+2,!n))return y&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var l=e.getUint32(s+4,!n);if(l<8)return y&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(s+4,!n)),!1;if(r=d(e,s,s+l,_,n),r.ExifIFDPointer){i=d(e,s,s+r.ExifIFDPointer,v,n);for(a in i){switch(a){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":i[a]=E[a][i[a]];break;case"ExifVersion":case"FlashpixVersion":i[a]=String.fromCharCode(i[a][0],i[a][1],i[a][2],i[a][3]);break;case"ComponentsConfiguration":i[a]=E.Components[i[a][0]]+E.Components[i[a][1]]+E.Components[i[a][2]]+E.Components[i[a][3]]}r[a]=i[a]}}if(r.GPSInfoIFDPointer){o=d(e,s,s+r.GPSInfoIFDPointer,b,n);for(a in o){switch(a){case"GPSVersionID":o[a]=o[a][0]+"."+o[a][1]+"."+o[a][2]+"."+o[a][3]}r[a]=o[a]}}return r}var y=!1,g=function(e){return e instanceof g?e:this instanceof g?void(this.EXIFwrapped=e):new g(e)};"undefined"!=typeof e&&e.exports&&(t=e.exports=g),t.EXIF=g;var v=g.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},_=g.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},b=g.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},E=g.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},w={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};g.getData=function(e,t){return!((e instanceof Image||e instanceof HTMLImageElement)&&!e.complete)&&(r(e)?t&&t.call(e):l(e,t),!0)},g.getTag=function(e,t){if(r(e))return e.exifdata[t]},g.getAllTags=function(e){if(!r(e))return{};var t,n=e.exifdata,a={};for(t in n)n.hasOwnProperty(t)&&(a[t]=n[t]);return a},g.pretty=function(e){if(!r(e))return"";var t,n=e.exifdata,a="";for(t in n)n.hasOwnProperty(t)&&(a+="object"==typeof n[t]?n[t]instanceof Number?t+" : "+n[t]+" ["+n[t].numerator+"/"+n[t].denominator+"]\r\n":t+" : ["+n[t].length+" values]\r\n":t+" : "+n[t]+"\r\n");return a},g.readFromBinaryFile=function(e){return u(e)},a=[],i=function(){return g}.apply(t,a),!(void 0!==i&&(e.exports=i))}).call(this)},function(e,t,n){"use strict";function r(e,t){for(var n=e;n.parentNode;)n=n.parentNode;var r=n.querySelectorAll(t);return Array.prototype.indexOf.call(r,e)!==-1}var a=n(178),i={addClass:function(e,t){return/\s/.test(t)?a(!1):void 0,t&&(e.classList?e.classList.add(t):i.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)?a(!1):void 0,t&&(e.classList?e.classList.remove(t):i.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?i.addClass:i.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)?a(!1):void 0,e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},matchesSelector:function(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(t){return r(e,t)};return n.call(e,t)}};e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){function n(){a&&(clearTimeout(a),a=null)}function r(){n(),a=setTimeout(e,t)}var a=void 0;return r.clear=n,r}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),s=n(13),l=r(s),u=n(128),c=r(u),f=n(61),d=r(f),p=n(134),h=r(p),m=o.default.createClass({displayName:"Align",propTypes:{childrenProps:i.PropTypes.object,align:i.PropTypes.object.isRequired,target:i.PropTypes.func,onAlign:i.PropTypes.func,monitorBufferTime:i.PropTypes.number,monitorWindowResize:i.PropTypes.bool,disabled:i.PropTypes.bool,children:i.PropTypes.any},getDefaultProps:function(){return{target:function(){return window},onAlign:function(){},monitorBufferTime:50,monitorWindowResize:!1,disabled:!1}},componentDidMount:function(){var e=this.props;this.forceAlign(),!e.disabled&&e.monitorWindowResize&&this.startMonitorWindowResize()},componentDidUpdate:function(e){var t=!1,n=this.props;if(!n.disabled)if(e.disabled||e.align!==n.align)t=!0;else{var r=e.target(),a=n.target();(0,h.default)(r)&&(0,h.default)(a)?t=!1:r!==a&&(t=!0)}t&&this.forceAlign(),n.monitorWindowResize&&!n.disabled?this.startMonitorWindowResize():this.stopMonitorWindowResize()},componentWillUnmount:function(){this.stopMonitorWindowResize()},startMonitorWindowResize:function(){this.resizeHandler||(this.bufferMonitor=a(this.forceAlign,this.props.monitorBufferTime),this.resizeHandler=(0,d.default)(window,"resize",this.bufferMonitor))},stopMonitorWindowResize:function(){this.resizeHandler&&(this.bufferMonitor.clear(),this.resizeHandler.remove(),this.resizeHandler=null)},forceAlign:function(){var e=this.props;if(!e.disabled){var t=l.default.findDOMNode(this);e.onAlign(t,(0,c.default)(t,e.target(),e.align))}},render:function(){var e=this.props,t=e.childrenProps,n=e.children,r=o.default.Children.only(n);if(t){var a={};for(var i in t)t.hasOwnProperty(i)&&(a[i]=this.props[t[i]]);return o.default.cloneElement(r,a)}return r}});t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(132),i=r(a);t.default=i.default,e.exports=t.default},function(e,t){"use strict";function n(e){return null!=e&&e==e.window}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=e.children;return u.default.isValidElement(t)&&!t.key?u.default.cloneElement(t,{key:m}):t}function o(){}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(1),u=r(l),c=n(137),f=n(136),d=r(f),p=n(59),h=r(p),m="rc_animate_"+Date.now(),y=u.default.createClass({displayName:"Animate",propTypes:{component:u.default.PropTypes.any,componentProps:u.default.PropTypes.object,animation:u.default.PropTypes.object,transitionName:u.default.PropTypes.oneOfType([u.default.PropTypes.string,u.default.PropTypes.object]),transitionEnter:u.default.PropTypes.bool,transitionAppear:u.default.PropTypes.bool,exclusive:u.default.PropTypes.bool,transitionLeave:u.default.PropTypes.bool,onEnd:u.default.PropTypes.func,onEnter:u.default.PropTypes.func,onLeave:u.default.PropTypes.func,onAppear:u.default.PropTypes.func,showProp:u.default.PropTypes.string},getDefaultProps:function(){return{animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:o,onEnter:o,onLeave:o,onAppear:o}},getInitialState:function(){return this.currentlyAnimatingKeys={},this.keysToEnter=[],this.keysToLeave=[],{children:(0,c.toArrayChildren)(i(this.props))}},componentDidMount:function(){var e=this,t=this.props.showProp,n=this.state.children;t&&(n=n.filter(function(e){return!!e.props[t]})),n.forEach(function(t){t&&e.performAppear(t.key)})},componentWillReceiveProps:function(e){var t=this;this.nextProps=e;var n=(0,c.toArrayChildren)(i(e)),r=this.props;r.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach(function(e){t.stop(e)});var o=r.showProp,s=this.currentlyAnimatingKeys,l=r.exclusive?(0,c.toArrayChildren)(i(r)):this.state.children,f=[];o?(l.forEach(function(e){var t=e&&(0,c.findChildInChildrenByKey)(n,e.key),r=void 0;r=t&&t.props[o]||!e.props[o]?t:u.default.cloneElement(t||e,a({},o,!0)),r&&f.push(r)}),n.forEach(function(e){e&&(0,c.findChildInChildrenByKey)(l,e.key)||f.push(e)})):f=(0,c.mergeChildren)(l,n),this.setState({children:f}),n.forEach(function(e){var n=e&&e.key;if(!e||!s[n]){var r=e&&(0,c.findChildInChildrenByKey)(l,n);if(o){var a=e.props[o];if(r){var i=(0,c.findShownChildInChildrenByKey)(l,n,o);!i&&a&&t.keysToEnter.push(n)}else a&&t.keysToEnter.push(n)}else r||t.keysToEnter.push(n)}}),l.forEach(function(e){var r=e&&e.key;if(!e||!s[r]){var a=e&&(0,c.findChildInChildrenByKey)(n,r);if(o){var i=e.props[o];if(a){var l=(0,c.findShownChildInChildrenByKey)(n,r,o);!l&&i&&t.keysToLeave.push(r)}else i&&t.keysToLeave.push(r)}else a||t.keysToLeave.push(r)}})},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performEnter:function(e){this.refs[e]&&(this.currentlyAnimatingKeys[e]=!0,this.refs[e].componentWillEnter(this.handleDoneAdding.bind(this,e,"enter")))},performAppear:function(e){this.refs[e]&&(this.currentlyAnimatingKeys[e]=!0,this.refs[e].componentWillAppear(this.handleDoneAdding.bind(this,e,"appear")))},handleDoneAdding:function(e,t){var n=this.props;if(delete this.currentlyAnimatingKeys[e],!n.exclusive||n===this.nextProps){var r=(0,c.toArrayChildren)(i(n));this.isValidChildByKey(r,e)?"appear"===t?h.default.allowAppearCallback(n)&&(n.onAppear(e),n.onEnd(e,!0)):h.default.allowEnterCallback(n)&&(n.onEnter(e),n.onEnd(e,!0)):this.performLeave(e)}},performLeave:function(e){this.refs[e]&&(this.currentlyAnimatingKeys[e]=!0,this.refs[e].componentWillLeave(this.handleDoneLeaving.bind(this,e)))},handleDoneLeaving:function(e){var t=this.props;if(delete this.currentlyAnimatingKeys[e],!t.exclusive||t===this.nextProps){var n=(0,c.toArrayChildren)(i(t));if(this.isValidChildByKey(n,e))this.performEnter(e);else{var r=function(){h.default.allowLeaveCallback(t)&&(t.onLeave(e),t.onEnd(e,!1))};this.isMounted()&&!(0,c.isSameChildren)(this.state.children,n,t.showProp)?this.setState({children:n},r):r()}}},isValidChildByKey:function(e,t){var n=this.props.showProp;return n?(0,c.findShownChildInChildrenByKey)(e,t,n):(0,c.findChildInChildrenByKey)(e,t)},stop:function(e){delete this.currentlyAnimatingKeys[e];var t=this.refs[e];t&&t.stop()},render:function(){var e=this.props;this.nextProps=e;var t=this.state.children,n=null;t&&(n=t.map(function(t){if(null===t||void 0===t)return t;if(!t.key)throw new Error("must set key for <rc-animate> children");return u.default.createElement(d.default,{key:t.key,ref:t.key,animation:e.animation,transitionName:e.transitionName,transitionEnter:e.transitionEnter,transitionAppear:e.transitionAppear,transitionLeave:e.transitionLeave},t)}));var r=e.component;if(r){var a=e;return"string"==typeof r&&(a=s({className:e.className,style:e.style},e.componentProps)),u.default.createElement(r,a,n)}return n[0]||null}});t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),o=r(i),s=n(13),l=r(s),u=n(122),c=r(u),f=n(59),d=r(f),p={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},h=o.default.createClass({displayName:"AnimateChild",propTypes:{children:o.default.PropTypes.any},componentWillUnmount:function(){this.stop()},componentWillEnter:function(e){d.default.isEnterSupported(this.props)?this.transition("enter",e):e()},componentWillAppear:function(e){d.default.isAppearSupported(this.props)?this.transition("appear",e):e()},componentWillLeave:function(e){d.default.isLeaveSupported(this.props)?this.transition("leave",e):e()},transition:function(e,t){var n=this,r=l.default.findDOMNode(this),i=this.props,o=i.transitionName,s="object"===("undefined"==typeof o?"undefined":a(o));this.stop();var f=function(){n.stopper=null,t()};if((u.isCssAnimationSupported||!i.animation[e])&&o&&i[p[e]]){var d=s?o[e]:o+"-"+e,h=d+"-active";s&&o[e+"Active"]&&(h=o[e+"Active"]),this.stopper=(0,c.default)(r,{name:d,active:h},f)}else this.stopper=i.animation[e](r,f)},stop:function(){var e=this.stopper;e&&(this.stopper=null,e.stop())},render:function(){return this.props.children}});t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=[];return f.default.Children.forEach(e,function(e){t.push(e)}),t}function i(e,t){var n=null;return e&&e.forEach(function(e){n||e&&e.key===t&&(n=e)}),n}function o(e,t,n){var r=null;return e&&e.forEach(function(e){if(e&&e.key===t&&e.props[n]){if(r)throw new Error("two child with same key for <rc-animate> children");r=e}}),r}function s(e,t,n){var r=0;return e&&e.forEach(function(e){r||(r=e&&e.key===t&&!e.props[n])}),r}function l(e,t,n){var r=e.length===t.length;return r&&e.forEach(function(e,a){var i=t[a];e&&i&&(e&&!i||!e&&i?r=!1:e.key!==i.key?r=!1:n&&e.props[n]!==i.props[n]&&(r=!1))}),r}function u(e,t){var n=[],r={},a=[];return e.forEach(function(e){e&&i(t,e.key)?a.length&&(r[e.key]=a,a=[]):a.push(e)}),t.forEach(function(e){e&&r.hasOwnProperty(e.key)&&(n=n.concat(r[e.key])),n.push(e)}),n=n.concat(a)}Object.defineProperty(t,"__esModule",{value:!0}),t.toArrayChildren=a,t.findChildInChildrenByKey=i,t.findShownChildInChildrenByKey=o,t.findHiddenChildInChildrenByKey=s,t.isSameChildren=l,t.mergeChildren=u;var c=n(1),f=r(c)},function(e,t,n){"use strict";e.exports=n(135)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=i,n=o,r=!0,s=u=void 0}},l=n(1),u=r(l),c=n(147),f=r(c),d=function(e){function t(e){a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.getStyleProperty=this.getStyleProperty.bind(this),this.state={isTooltipVisible:!1}}return i(t,e),o(t,[{key:"showTooltip",value:function(){this.setState({isTooltipVisible:!0})}},{key:"hideTooltip",value:function(){this.setState({isTooltipVisible:!1})}},{key:"getStyleProperty",value:function(e,t,n){var r=e?{bottom:n+"%"}:{left:n+"%"};return e&&t&&(r={top:n+"%"}),e===!1&&t===!0&&(r={right:n+"%"}),r}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.className,r=e.tipTransitionName,a=e.tipFormatter,i=e.vertical,o=e.offset,s=e.value,l=e.dragging,c=e.noTip,d=e.inverted,p=this.getStyleProperty(i,d,o),h=u.default.createElement("div",{className:n,style:p,onMouseUp:this.showTooltip.bind(this),onMouseEnter:this.showTooltip.bind(this),onMouseLeave:this.hideTooltip.bind(this)});if(c)return h;var m=l||this.state.isTooltipVisible;return u.default.createElement(f.default,{prefixCls:t.replace("slider","tooltip"),placement:"top",visible:m,overlay:u.default.createElement("span",null,a(s)),delay:0,transitionName:r},h)}}]),t}(u.default.Component);t.default=d,d.propTypes={prefixCls:u.default.PropTypes.string,className:u.default.PropTypes.string,vertical:u.default.PropTypes.bool,offset:u.default.PropTypes.number,tipTransitionName:u.default.PropTypes.string,tipFormatter:u.default.PropTypes.func,value:u.default.PropTypes.number,dragging:u.default.PropTypes.bool,noTip:u.default.PropTypes.bool,inverted:u.default.PropTypes.bool},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),s=r(o),l=n(40),u=r(l),c=function(e){var t=e.className,n=e.vertical,r=(e.inverted,e.marks),o=e.included,l=e.upperBound,c=e.lowerBound,f=e.max,d=e.min,p=Object.keys(r),h=p.length,m=100/(h-1),y=.9*m,g=f-d,v=p.map(parseFloat).sort(function(e,t){return e-t}).map(function(e){var f,p=!o&&e===l||o&&e<=l&&e>=c,h=(0,u.default)((f={},a(f,t+"-text",!0),a(f,t+"-text-active",p),f)),m={marginBottom:"-200%",bottom:(e-d)/g*100+"%"},v={width:y+"%",marginLeft:-y/2+"%",left:(e-d)/g*100+"%"},_=n?m:v,b=r[e],E="object"==typeof b&&!s.default.isValidElement(b),w=E?b.label:b,S=E?i({},_,b.style):_;return s.default.createElement("span",{className:h,style:S,key:e},w)});return s.default.createElement("div",{className:t},v)};t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return null}function l(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0}function u(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function c(e,t){return e?t.clientY:t.pageX}function f(e){e.stopPropagation(),e.preventDefault()}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=i,n=o,r=!0,s=u=void 0}},m=n(1),y=r(m),g=n(145),v=r(g),_=n(40),b=r(_),E=n(143),w=r(E),S=n(139),k=r(S),C=n(142),N=r(C),O=n(140),P=r(O),T=function(e){function t(e){i(this,t),h(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e);var n=e.range,r=e.min,a=e.max,o=n?[r,r]:r,s="defaultValue"in e?e.defaultValue:o,l=void 0!==e.value?e.value:s,u=void 0,c=void 0;e.range?(c=this.trimAlignValue(l[0]),u=this.trimAlignValue(l[1])):u=this.trimAlignValue(l);var f=void 0;f=e.range&&u===c&&c===a?"lowerBound":"upperBound",this.state={handle:null,recent:f,upperBound:u,lowerBound:c||r},this.getSliderStart=this.getSliderStart.bind(this),this.getPositionDifference=this.getPositionDifference.bind(this)}return o(t,e),p(t,[{key:"componentWillReceiveProps",value:function(e){if("value"in e||"min"in e||"max"in e){var t=this.state,n=t.lowerBound,r=t.upperBound;if(e.range){var a=e.value||[n,r],i=this.trimAlignValue(a[1],e),o=this.trimAlignValue(a[0],e);if(o===n&&i===r)return;this.setState({upperBound:i,lowerBound:o}),(this.isValueOutOfBounds(r,e)||this.isValueOutOfBounds(n,e))&&this.props.onChange([o,i])}else{var a=void 0!==e.value?e.value:r,s=this.trimAlignValue(a,e);if(s===r&&n===e.min)return;this.setState({upperBound:s,lowerBound:e.min}),this.isValueOutOfBounds(r,e)&&this.props.onChange(s)}}}},{key:"onChange",value:function(e){var t=this.props,n=!("value"in t);n?this.setState(e):e.handle&&this.setState({handle:e.handle});var r=d({},this.state,e),a=t.range?[r.lowerBound,r.upperBound]:r.upperBound;t.onChange(a)}},{key:"onMouseMove",value:function(e){var t=c(this.props.vertical,e);this.onMove(e,t)}},{key:"onTouchMove",value:function(e){if(l(e))return void this.end("touch");var t=u(this.props.vertical,e);this.onMove(e,t)}},{key:"xor",value:function(e,t,n){return e+t===1?-n:n}},{key:"getPositionDifference",value:function(e){var t=this.props,n=t.vertical,r=t.inverted;return n===r?e:-e}},{key:"onMove",value:function(e,t){f(e);var n=this.props,r=this.state,i=this.getPositionDifference(t-this.startPosition),o=i/this.getSliderLength()*(n.max-n.min),s=this.trimAlignValue(this.startValue+o),l=r[r.handle];if(s!==l)return n.allowCross&&s<r.lowerBound&&"upperBound"===r.handle?void this.onChange({handle:"lowerBound",lowerBound:s,upperBound:this.state.lowerBound}):n.allowCross&&s>r.upperBound&&"lowerBound"===r.handle?void this.onChange({handle:"upperBound",upperBound:s,lowerBound:this.state.upperBound}):void this.onChange(a({},r.handle,s))}},{key:"onTouchStart",value:function(e){if(!l(e)){var t=u(this.props.vertical,e);this.onStart(t),this.addDocumentEvents("touch"),f(e)}}},{key:"onMouseDown",value:function(e){if(0===e.button){var t=c(this.props.vertical,e);this.onStart(t),this.addDocumentEvents("mouse"),f(e)}}},{key:"onStart",value:function(e){var t=this.props;t.onBeforeChange(this.getValue());var n=this.calcValueByPos(e);this.startValue=n,this.startPosition=e;var r=this.state,i=r.upperBound,o=r.lowerBound,s="upperBound";if(this.props.range){var l=Math.abs(i-n)>Math.abs(o-n);l&&(s="lowerBound");var u=i===o;u&&(s=r.recent),u&&n!==i&&(s=n<i?"lowerBound":"upperBound")}this.setState({handle:s,recent:s});var c=r[s];n!==c&&this.onChange(a({},s,n))}},{key:"getValue",value:function(){var e=this.state,t=e.lowerBound,n=e.upperBound;return this.props.range?[t,n]:n}},{key:"getSliderLength",value:function(){var e=this.refs.slider;return e?this.props.vertical?e.clientHeight:e.clientWidth:0}},{key:"getSliderStart",value:function(){var e=this.refs.slider,t=e.getBoundingClientRect(),n=this.props,r=n.vertical,a=n.inverted,i=0;return r&&a?i=t.bottom:r&&a===!1?i=t.top:r===!1&&a?i=t.right:r===!1&&a===!1&&(i=t.left),i}},{key:"getPrecision",value:function(e){var t=e.toString(),n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n}},{key:"isValueOutOfBounds",value:function(e,t){return e<t.min||e>t.max}},{key:"trimAlignValue",value:function(e,t){var n=this.state||{},r=n.handle,a=n.lowerBound,i=n.upperBound,o=d({},this.props,t||{}),s=o.marks,l=o.step,u=o.min,c=o.max,f=o.allowCross,p=e;p<=u&&(p=u),p>=c&&(p=c),!f&&"upperBound"===r&&p<=a&&(p=a),!f&&"lowerBound"===r&&p>=i&&(p=i);var h=Object.keys(s).map(parseFloat);if(null!==l){var m=Math.round((p-u)/l)*l+u;h.push(m)}var y=h.map(function(e){return Math.abs(p-e)}),g=h[y.indexOf(Math.min.apply(Math,y))];return null!==l?parseFloat(g.toFixed(this.getPrecision(l))):g}},{key:"calcOffset",value:function(e){var t=this.props,n=t.min,r=t.max,a=(e-n)/(r-n);return 100*a}},{key:"calcValue",value:function(e){var t=this.props,n=t.vertical,r=t.min,a=t.max,i=Math.abs(e/this.getSliderLength()),o=n?(1-i)*(a-r)+r:i*(a-r)+r;return o}},{key:"calcValueByPos",value:function(e){var t=e-this.getSliderStart(),n=this.trimAlignValue(this.calcValue(t));return n}},{key:"addDocumentEvents",value:function(e){"touch"===e?(this.onTouchMoveListener=(0,v.default)(document,"touchmove",this.onTouchMove.bind(this)),this.onTouchUpListener=(0,v.default)(document,"touchend",this.end.bind(this,"touch"))):"mouse"===e&&(this.onMouseMoveListener=(0,v.default)(document,"mousemove",this.onMouseMove.bind(this)),this.onMouseUpListener=(0,v.default)(document,"mouseup",this.end.bind(this,"mouse")))}},{key:"removeEvents",value:function(e){"touch"===e?(this.onTouchMoveListener.remove(),this.onTouchUpListener.remove()):"mouse"===e&&(this.onMouseMoveListener.remove(),this.onMouseUpListener.remove())}},{key:"end",value:function(e){this.removeEvents(e),this.props.onAfterChange(this.getValue()),this.setState({handle:null})}},{key:"render",value:function(){var e,t,n,r=this.state,i=r.handle,o=r.upperBound,l=r.lowerBound,u=this.props,c=u.className,f=u.prefixCls,p=u.disabled,h=u.vertical,g=u.dots,v=u.included,_=u.range,E=u.step,S=u.marks,k=u.max,C=u.min,O=u.tipTransitionName,T=u.tipFormatter,L=u.children,M=u.inverted,A=u.tooltipData,B=u.tooltipName,I=u.handleStepsHover,D=u.stepToolTips,x=this.props.handle,U=this.calcOffset(o),R=this.calcOffset(l),j=f+"-handle",F=(0,
b.default)((e={},a(e,j,!0),a(e,j+"-upper",!0),e)),G=(0,b.default)((t={},a(t,j,!0),a(t,j+"-lower",!0),t)),H=null===E||null===T,Z={prefixCls:f,noTip:H,tipTransitionName:O,tipFormatter:T,vertical:h,inverted:M},W=(0,m.cloneElement)(x,d({},Z,{className:F,value:o,offset:U,dragging:"upperBound"===i})),V=null;_&&(V=(0,m.cloneElement)(x,d({},Z,{className:G,value:l,offset:R,dragging:"lowerBound"===i})));var z=(0,b.default)((n={},a(n,f,!0),a(n,f+"-disabled",p),a(n,c,!!c),a(n,f+"-vertical",this.props.vertical),a(n,f+"-inverted",this.props.inverted),n)),K=v||_;return y.default.createElement("div",{ref:"slider",className:z,onTouchStart:p?s:this.onTouchStart.bind(this),onMouseDown:p?s:this.onMouseDown.bind(this)},W,V,y.default.createElement(w.default,{className:f+"-track",vertical:h,included:K,offset:R,length:U-R,inverted:M}),y.default.createElement(N.default,{prefixCls:f,vertical:h,marks:S,dots:g,step:E,included:K,lowerBound:l,upperBound:o,max:k,min:C,inverted:M,tooltipData:A,tooltipName:B,stepToolTips:D,handleStepsHover:I}),y.default.createElement(P.default,{className:f+"-mark",vertical:h,marks:S,included:K,lowerBound:l,upperBound:o,max:k,min:C,inverted:M}),L)}}]),t}(y.default.Component);T.propTypes={min:y.default.PropTypes.number,max:y.default.PropTypes.number,step:y.default.PropTypes.number,defaultValue:y.default.PropTypes.oneOfType([y.default.PropTypes.number,y.default.PropTypes.arrayOf(y.default.PropTypes.number)]),value:y.default.PropTypes.oneOfType([y.default.PropTypes.number,y.default.PropTypes.arrayOf(y.default.PropTypes.number)]),marks:y.default.PropTypes.object,included:y.default.PropTypes.bool,className:y.default.PropTypes.string,prefixCls:y.default.PropTypes.string,disabled:y.default.PropTypes.bool,children:y.default.PropTypes.any,onBeforeChange:y.default.PropTypes.func,onChange:y.default.PropTypes.func,onAfterChange:y.default.PropTypes.func,handle:y.default.PropTypes.element,tipTransitionName:y.default.PropTypes.string,tipFormatter:y.default.PropTypes.func,dots:y.default.PropTypes.bool,range:y.default.PropTypes.bool,vertical:y.default.PropTypes.bool,inverted:y.default.PropTypes.bool,allowCross:y.default.PropTypes.bool,handleStepsHover:y.default.PropTypes.func,stepToolTips:y.default.PropTypes.func},T.defaultProps={prefixCls:"rc-slider",className:"",tipTransitionName:"",min:0,max:100,step:1,marks:{},handle:y.default.createElement(k.default,null),stepToolTips:s,handleStepsHover:s,onBeforeChange:s,onChange:s,onAfterChange:s,tipFormatter:function(e){return e},included:!0,disabled:!1,dots:!1,range:!1,vertical:!1,allowCross:!0,inverted:!1},t.default=T,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=i,n=o,r=!0,s=u=void 0}},u=n(1),c=r(u),f=n(40),d=r(f),p=n(164),h=r(p),m=function(e){function t(e){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={hover:!1},this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this)}return o(t,e),s(t,[{key:"onMouseEnter",value:function(e){this.setState({hover:!0}),this.props.handleStepsHover(e,!0)}},{key:"onMouseLeave",value:function(e){this.setState({hover:!1}),this.props.handleStepsHover(e,!1)}},{key:"getStyle",value:function(e,t,n){var r={};return e&&t?(r.top=n,r.buttom="auto"):e&&t===!1?(r.bottom=n,r.top="auto"):e===!1&&t?(r.right=n,r.left="auto"):e===!1&&t===!1&&(r.left=n,r.right="auto"),r}},{key:"calcPoints",value:function(e,t,n,r,a,i,o){(0,h.default)(!r||a>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var s=Object.keys(n).map(parseFloat);if(r)for(var l=i;l<=o;l+=a)s.indexOf(l)>=0||s.push(l);return s}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.vertical,i=t.marks,o=t.dots,s=t.step,l=t.included,u=t.lowerBound,f=t.upperBound,p=t.max,h=t.min,m=t.inverted,y=t.stepToolTips,g=p-h,v=this.calcPoints(r,m,i,o,s,h,p).map(function(t){var i,o=Math.abs(t-h)/g*100+"%",s=e.getStyle(r,m,o),p=!l&&t===f||l&&t<=f&&t>=u,v=(0,d.default)((i={},a(i,n+"-dot",!0),a(i,n+"-dot-active",p),i)),_="function"==typeof y?y(t):"";return c.default.createElement("span",{className:v,style:s,key:t,onMouseEnter:e.onMouseEnter.bind(e),onMouseLeave:e.onMouseLeave.bind(e)},_)});return c.default.createElement("div",{className:n+"-step"},v)}}]),t}(u.Component);t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),o=function(e){var t=e.className,n=e.included,r=e.vertical,a=e.inverted,o=e.offset,s=e.length,l={visibility:n?"visible":"hidden"};return r?l.height=s+"%":l.width=s+"%",r&&a?(l.top=o+"%",l.buttom="auto"):r&&a===!1?(l.bottom=o+"%",l.top="auto"):r===!1&&a?(l.right=o+"%",l.left="auto"):r===!1&&a===!1&&(l.left=o+"%",l.right="auto"),i.default.createElement("div",{className:t,style:l})};t.default=o,e.exports=t.default},function(e,t,n){"use strict";e.exports=n(141)},61,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),s=r(o),l=n(148),u=n(152),c=r(u),f=s.default.createClass({displayName:"Tooltip",propTypes:{trigger:o.PropTypes.any,children:o.PropTypes.any,defaultVisible:o.PropTypes.bool,visible:o.PropTypes.bool,placement:o.PropTypes.string,transitionName:o.PropTypes.string,animation:o.PropTypes.any,onVisibleChange:o.PropTypes.func,afterVisibleChange:o.PropTypes.func,overlay:o.PropTypes.oneOfType([s.default.PropTypes.node,s.default.PropTypes.func]).isRequired,overlayStyle:o.PropTypes.object,overlayClassName:o.PropTypes.string,prefixCls:o.PropTypes.string,mouseEnterDelay:o.PropTypes.number,mouseLeaveDelay:o.PropTypes.number,getTooltipContainer:o.PropTypes.func,destroyTooltipOnHide:o.PropTypes.bool,align:o.PropTypes.object,arrowContent:o.PropTypes.any},getDefaultProps:function(){return{prefixCls:"rc-tooltip",mouseEnterDelay:0,destroyTooltipOnHide:!1,mouseLeaveDelay:.1,align:{},placement:"right",trigger:["hover"],arrowContent:null}},getPopupElement:function(){var e=this.props,t=e.arrowContent,n=e.overlay,r=e.prefixCls;return[s.default.createElement("div",{className:r+"-arrow",key:"arrow"},t),s.default.createElement("div",{className:r+"-inner",key:"content"},"function"==typeof n?n():n)]},getPopupDomNode:function(){return this.refs.trigger.getPopupDomNode()},render:function(){var e=this.props,t=e.overlayClassName,n=e.trigger,r=e.mouseEnterDelay,o=e.mouseLeaveDelay,u=e.overlayStyle,f=e.prefixCls,d=e.children,p=e.onVisibleChange,h=e.transitionName,m=e.animation,y=e.placement,g=e.align,v=e.destroyTooltipOnHide,_=e.defaultVisible,b=e.getTooltipContainer,E=a(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer"]),w=i({},E);return"visible"in this.props&&(w.popupVisible=this.props.visible),s.default.createElement(c.default,i({popupClassName:t,ref:"trigger",prefixCls:f,popup:this.getPopupElement,action:n,builtinPlacements:l.placements,popupPlacement:y,popupAlign:g,getPopupContainer:b,onPopupVisibleChange:p,popupTransitionName:h,popupAnimation:m,defaultPopupVisible:_,destroyPopupOnHide:v,mouseLeaveDelay:o,popupStyle:u,mouseEnterDelay:r},w),d)}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";e.exports=n(146)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={adjustX:1,adjustY:1},r=[0,0],a=t.placements={left:{points:["cr","cl"],overflow:n,offset:[-4,0],targetOffset:r},right:{points:["cl","cr"],overflow:n,offset:[4,0],targetOffset:r},top:{points:["bc","tc"],overflow:n,offset:[0,-4],targetOffset:r},bottom:{points:["tc","bc"],overflow:n,offset:[0,4],targetOffset:r},topLeft:{points:["bl","tl"],overflow:n,offset:[0,-4],targetOffset:r},leftTop:{points:["tr","tl"],overflow:n,offset:[-4,0],targetOffset:r},topRight:{points:["br","tr"],overflow:n,offset:[0,-4],targetOffset:r},rightTop:{points:["tl","tr"],overflow:n,offset:[4,0],targetOffset:r},bottomRight:{points:["tr","br"],overflow:n,offset:[0,4],targetOffset:r},rightBottom:{points:["bl","br"],overflow:n,offset:[4,0],targetOffset:r},bottomLeft:{points:["tl","bl"],overflow:n,offset:[0,4],targetOffset:r},leftBottom:{points:["br","bl"],overflow:n,offset:[-4,0],targetOffset:r}};t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(38),i=r(a),o=n(1),s=r(o),l=n(13),u=r(l),c=n(133),f=r(c),d=n(138),p=r(d),h=n(150),m=r(h),y=n(60),g=r(y),v=s.default.createClass({displayName:"Popup",propTypes:{visible:o.PropTypes.bool,style:o.PropTypes.object,getClassNameFromAlign:o.PropTypes.func,onAlign:o.PropTypes.func,getRootDomNode:o.PropTypes.func,onMouseEnter:o.PropTypes.func,align:o.PropTypes.any,destroyPopupOnHide:o.PropTypes.bool,className:o.PropTypes.string,prefixCls:o.PropTypes.string,onMouseLeave:o.PropTypes.func},componentDidMount:function(){this.rootNode=this.getPopupDomNode()},onAlign:function(e,t){var n=this.props,r=n.getClassNameFromAlign(n.align),a=n.getClassNameFromAlign(t);r!==a&&(this.currentAlignClassName=a,e.className=this.getClassName(a)),n.onAlign(e,t)},getPopupDomNode:function(){return u.default.findDOMNode(this.refs.popup)},getTarget:function(){return this.props.getRootDomNode()},getMaskTransitionName:function(){var e=this.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t},getTransitionName:function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t},getClassName:function(e){return this.props.prefixCls+" "+this.props.className+" "+e},getPopupElement:function(){var e=this.props,t=e.align,n=e.style,r=e.visible,a=e.prefixCls,o=e.destroyPopupOnHide,l=this.getClassName(this.currentAlignClassName||e.getClassNameFromAlign(t)),u=a+"-hidden";r||(this.currentAlignClassName=null);var c=(0,i.default)({},n,this.getZIndexStyle()),d={className:l,prefixCls:a,ref:"popup",onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,style:c};return o?s.default.createElement(p.default,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName()},r?s.default.createElement(f.default,{target:this.getTarget,key:"popup",ref:this.saveAlign,monitorWindowResize:!0,align:t,onAlign:this.onAlign},s.default.createElement(m.default,(0,i.default)({visible:!0},d),e.children)):null):s.default.createElement(p.default,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName(),showProp:"xVisible"},s.default.createElement(f.default,{target:this.getTarget,key:"popup",ref:this.saveAlign,monitorWindowResize:!0,xVisible:r,childrenProps:{visible:"xVisible"},disabled:!r,align:t,onAlign:this.onAlign},s.default.createElement(m.default,(0,i.default)({hiddenClassName:u},d),e.children)))},getZIndexStyle:function(){var e={},t=this.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),e},getMaskElement:function(){var e=this.props,t=void 0;if(e.mask){var n=this.getMaskTransitionName();t=s.default.createElement(g.default,{style:this.getZIndexStyle(),key:"mask",className:e.prefixCls+"-mask",hiddenClassName:e.prefixCls+"-mask-hidden",visible:e.visible}),n&&(t=s.default.createElement(p.default,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},t))}return t},saveAlign:function(e){this.alignInstance=e},render:function(){return s.default.createElement("div",null,this.getMaskElement(),this.getPopupElement())}});t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),o=n(60),s=r(o),l=i.default.createClass({displayName:"PopupInner",propTypes:{hiddenClassName:a.PropTypes.string,className:a.PropTypes.string,prefixCls:a.PropTypes.string,onMouseEnter:a.PropTypes.func,onMouseLeave:a.PropTypes.func,children:a.PropTypes.any},render:function(){var e=this.props,t=e.className;return e.visible||(t+=" "+e.hiddenClassName),i.default.createElement("div",{className:t,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,style:e.style},i.default.createElement(s.default,{className:e.prefixCls+"-content",visible:e.visible},e.children))}});t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){}function i(){return""}function o(){return window.document}Object.defineProperty(t,"__esModule",{value:!0});var s=n(38),l=r(s),u=n(1),c=r(u),f=n(13),d=r(f),p=n(154),h=r(p),m=n(61),y=r(m),g=n(149),v=r(g),_=n(153),b=n(155),E=r(b),w=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"],S=c.default.createClass({displayName:"Trigger",propTypes:{children:u.PropTypes.any,action:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.arrayOf(u.PropTypes.string)]),showAction:u.PropTypes.any,hideAction:u.PropTypes.any,getPopupClassNameFromAlign:u.PropTypes.any,onPopupVisibleChange:u.PropTypes.func,afterPopupVisibleChange:u.PropTypes.func,popup:u.PropTypes.oneOfType([u.PropTypes.node,u.PropTypes.func]).isRequired,popupStyle:u.PropTypes.object,prefixCls:u.PropTypes.string,popupClassName:u.PropTypes.string,popupPlacement:u.PropTypes.string,builtinPlacements:u.PropTypes.object,popupTransitionName:u.PropTypes.string,popupAnimation:u.PropTypes.any,mouseEnterDelay:u.PropTypes.number,mouseLeaveDelay:u.PropTypes.number,zIndex:u.PropTypes.number,focusDelay:u.PropTypes.number,blurDelay:u.PropTypes.number,getPopupContainer:u.PropTypes.func,getDocument:u.PropTypes.func,destroyPopupOnHide:u.PropTypes.bool,mask:u.PropTypes.bool,maskClosable:u.PropTypes.bool,onPopupAlign:u.PropTypes.func,popupAlign:u.PropTypes.object,popupVisible:u.PropTypes.bool,maskTransitionName:u.PropTypes.string,maskAnimation:u.PropTypes.string},mixins:[(0,E.default)({autoMount:!1,isVisible:function(e){return e.state.popupVisible},getContainer:function(e){var t=e.props,n=document.createElement("div");n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%";var r=t.getPopupContainer?t.getPopupContainer((0,f.findDOMNode)(e)):t.getDocument().body;return r.appendChild(n),n}})],getDefaultProps:function(){return{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:i,getDocument:o,onPopupVisibleChange:a,afterPopupVisibleChange:a,onPopupAlign:a,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[]}},getInitialState:function(){var e=this.props,t=void 0;return t="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,{popupVisible:t}},componentWillMount:function(){var e=this;w.forEach(function(t){e["fire"+t]=function(n){e.fireEvents(t,n)}})},componentDidMount:function(){this.componentDidUpdate({},{popupVisible:this.state.popupVisible})},componentWillReceiveProps:function(e){var t=e.popupVisible;void 0!==t&&this.setState({popupVisible:t})},componentDidUpdate:function(e,t){var n=this.props,r=this.state;if(this.renderComponent(null,function(){t.popupVisible!==r.popupVisible&&n.afterPopupVisibleChange(r.popupVisible)}),r.popupVisible){var a=void 0;return!this.clickOutsideHandler&&this.isClickToHide()&&(a=n.getDocument(),this.clickOutsideHandler=(0,y.default)(a,"mousedown",this.onDocumentClick)),void(this.touchOutsideHandler||(a=a||n.getDocument(),this.touchOutsideHandler=(0,y.default)(a,"touchstart",this.onDocumentClick)))}this.clearOutsideHandler()},componentWillUnmount:function(){this.clearDelayTimer(),this.clearOutsideHandler()},onMouseEnter:function(e){this.fireEvents("onMouseEnter",e),this.delaySetPopupVisible(!0,this.props.mouseEnterDelay)},onMouseLeave:function(e){this.fireEvents("onMouseLeave",e),this.delaySetPopupVisible(!1,this.props.mouseLeaveDelay)},onPopupMouseEnter:function(){this.clearDelayTimer()},onPopupMouseLeave:function(e){e.relatedTarget&&!e.relatedTarget.setTimeout&&this._component&&(0,h.default)(this._component.getPopupDomNode(),e.relatedTarget)||this.delaySetPopupVisible(!1,this.props.mouseLeaveDelay)},onFocus:function(e){this.fireEvents("onFocus",e),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.props.focusDelay))},onMouseDown:function(e){this.fireEvents("onMouseDown",e),this.preClickTime=Date.now()},onTouchStart:function(e){this.fireEvents("onTouchStart",e),this.preTouchTime=Date.now()},onBlur:function(e){this.fireEvents("onBlur",e),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.props.blurDelay)},onClick:function(e){if(this.fireEvents("onClick",e),this.focusTime){var t=void 0;if(this.preClickTime&&this.preTouchTime?t=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?t=this.preClickTime:this.preTouchTime&&(t=this.preTouchTime),Math.abs(t-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,e.preventDefault();var n=!this.state.popupVisible;(this.isClickToHide()&&!n||n&&this.isClickToShow())&&this.setPopupVisible(!this.state.popupVisible)},onDocumentClick:function(e){if(!this.props.mask||this.props.maskClosable){var t=e.target,n=(0,f.findDOMNode)(this),r=this.getPopupDomNode();(0,h.default)(n,t)||(0,h.default)(r,t)||this.close()}},getPopupDomNode:function(){return this._component&&this._component.isMounted()?this._component.getPopupDomNode():null},getRootDomNode:function(){return d.default.findDOMNode(this)},getPopupClassNameFromAlign:function(e){var t=[],n=this.props,r=n.popupPlacement,a=n.builtinPlacements,i=n.prefixCls;return r&&a&&t.push((0,_.getPopupClassNameFromAlign)(a,i,e)),n.getPopupClassNameFromAlign&&t.push(n.getPopupClassNameFromAlign(e)),t.join(" ")},getPopupAlign:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?(0,_.getAlignFromPlacement)(r,t,n):n},getComponent:function(){var e=this.props,t=this.state,n={};return this.isMouseEnterToShow()&&(n.onMouseEnter=this.onPopupMouseEnter),this.isMouseLeaveToHide()&&(n.onMouseLeave=this.onPopupMouseLeave),c.default.createElement(v.default,(0,l.default)({prefixCls:e.prefixCls,destroyPopupOnHide:e.destroyPopupOnHide,visible:t.popupVisible,className:e.popupClassName,action:e.action,align:this.getPopupAlign(),onAlign:e.onPopupAlign,animation:e.popupAnimation,getClassNameFromAlign:this.getPopupClassNameFromAlign},n,{getRootDomNode:this.getRootDomNode,style:e.popupStyle,mask:e.mask,zIndex:e.zIndex,transitionName:e.popupTransitionName,maskAnimation:e.maskAnimation,maskTransitionName:e.maskTransitionName}),"function"==typeof e.popup?e.popup():e.popup)},setPopupVisible:function(e){this.clearDelayTimer(),this.state.popupVisible!==e&&("popupVisible"in this.props||this.setState({popupVisible:e}),this.props.onPopupVisibleChange(e))},delaySetPopupVisible:function(e,t){var n=this,r=1e3*t;this.clearDelayTimer(),r?this.delayTimer=setTimeout(function(){n.setPopupVisible(e),n.clearDelayTimer()},r):this.setPopupVisible(e)},clearDelayTimer:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},clearOutsideHandler:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire"+e]:t[e]||n[e]},isClickToShow:function(){var e=this.props,t=e.action,n=e.showAction;return t.indexOf("click")!==-1||n.indexOf("click")!==-1},isClickToHide:function(){var e=this.props,t=e.action,n=e.hideAction;return t.indexOf("click")!==-1||n.indexOf("click")!==-1},isMouseEnterToShow:function(){var e=this.props,t=e.action,n=e.showAction;return t.indexOf("hover")!==-1||n.indexOf("mouseEnter")!==-1},isMouseLeaveToHide:function(){var e=this.props,t=e.action,n=e.hideAction;return t.indexOf("hover")!==-1||n.indexOf("mouseLeave")!==-1},isFocusToShow:function(){var e=this.props,t=e.action,n=e.showAction;return t.indexOf("focus")!==-1||n.indexOf("focus")!==-1},isBlurToHide:function(){var e=this.props,t=e.action,n=e.hideAction;return t.indexOf("focus")!==-1||n.indexOf("blur")!==-1},forcePopupAlign:function(){this.state.popupVisible&&this.popupInstance&&this.popupInstance.alignInstance&&this.popupInstance.alignInstance.forceAlign()},fireEvents:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)},close:function(){this.setPopupVisible(!1)},render:function(){var e=this.props,t=e.children,n=c.default.Children.only(t),r={};return this.isClickToHide()||this.isClickToShow()?(r.onClick=this.onClick,r.onMouseDown=this.onMouseDown,r.onTouchStart=this.onTouchStart):(r.onClick=this.createTwoChains("onClick"),r.onMouseDown=this.createTwoChains("onMouseDown"),r.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?r.onMouseEnter=this.onMouseEnter:r.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?r.onMouseLeave=this.onMouseLeave:r.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(r.onFocus=this.onFocus,r.onBlur=this.onBlur):(r.onFocus=this.createTwoChains("onFocus"),r.onBlur=this.createTwoChains("onBlur")),c.default.cloneElement(n,r)}});t.default=S,e.exports=t.default},function(e,t,n){"use strict";e.exports=n(151)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return e[0]===t[0]&&e[1]===t[1]}function i(e,t,n){var r=e[t]||{};return(0,l.default)({},r,n)}function o(e,t,n){var r=n.points;for(var i in e)if(e.hasOwnProperty(i)&&a(e[i].points,r))return t+"-placement-"+i;return""}Object.defineProperty(t,"__esModule",{value:!0});var s=n(38),l=r(s);t.getAlignFromPlacement=i,t.getPopupClassNameFromAlign=o},function(e,t){"use strict";function n(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=document.createElement("div");return document.body.appendChild(e),e}function i(e){function t(e,t,n){if(!c||e._component||c(e)){e._container||(e._container=p(e));var r=void 0;r=e.getComponent?e.getComponent(t):f(e,t),l.default.unstable_renderSubtreeIntoContainer(e,r,e._container,function(){e._component=this,n&&n.call(this)})}}function n(e){if(e._container){var t=e._container;l.default.unmountComponentAtNode(t),t.parentNode.removeChild(t),e._container=null}}var r=e.autoMount,i=void 0===r||r,s=e.autoDestroy,u=void 0===s||s,c=e.isVisible,f=e.getComponent,d=e.getContainer,p=void 0===d?a:d,h=void 0;return i&&(h=o({},h,{componentDidMount:function(){t(this)},componentDidUpdate:function(){t(this)}})),i&&u||(h=o({},h,{renderComponent:function(e,n){t(this,e,n)}})),h=u?o({},h,{componentWillUnmount:function(){n(this)}}):o({},h,{removeContainer:function(){n(this)}})}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var s=n(13),l=r(s);e.exports=t.default},function(e,t,n){e.exports=n(158)},function(e,t,n){"use strict";var r=n(176);t.getReactDOM=function(){return r}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var s=n(42),l=n(39),u=n(162),c=n(159),f=function(e){function t(){var n,i,o;r(this,t);for(var s=arguments.length,u=Array(s),f=0;f<s;f++)u[f]=arguments[f];return n=i=a(this,e.call.apply(e,[this].concat(u))),i._wrapChild=function(e){return l.createElement(c,{name:i.props.transitionName,appear:i.props.transitionAppear,enter:i.props.transitionEnter,leave:i.props.transitionLeave,appearTimeout:i.props.transitionAppearTimeout,enterTimeout:i.props.transitionEnterTimeout,leaveTimeout:i.props.transitionLeaveTimeout},e)},o=n,a(i,o)}return i(t,e),t.prototype.render=function(){return l.createElement(u,s({},this.props,{childFactory:this._wrapChild}))},t}(l.Component);f.displayName="ReactCSSTransitionGroup",f.propTypes={transitionName:c.propTypes.name,transitionAppear:l.PropTypes.bool,transitionEnter:l.PropTypes.bool,transitionLeave:l.PropTypes.bool,transitionAppearTimeout:o("Appear"),transitionEnterTimeout:o("Enter"),transitionLeaveTimeout:o("Leave")},f.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},e.exports=f},function(e,t,n){"use strict";var r=n(39),a=n(157),i=n(131),o=n(161),s=n(173),l=17,u=r.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.shape({enter:r.PropTypes.string,leave:r.PropTypes.string,active:r.PropTypes.string}),r.PropTypes.shape({enter:r.PropTypes.string,enterActive:r.PropTypes.string,leave:r.PropTypes.string,leaveActive:r.PropTypes.string,appear:r.PropTypes.string,appearActive:r.PropTypes.string})]).isRequired,appear:r.PropTypes.bool,enter:r.PropTypes.bool,leave:r.PropTypes.bool,appearTimeout:r.PropTypes.number,enterTimeout:r.PropTypes.number,leaveTimeout:r.PropTypes.number},transition:function(e,t,n){var r=a.getReactDOM().findDOMNode(this);if(!r)return void(t&&t());var s=this.props.name[e]||this.props.name+"-"+e,l=this.props.name[e+"Active"]||s+"-active",u=null,c=function(e){e&&e.target!==r||(clearTimeout(u),i.removeClass(r,s),i.removeClass(r,l),o.removeEndEventListener(r,c),t&&t())};i.addClass(r,s),this.queueClassAndNode(l,r),n?(u=setTimeout(c,n),this.transitionTimeouts.push(u)):o.addEndEventListener(r,c)},queueClassAndNode:function(e,t){this.classNameAndNodeQueue.push({className:e,node:t}),this.timeout||(this.timeout=setTimeout(this.flushClassNameAndNodeQueue,l))},flushClassNameAndNodeQueue:function(){this.isMounted()&&this.classNameAndNodeQueue.forEach(function(e){i.addClass(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return s(this.props.children)}});e.exports=u},function(e,t,n){"use strict";var r=n(163),a={getChildMapping:function(e,t){return e?r(e):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},a=[];for(var i in e)t.hasOwnProperty(i)?a.length&&(r[i]=a,a=[]):a.push(i);var o,s={};for(var l in t){if(r.hasOwnProperty(l))for(o=0;o<r[l].length;o++){var u=r[l][o];s[r[l][o]]=n(u)}s[l]=n(l)}for(o=0;o<a.length;o++)s[a[o]]=n(a[o]);return s}};e.exports=a},function(e,t,n){"use strict";function r(){var e=s("animationend"),t=s("transitionend");e&&l.push(e),t&&l.push(t)}function a(e,t,n){e.addEventListener(t,n,!1)}function i(e,t,n){e.removeEventListener(t,n,!1)}var o=n(169),s=n(177),l=[];o.canUseDOM&&r();var u={addEndEventListener:function(e,t){return 0===l.length?void window.setTimeout(t,0):void l.forEach(function(n){a(e,n,t)})},removeEndEventListener:function(e,t){0!==l.length&&l.forEach(function(n){i(e,n,t)})}};e.exports=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(42),s=n(39),l=n(160),u=n(172),c=function(e){function t(){var n,i,s;r(this,t);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return n=i=a(this,e.call.apply(e,[this].concat(c))),i.state={children:l.getChildMapping(i.props.children)},i.performAppear=function(e){i.currentlyTransitioningKeys[e]=!0;var t=i.refs[e];t.componentWillAppear?t.componentWillAppear(i._handleDoneAppearing.bind(i,e)):i._handleDoneAppearing(e)},i._handleDoneAppearing=function(e){var t=i.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete i.currentlyTransitioningKeys[e];var n=l.getChildMapping(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e)},i.performEnter=function(e){i.currentlyTransitioningKeys[e]=!0;var t=i.refs[e];t.componentWillEnter?t.componentWillEnter(i._handleDoneEntering.bind(i,e)):i._handleDoneEntering(e)},i._handleDoneEntering=function(e){var t=i.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete i.currentlyTransitioningKeys[e];var n=l.getChildMapping(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e)},i.performLeave=function(e){i.currentlyTransitioningKeys[e]=!0;var t=i.refs[e];t.componentWillLeave?t.componentWillLeave(i._handleDoneLeaving.bind(i,e)):i._handleDoneLeaving(e)},i._handleDoneLeaving=function(e){var t=i.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete i.currentlyTransitioningKeys[e];var n=l.getChildMapping(i.props.children);n&&n.hasOwnProperty(e)?i.performEnter(e):i.setState(function(t){var n=o({},t.children);return delete n[e],
{children:n}})},s=n,a(i,s)}return i(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},t.prototype.componentWillReceiveProps=function(e){var t=l.getChildMapping(e.children),n=this.state.children;this.setState({children:l.mergeChildMappings(n,t)});var r;for(r in t){var a=n&&n.hasOwnProperty(r);!t[r]||a||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var i=t&&t.hasOwnProperty(r);!n[r]||i||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},t.prototype.componentDidUpdate=function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},t.prototype.render=function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(s.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}var r=o({},this.props);return delete r.transitionLeave,delete r.transitionName,delete r.transitionAppear,delete r.transitionEnter,delete r.childFactory,delete r.transitionLeaveTimeout,delete r.transitionEnterTimeout,delete r.transitionAppearTimeout,delete r.component,s.createElement(this.props.component,r,e)},t}(s.Component);c.displayName="ReactTransitionGroup",c.propTypes={component:s.PropTypes.any,childFactory:s.PropTypes.func},c.defaultProps={component:"span",childFactory:u.thatReturnsArgument},e.exports=c},function(e,t,n){(function(t){"use strict";function r(e,t,n,r){if(e&&"object"==typeof e){var a=e,i=void 0===a[n];i&&null!=t&&(a[n]=t)}}function a(e,t){if(null==e)return e;var n={};return i(e,r,n),n}var i=(n(170),n(174));n(180);e.exports=a}).call(t,n(168))},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){e.exports=n(24)(1032)},function(e,t,n){e.exports=n(24)(1033)},function(e,t,n){e.exports=n(43)(1071)},function(e,t,n){e.exports=n(4)(110)},function(e,t,n){e.exports=n(4)(15)},function(e,t,n){e.exports=n(4)(150)},function(e,t,n){e.exports=n(4)(154)},function(e,t,n){e.exports=n(4)(16)},function(e,t,n){e.exports=n(4)(160)},function(e,t,n){e.exports=n(4)(161)},function(e,t,n){e.exports=n(43)(212)},function(e,t,n){e.exports=n(4)(287)},function(e,t,n){e.exports=n(4)(335)},function(e,t,n){e.exports=n(4)(5)},function(e,t,n){e.exports=n(184)(596)},function(e,t,n){e.exports=n(4)(6)},function(e,t,n){e.exports=n(4)(784)},function(e,t,n){e.exports=n(27)(788)},function(e,t,n){e.exports=n(24)(972)},function(e,t){e.exports=vendor2},function(e,t){e.exports=vendor6}]));
//# sourceMappingURL=main-built.js.map